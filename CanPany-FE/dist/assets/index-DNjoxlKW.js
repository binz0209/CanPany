import{b as e,r as n,u as r,L as s,N as a,c as o,d as i,O as l,e as c,f as u,g as d,h,i as m,j as f,B as g}from"./router-C9ETpYF5.js";import{r as x,a as b,g as y}from"./vendor-DOHx2j1n.js";import{c as v,R as w,L as j,C as N,X as S,Y as k,T as C,a as _,b as E,B as T,d as P,A,e as I,P as L,f as D,g as R}from"./charts-C1cmaB6W.js";import{M,S as O,U as z,a as F,L as U,X as $,b as H,W as B,c as V,d as q,F as W,e as K,C as G,R as Q,D as X,P as Y,f as J,g as Z,T as ee,E as te,h as ne}from"./ui-B458ubr2.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var re,se,ae={exports:{}},oe={};var ie,le,ce,ue,de=(se||(se=1,ae.exports=function(){if(re)return oe;re=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==n.key&&(s=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:s,ref:void 0!==n?n:null,props:r}}return oe.Fragment=t,oe.jsx=n,oe.jsxs=n,oe}()),ae.exports),he={exports:{}},me={},fe={exports:{}},pe={};function ge(){return le||(le=1,fe.exports=(ie||(ie=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var i=2*(r+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var l=[],c=[],u=1,d=null,h=3,m=!1,f=!1,p=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function w(e){if(p=!1,v(e),!f)if(null!==n(l))f=!0,N||(N=!0,j());else{var t=n(c);null!==t&&A(w,t.startTime-e)}}var j,N=!1,S=-1,k=5,C=-1;function _(){return!(!g&&e.unstable_now()-C<k)}function E(){if(g=!1,N){var t=e.unstable_now();C=t;var s=!0;try{e:{f=!1,p&&(p=!1,b(S),S=-1),m=!0;var a=h;try{t:{for(v(t),d=n(l);null!==d&&!(d.expirationTime>t&&_());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var i=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof i){d.callback=i,v(t),s=!0;break t}d===n(l)&&r(l),v(t)}else r(l);d=n(l)}if(null!==d)s=!0;else{var u=n(c);null!==u&&A(w,u.startTime-t),s=!1}}break e}finally{d=null,h=a,m=!1}s=void 0}}finally{s?j():N=!1}}}if("function"==typeof y)j=function(){y(E)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,P=T.port2;T.port1.onmessage=E,j=function(){P.postMessage(null)}}else j=function(){x(E,0)};function A(t,n){S=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(p?(b(S),S=-1):p=!0,A(w,a-o))):(r.sortIndex=i,t(l,r),f||m||(f=!0,N||(N=!0,j()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(pe)),pe)),fe.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function xe(){if(ce)return me;ce=1;var e=ge(),t=x(),n=b();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function i(e){if(a(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case p:return"Profiler";case f:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case v:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return A(e(t))}catch(n){}}return null}var I=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},M=[],O=-1;function z(e){return{current:e}}function F(e){0>O||(e.current=M[O],M[O]=null,O--)}function U(e,t){O++,M[O]=e.current,e.current=t}var $=z(null),H=z(null),B=z(null),V=z(null);function q(e,t){switch(U(B,t),U(H,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F($),U($,e)}function W(){F($),F(H),F(B)}function K(e){null!==e.memoizedState&&U(V,e);var t=$.current,n=id(t,e.type);t!==n&&(U(H,e),U($,n))}function G(e){H.current===e&&(F($),F(H)),V.current===e&&(F(V),Xd._currentValue=R)}var Q=Object.prototype.hasOwnProperty,X=e.unstable_scheduleCallback,Y=e.unstable_cancelCallback,J=e.unstable_shouldYield,Z=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,ne=e.unstable_ImmediatePriority,re=e.unstable_UserBlockingPriority,se=e.unstable_NormalPriority,ae=e.unstable_LowPriority,oe=e.unstable_IdlePriority,ie=e.log,le=e.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"==typeof ie&&le(e),de&&"function"==typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/xe|0)|0},pe=Math.log,xe=Math.LN2;var be=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var i=134217727&r;return 0!==i?0!==(r=i&~a)?s=ve(r):0!==(o&=i)?s=ve(o):n||0!==(n=i&~e)&&(s=ve(n)):0!==(i=r&~a)?s=ve(i):0!==o?s=ve(o):n||0!==(n=r&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(n=t&-t)||32===a&&4194048&n)?t:s}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function ke(){var e=ye;return!(62914560&(ye<<=1))&&(ye=4194304),e}function Ce(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ie(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Le=Math.random().toString(36).slice(2),De="__reactFiber$"+Le,Re="__reactProps$"+Le,Me="__reactContainer$"+Le,Oe="__reactEvents$"+Le,ze="__reactListeners$"+Le,Fe="__reactHandles$"+Le,Ue="__reactResources$"+Le,$e="__reactMarker$"+Le;function He(e){delete e[De],delete e[Re],delete e[Oe],delete e[ze],delete e[Fe]}function Be(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[De]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function We(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[$e]=!0}var Ge=new Set,Qe={};function Xe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Je,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(s=t,Q.call(nt,s)||!Q.call(tt,s)&&(et.test(s)?nt[s]=!0:(tt[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ze}var it=!1;function lt(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"==typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],i=a[1];if(o&&i){var l=o.split("\n"),c=i.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return ot("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function xt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,s,a,o,i){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,dt(t)):null!=n?vt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+dt(i):e.removeAttribute("name")}function yt(e,t,n,r,s,a,o,i){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:s)&&"symbol"!=typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function jt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,s){if(null==t){if(null!=s){if(null!=n)throw Error(r(92));if(I(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(s=e.textContent)===n&&""!==s&&null!==s&&(e.value=s)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var s in n)!n.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var a in t)s=t[a],t.hasOwnProperty(a)&&n[a]!==s&&Ct(e,a,s)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function Mt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=s[Re]||null;if(!a)throw Error(r(90));bt(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(s=n[t]).form===e.form&&ft(s)}break e;case"textarea":jt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ot=!1;function zt(e,t,n){if(Ot)return e(t,n);Ot=!0;try{return e(t)}finally{if(Ot=!1,(null!==Dt||null!==Rt)&&(Bc(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var s=n[Re]||null;if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Rh){$t=!1}var Bt=null,Vt=null,qt=null;function Wt(){if(qt)return qt;var e,t,n=Vt,r=n.length,s="value"in Bt?Bt.value:Bt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[a-t];t++);return qt=s.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Xt(e){function t(t,n,r,s,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Jt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Xt(en),nn=c({},en,{view:0,detail:0}),rn=Xt(nn),sn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Yt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Yt=0,Zt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),an=Xt(sn),on=Xt(c({},sn,{dataTransfer:0})),ln=Xt(c({},nn,{relatedTarget:0})),cn=Xt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function gn(){return pn}var xn=Xt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Xt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Xt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),jn=Xt(c({},en,{newState:0,oldState:0})),Nn=[9,13,27,32],Sn=Ut&&"CompositionEvent"in window,kn=null;Ut&&"documentMode"in document&&(kn=document.documentMode);var Cn=Ut&&"TextEvent"in window&&!kn,_n=Ut&&(!Sn||kn&&8<kn&&11>=kn),En=String.fromCharCode(32),Tn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Wu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,On=null;function zn(e){zu(e,0)}function Fn(e){if(ft(qe(e)))return e}function Un(e,t){if("change"===e)return t}var $n=!1;if(Ut){var Hn;if(Ut){var Bn="oninput"in document;if(!Bn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Bn="function"==typeof Vn.oninput}Hn=Bn}else Hn=!1;$n=Hn&&(!document.documentMode||9<document.documentMode)}function qn(){Mn&&(Mn.detachEvent("onpropertychange",Wn),On=Mn=null)}function Wn(e){if("value"===e.propertyName&&Fn(On)){var t=[];Rn(t,On,e,Lt(e)),zt(zn,t)}}function Kn(e,t,n){"focusin"===e?(qn(),On=n,(Mn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&qn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(On)}function Qn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Yn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,ir=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ar||ar!==pt(r)||("selectionStart"in(r=ar)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Jn(ir,r)||(ir=r,0<(r=Wu(or,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},mr={};function fr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return hr[e]=n[t];return e}Ut&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=fr("animationend"),gr=fr("animationiteration"),xr=fr("animationstart"),br=fr("transitionrun"),yr=fr("transitionstart"),vr=fr("transitioncancel"),wr=fr("transitionend"),jr=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){jr.set(e,t),Xe(t,[e])}Nr.push("scrollEnd");var kr=new WeakMap;function Cr(e,t){if("object"==typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},kr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var _r=[],Er=0,Tr=0;function Pr(){for(var e=Er,t=Tr=Er=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var s=_r[t];_r[t++]=null;var a=_r[t];if(_r[t++]=null,null!==r&&null!==s){var o=r.pending;null===o?s.next=s:(s.next=o.next,o.next=s),r.pending=s}0!==a&&Dr(n,s,a)}}function Ar(e,t,n,r){_r[Er++]=e,_r[Er++]=t,_r[Er++]=n,_r[Er++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Lr(e,t){return Ar(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-fe(n),null===(r=(e=a.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Dc)throw Dc=0,Rc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Or(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $r(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,s,a,o){var i=0;if(s=e,"function"==typeof e)Fr(e)&&(i=1);else if("string"==typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,a)).elementType=C,e.lanes=o,e;case m:return Br(n.children,a,o,t);case f:i=8,a|=24;break;case p:return(e=zr(12,n,t,2|a)).elementType=p,e.lanes=o,e;case j:return(e=zr(13,n,t,a)).elementType=j,e.lanes=o,e;case N:return(e=zr(19,n,t,a)).elementType=N,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case v:i=10;break e;case y:i=9;break e;case w:i=11;break e;case S:i=14;break e;case k:i=16,s=null;break e}i=29,n=Error(r(130,null===e?"null":typeof e,"")),s=null}return(t=zr(i,n,t,a)).elementType=e,t.type=s,t.lanes=o,t}function Br(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Kr=0,Gr=null,Qr=0,Xr=[],Yr=0,Jr=null,Zr=1,es="";function ts(e,t){Wr[Kr++]=Qr,Wr[Kr++]=Gr,Gr=e,Qr=t}function ns(e,t,n){Xr[Yr++]=Zr,Xr[Yr++]=es,Xr[Yr++]=Jr,Jr=e;var r=Zr;e=es;var s=32-fe(r)-1;r&=~(1<<s),n+=1;var a=32-fe(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zr=1<<32-fe(t)+s|n<<s|r,es=a+e}else Zr=1<<a|n<<s|r,es=e}function rs(e){null!==e.return&&(ts(e,1),ns(e,1,0))}function ss(e){for(;e===Gr;)Gr=Wr[--Kr],Wr[Kr]=null,Qr=Wr[--Kr],Wr[Kr]=null;for(;e===Jr;)Jr=Xr[--Yr],Xr[Yr]=null,es=Xr[--Yr],Xr[Yr]=null,Zr=Xr[--Yr],Xr[Yr]=null}var as=null,os=null,is=!1,ls=null,cs=!1,us=Error(r(519));function ds(e){throw xs(Cr(Error(r(418,"")),e)),us}function hs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Mu.length;n++)Fu(Mu[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),mt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Nt(t,r.value,r.defaultValue,r.children),mt(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||ds(e)}function ms(e){for(as=e.return;as;)switch(as.tag){case 5:case 13:return void(cs=!1);case 27:case 3:return void(cs=!0);default:as=as.return}}function fs(e){if(e!==as)return!1;if(!is)return ms(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&os&&ds(e),ms(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){os=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}os=null}}else 27===n?(n=os,pd(e.type)?(e=vd,vd=null,os=e):os=n):os=as?yd(e.stateNode.nextSibling):null;return!0}function ps(){os=as=null,is=!1}function gs(){var e=ls;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ls=null),e}function xs(e){null===ls?ls=[e]:ls.push(e)}var bs=z(null),ys=null,vs=null;function ws(e,t,n){U(bs,t._currentValue),t._currentValue=n}function js(e){e._currentValue=bs.current,F(bs)}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t,n,s){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var i=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o.return,n,e),s||(i=null);break e}o=l.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ns(i,n,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function ks(e,t,n,s){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var l=a.type;Yn(a.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(a===V.current){if(null===(i=a.alternate))throw Error(r(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}a=a.return}null!==e&&Ss(t,e,n,s),t.flags|=262144}function Cs(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ys=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Es(e){return Ps(ys,e)}function Ts(e,t){return null===ys&&_s(e),Ps(e,t)}function Ps(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(r(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var As="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Is=e.unstable_scheduleCallback,Ls=e.unstable_NormalPriority,Ds={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new As,data:new Map,refCount:0}}function Ms(e){e.refCount--,0===e.refCount&&Is(Ls,function(){e.controller.abort()})}var Os=null,zs=0,Fs=0,Us=null;function $s(){if(0===--zs&&null!==Os){null!==Us&&(Us.status="fulfilled");var e=Os;Os=null,Fs=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Hs=L.S;L.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Os){var n=Os=[];zs=0,Fs=Au(),Us={status:"pending",value:void 0,then:function(e){n.push(e)}}}zs++,t.then($s,$s)}(0,t),null!==Hs&&Hs(e,t)};var Bs=z(null);function Vs(){var e=Bs.current;return null!==e?e:ac.pooledCache}function qs(e,t){U(Bs,null===t?Bs.current:t.pool)}function Ws(){var e=Vs();return null===e?null:{parent:Ds._currentValue,pool:e}}var Ks=Error(r(460)),Gs=Error(r(474)),Qs=Error(r(542)),Xs={then:function(){}};function Ys(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Js(){}function Zs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Js,Js),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e;default:if("string"==typeof t.status)t.then(Js,Js);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw na(e=t.reason),e}throw ea=t,Ks}}var ea=null;function ta(){if(null===ea)throw Error(r(459));var e=ea;return ea=null,e}function na(e){if(e===Ks||e===Qs)throw Error(r(483))}var ra=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&sc){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function la(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ca(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?s=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function da(){if(ua){if(null!==Us)throw Us}}function ha(e,t,n,r){ua=!1;var s=e.updateQueue;ra=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var l=i,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===i?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=l))}if(null!==a){var h=s.baseState;for(o=0,d=u=l=null,i=a;;){var m=-536870913&i.lane,f=m!==i.lane;if(f?(ic&m)===m:(r&m)===m){0!==m&&m===Fs&&(ua=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var p=e,g=i;m=t;var x=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(x,h,m);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(m="function"==typeof(p=g.payload)?p.call(x,h,m):p))break e;h=c({},h,m);break e;case 2:ra=!0}}null!==(m=i.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[m]:f.push(m))}else f={lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=f,l=h):d=d.next=f,o|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(f=i).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===d&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,null===a&&(s.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=h}}function ma(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ma(n[e],t)}var pa=z(null),ga=z(0);function xa(e,t){U(ga,e=mc),U(pa,t),mc=e|t.baseLanes}function ba(){U(ga,mc),U(pa,pa.current)}function ya(){mc=ga.current,F(pa),F(ga)}var va=0,wa=null,ja=null,Na=null,Sa=!1,ka=!1,Ca=!1,_a=0,Ea=0,Ta=null,Pa=0;function Aa(){throw Error(r(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function La(e,t,n,r,s,a){return va=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?Go:Qo,Ca=!1,a=n(r,s),Ca=!1,ka&&(a=Ra(t,n,r,s)),Da(e),a}function Da(e){L.H=Ko;var t=null!==ja&&null!==ja.next;if(va=0,Na=ja=wa=null,Sa=!1,Ea=0,Ta=null,t)throw Error(r(300));null===e||Ti||null!==(e=e.dependencies)&&Cs(e)&&(Ti=!0)}function Ra(e,t,n,s){wa=e;var a=0;do{if(ka&&(Ta=null),Ea=0,ka=!1,25<=a)throw Error(r(301));if(a+=1,Na=ja=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}L.H=Xo,o=t(n,s)}while(ka);return o}function Ma(){var e=L.H,t=e.useState()[0];return t="function"==typeof t.then?Ha(t):t,e=e.useState()[0],(null!==ja?ja.memoizedState:null)!==e&&(wa.flags|=1024),t}function Oa(){var e=0!==_a;return _a=0,e}function za(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}va=0,Na=ja=wa=null,ka=!1,Ea=_a=0,Ta=null}function Ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Na?wa.memoizedState=Na=e:Na=Na.next=e,Na}function $a(){if(null===ja){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=ja.next;var t=null===Na?wa.memoizedState:Na.next;if(null!==t)Na=t,ja=e;else{if(null===e){if(null===wa.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ja=e).memoizedState,baseState:ja.baseState,baseQueue:ja.baseQueue,queue:ja.queue,next:null},null===Na?wa.memoizedState=Na=e:Na=Na.next=e}return Na}function Ha(e){var t=Ea;return Ea+=1,null===Ta&&(Ta=[]),e=Zs(Ta,e,t),t=wa,null===(null===Na?t.memoizedState:Na.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?Go:Qo),e}function Ba(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ha(e);if(e.$$typeof===v)return Es(e)}throw Error(r(438,String(e)))}function Va(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function qa(e,t){return"function"==typeof t?t(e):t}function Wa(e){return Ka($a(),ja,e)}function Ka(e,t,n){var s=e.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=n;var a=e.baseQueue,o=s.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}t.baseQueue=a=o,s.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=i=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ic&h)===h:(va&h)===h){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fs&&(d=!0);else{if((va&m)===m){u=u.next,m===Fs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,i=o):c=c.next=h,wa.lanes|=m,pc|=m}h=u.action,Ca&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=m,i=o):c=c.next=m,wa.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?i=o:c.next=l,!Yn(o,e.memoizedState)&&(Ti=!0,d&&null!==(n=Us)))throw n;e.memoizedState=o,e.baseState=i,e.baseQueue=c,s.lastRenderedState=o}return null===a&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ga(e){var t=$a(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);Yn(o,t.memoizedState)||(Ti=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function Qa(e,t,n){var s=wa,a=$a(),o=is;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var i=!Yn((ja||a).memoizedState,n);if(i&&(a.memoizedState=n,Ti=!0),a=a.queue,yo(2048,8,Ja.bind(null,s,a,e),[e]),a.getSnapshot!==t||i||null!==Na&&1&Na.memoizedState.tag){if(s.flags|=2048,go(9,{destroy:void 0,resource:void 0},Ya.bind(null,s,a,n,t),null),null===ac)throw Error(r(349));o||124&va||Xa(s,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&eo(e)}function Ja(e,t,n){return n(function(){Za(t)&&eo(e)})}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function eo(e){var t=Lr(e,2);null!==t&&zc(t,e,2)}function to(e){var t=Ua();if("function"==typeof e){var n=e;if(e=n(),Ca){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function no(e,t,n,r){return e.baseState=n,Ka(e,ja,"function"==typeof r?r:qa)}function ro(e,t,n,s,a){if(Vo(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==L.T?n(!0):o.isTransition=!1,s(o),null===(n=t.pending)?(o.next=t.pending=o,so(t,o)):(o.next=n.next,t.pending=n.next=o)}}function so(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var a=L.T,o={};L.T=o;try{var i=n(s,r),l=L.S;null!==l&&l(o,i),ao(e,t,i)}catch(c){io(e,t,c)}finally{L.T=a}}else try{ao(e,t,a=n(s,r))}catch(u){io(e,t,u)}}function ao(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){oo(e,t,n)},function(n){return io(e,t,n)}):oo(e,t,n)}function oo(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,so(e,n)))}function io(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,lo(t),t=t.next}while(t!==r)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(is){var n=ac.formState;if(null!==n){e:{var r=wa;if(is){if(os){t:{for(var s=os,a=cs;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=yd(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){os=yd(s.nextSibling),r="F!"===s.data;break e}}ds(r)}r=!1}r&&(t=n[0])}}return(n=Ua()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=r,n=$o.bind(null,wa,r),r.dispatch=n,r=to(!1),a=Bo.bind(null,wa,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Ua()).queue=s,n=ro.bind(null,wa,s,a,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ho(e){return mo($a(),ja,e)}function mo(e,t,n){if(t=Ka(e,t,co)[0],e=Wa(qa)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Ha(t)}catch(o){if(o===Ks)throw Qs;throw o}else r=t;var s=(t=$a()).queue,a=s.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,go(9,{destroy:void 0,resource:void 0},fo.bind(null,s,n),null)),[r,a,e]}function fo(e,t){e.action=t}function po(e){var t=$a(),n=ja;if(null!==n)return mo(t,n,e);$a(),t=t.memoizedState;var r=(n=$a()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function go(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xo(){return $a().memoizedState}function bo(e,t,n,r){var s=Ua();r=void 0===r?null:r,wa.flags|=e,s.memoizedState=go(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var s=$a();r=void 0===r?null:r;var a=s.memoizedState.inst;null!==ja&&null!==r&&Ia(r,ja.memoizedState.deps)?s.memoizedState=go(t,a,n,r):(wa.flags|=e,s.memoizedState=go(1|t,a,n,r))}function vo(e,t){bo(8390656,8,e,t)}function wo(e,t){yo(2048,8,e,t)}function jo(e,t){return yo(4,2,e,t)}function No(e,t){return yo(4,4,e,t)}function So(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,n){n=null!=n?n.concat([e]):null,yo(4,4,So.bind(null,t,e),n)}function Co(){}function _o(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Eo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ia(t,r[1]))return r[0];if(r=e(),Ca){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function To(e,t,n){return void 0===n||1073741824&va?e.memoizedState=t:(e.memoizedState=n,e=Oc(),wa.lanes|=e,pc|=e,n)}function Po(e,t,n,r){return Yn(n,t)?n:null!==pa.current?(e=To(e,n,r),Yn(e,t)||(Ti=!0),e):42&va?(e=Oc(),wa.lanes|=e,pc|=e,t):(Ti=!0,e.memoizedState=n)}function Ao(e,t,n,r,s){var a=D.p;D.p=0!==a&&8>a?a:8;var o,i,l,c=L.T,u={};L.T=u,Bo(e,!1,t,n);try{var d=s(),h=L.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)Ho(e,t,(o=r,i=[],l={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},d.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<i.length;e++)(0,i[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),l),Mc());else Ho(e,t,r,Mc())}catch(m){Ho(e,t,{then:function(){},status:"rejected",reason:m},Mc())}finally{D.p=a,L.T=c}}function Io(){}function Lo(e,t,n,s){if(5!==e.tag)throw Error(r(476));var a=Do(e).queue;Ao(e,a,t,R,null===n?Io:function(){return Ro(e),n(s)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ro(e){Ho(e,Do(e).next.queue,{},Mc())}function Mo(){return Es(Xd)}function Oo(){return $a().memoizedState}function zo(){return $a().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=ia(t,e=oa(n),n);return null!==r&&(zc(r,t,n),la(r,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Uo(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vo(e)?qo(t,n):null!==(n=Ir(e,t,n,r))&&(zc(n,e,r),Wo(n,t,r))}function $o(e,t,n){Ho(e,t,n,Mc())}function Ho(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vo(e))qo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,Yn(i,o))return Ar(e,t,s,0),null===ac&&Pr(),!1}catch(l){}if(null!==(n=Ir(e,t,s,r)))return zc(n,e,r),Wo(n,t,r),!0}return!1}function Bo(e,t,n,s){if(s={lane:2,revertLane:Au(),action:s,hasEagerState:!1,eagerState:null,next:null},Vo(e)){if(t)throw Error(r(479))}else null!==(t=Ir(e,n,s,2))&&zc(t,e,2)}function Vo(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function qo(e,t){ka=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wo(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ko={readContext:Es,use:Ba,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},Go={readContext:Es,use:Ba,useCallback:function(e,t){return Ua().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,bo(4194308,4,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var n=Ua();t=void 0===t?null:t;var r=e();if(Ca){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ua();if(void 0!==n){var s=n(t);if(Ca){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Uo.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ua().memoizedState=e},useState:function(e){var t=(e=to(e)).queue,n=$o.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Co,useDeferredValue:function(e,t){return To(Ua(),e,t)},useTransition:function(){var e=to(!1);return e=Ao.bind(null,wa,e.queue,!0,!1),Ua().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=wa,a=Ua();if(is){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ac)throw Error(r(349));124&ic||Xa(s,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,vo(Ja.bind(null,s,o,e),[e]),s.flags|=2048,go(9,{destroy:void 0,resource:void 0},Ya.bind(null,s,o,n,t),null),n},useId:function(){var e=Ua(),t=ac.identifierPrefix;if(is){var n=es;t=""+t+"R"+(n=(Zr&~(1<<32-fe(Zr)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Pa++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Ua();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return Ua().memoizedState=Fo.bind(null,wa)}},Qo={readContext:Es,use:Ba,useCallback:_o,useContext:Es,useEffect:wo,useImperativeHandle:ko,useInsertionEffect:jo,useLayoutEffect:No,useMemo:Eo,useReducer:Wa,useRef:xo,useState:function(){return Wa(qa)},useDebugValue:Co,useDeferredValue:function(e,t){return Po($a(),ja.memoizedState,e,t)},useTransition:function(){var e=Wa(qa)[0],t=$a().memoizedState;return["boolean"==typeof e?e:Ha(e),t]},useSyncExternalStore:Qa,useId:Oo,useHostTransitionStatus:Mo,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){return no($a(),0,e,t)},useMemoCache:Va,useCacheRefresh:zo},Xo={readContext:Es,use:Ba,useCallback:_o,useContext:Es,useEffect:wo,useImperativeHandle:ko,useInsertionEffect:jo,useLayoutEffect:No,useMemo:Eo,useReducer:Ga,useRef:xo,useState:function(){return Ga(qa)},useDebugValue:Co,useDeferredValue:function(e,t){var n=$a();return null===ja?To(n,e,t):Po(n,ja.memoizedState,e,t)},useTransition:function(){var e=Ga(qa)[0],t=$a().memoizedState;return["boolean"==typeof e?e:Ha(e),t]},useSyncExternalStore:Qa,useId:Oo,useHostTransitionStatus:Mo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=$a();return null!==ja?no(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:zo},Yo=null,Jo=0;function Zo(e){var t=Jo;return Jo+=1,null===Yo&&(Yo=[]),Zs(Yo,e,t)}function ei(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ti(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ni(e){return(0,e._init)(e._payload)}function ri(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===m?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===k&&ni(s)===t.type)?(ei(t=a(t,n.props),n),t.return=e,t):(ei(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return ei(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=qr(t,e.mode,n)).return=e,t;case k:return p(e,t=(0,t._init)(t._payload),n)}if(I(t)||T(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Zo(t),n);if(t.$$typeof===v)return p(e,Ts(e,t),n);ti(e,t)}return null}function g(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===s?c(e,t,n,r):null;case h:return n.key===s?u(e,t,n,r):null;case k:return g(e,t,n=(s=n._init)(n._payload),r)}if(I(n)||T(n))return null!==s?null:f(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Zo(n),r);if(n.$$typeof===v)return g(e,t,Ts(e,n),r);ti(e,n)}return null}function x(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return x(e,t,n,r=(0,r._init)(r._payload),s)}if(I(r)||T(r))return f(t,e=e.get(n)||null,r,s,null);if("function"==typeof r.then)return x(e,t,n,Zo(r),s);if(r.$$typeof===v)return x(e,t,n,Ts(t,r),s);ti(t,r)}return null}function b(l,c,u,f){if("object"==typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===m){if(7===c.tag){n(l,c.sibling),(f=a(c,u.props.children)).return=l,l=f;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===k&&ni(y)===c.type){n(l,c.sibling),ei(f=a(c,u.props),u),f.return=l,l=f;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===m?((f=Br(u.props.children,l.mode,f,u.key)).return=l,l=f):(ei(f=Hr(u.type,u.key,u.props,null,l.mode,f),u),f.return=l,l=f)}return i(l);case h:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(f=a(c,u.children||[])).return=l,l=f;break e}n(l,c);break}t(l,c),c=c.sibling}(f=qr(u,l.mode,f)).return=l,l=f}return i(l);case k:return b(l,c,u=(y=u._init)(u._payload),f)}if(I(u))return function(r,a,i,l){for(var c=null,u=null,d=a,h=a=0,m=null;null!==d&&h<i.length;h++){d.index>h?(m=d,d=null):m=d.sibling;var f=g(r,d,i[h],l);if(null===f){null===d&&(d=m);break}e&&d&&null===f.alternate&&t(r,d),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f,d=m}if(h===i.length)return n(r,d),is&&ts(r,h),c;if(null===d){for(;h<i.length;h++)null!==(d=p(r,i[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return is&&ts(r,h),c}for(d=s(d);h<i.length;h++)null!==(m=x(d,r,h,i[h],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?h:m.key),a=o(m,a,h),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(r,e)}),is&&ts(r,h),c}(l,c,u,f);if(T(u)){if("function"!=typeof(y=T(u)))throw Error(r(150));return function(a,i,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=i,m=i=0,f=null,b=l.next();null!==h&&!b.done;m++,b=l.next()){h.index>m?(f=h,h=null):f=h.sibling;var y=g(a,h,b.value,c);if(null===y){null===h&&(h=f);break}e&&h&&null===y.alternate&&t(a,h),i=o(y,i,m),null===d?u=y:d.sibling=y,d=y,h=f}if(b.done)return n(a,h),is&&ts(a,m),u;if(null===h){for(;!b.done;m++,b=l.next())null!==(b=p(a,b.value,c))&&(i=o(b,i,m),null===d?u=b:d.sibling=b,d=b);return is&&ts(a,m),u}for(h=s(h);!b.done;m++,b=l.next())null!==(b=x(h,a,m,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?m:b.key),i=o(b,i,m),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(a,e)}),is&&ts(a,m),u}(l,c,u=y.call(u),f)}if("function"==typeof u.then)return b(l,c,Zo(u),f);if(u.$$typeof===v)return b(l,c,Ts(l,u),f);ti(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(f=a(c,u)).return=l,l=f):(n(l,c),(f=Vr(u,l.mode,f)).return=l,l=f),i(l)):n(l,c)}return function(e,t,n,r){try{Jo=0;var s=b(e,t,n,r);return Yo=null,s}catch(o){if(o===Ks||o===Qs)throw o;var a=zr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var si=ri(!0),ai=ri(!1),oi=z(null),ii=null;function li(e){var t=e.alternate;U(hi,1&hi.current),U(oi,e),null===ii&&(null===t||null!==pa.current||null!==t.memoizedState)&&(ii=e)}function ci(e){if(22===e.tag){if(U(hi,hi.current),U(oi,e),null===ii){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ii=e)}}else ui()}function ui(){U(hi,hi.current),U(oi,oi.current)}function di(e){F(oi),ii===e&&(ii=null),F(hi)}var hi=z(0);function mi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pi={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),s=oa(r);s.payload=t,null!=n&&(s.callback=n),null!==(t=ia(e,s,r))&&(zc(t,e,r),la(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),s=oa(r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=ia(e,s,r))&&(zc(t,e,r),la(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=oa(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=ia(e,r,n))&&(zc(t,e,n),la(t,e,n))}};function gi(e,t,n,r,s,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(s,a))}function xi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function bi(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=c({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var yi="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vi(e){yi(e)}function wi(e){console.error(e)}function ji(e){yi(e)}function Ni(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Si(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function ki(e,t,n){return(n=oa(n)).tag=3,n.payload={element:null},n.callback=function(){Ni(e,t)},n}function Ci(e){return(e=oa(e)).tag=3,e}function _i(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var a=r.value;e.payload=function(){return s(a)},e.callback=function(){Si(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Si(t,n,r),"function"!=typeof s&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ei=Error(r(461)),Ti=!1;function Pi(e,t,n,r){t.child=null===e?ai(t,null,n,r):si(t,e.child,n,r)}function Ai(e,t,n,r,s){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var i in r)"ref"!==i&&(o[i]=r[i])}else o=r;return _s(t),r=La(e,t,n,o,a,s),i=Oa(),null===e||Ti?(is&&i&&rs(t),t.flags|=1,Pi(e,t,r,s),t.child):(za(e,t,s),Yi(e,t,s))}function Ii(e,t,n,r,s){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Li(e,t,a,r,s))}if(a=e.child,!Ji(e,s)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(o,r)&&e.ref===t.ref)return Yi(e,t,s)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function Li(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(Jn(a,r)&&e.ref===t.ref){if(Ti=!1,t.pendingProps=r=a,!Ji(e,s))return t.lanes=e.lanes,Yi(e,t,s);131072&e.flags&&(Ti=!0)}}return Oi(e,t,n,r,s)}function Di(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==a?a.baseLanes|n:n,null!==e){for(s=t.child=e.child,a=0;null!==s;)a=a|s.lanes|s.childLanes,s=s.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ri(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ri(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qs(0,null!==a?a.cachePool:null),null!==a?xa(t,a):ba(),ci(t)}else null!==a?(qs(0,a.cachePool),xa(t,a),ui(),t.memoizedState=null):(null!==e&&qs(0,null),ba(),ui());return Pi(e,t,s,n),t.child}function Ri(e,t,n,r){var s=Vs();return s=null===s?null:{parent:Ds._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&qs(0,null),ba(),ci(t),null!==e&&ks(e,t,r,!0),null}function Mi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Oi(e,t,n,r,s){return _s(t),n=La(e,t,n,r,void 0,s),r=Oa(),null===e||Ti?(is&&r&&rs(t),t.flags|=1,Pi(e,t,n,s),t.child):(za(e,t,s),Yi(e,t,s))}function zi(e,t,n,r,s,a){return _s(t),t.updateQueue=null,n=Ra(t,r,n,s),Da(e),r=Oa(),null===e||Ti?(is&&r&&rs(t),t.flags|=1,Pi(e,t,n,a),t.child):(za(e,t,a),Yi(e,t,a))}function Fi(e,t,n,r,s){if(_s(t),null===t.stateNode){var a=Mr,o=n.contextType;"object"==typeof o&&null!==o&&(a=Es(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=pi,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},sa(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Es(o):Mr,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(fi(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&pi.enqueueReplaceState(a,a.state,null),ha(t,r,a,s),da(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var i=t.memoizedProps,l=bi(n,i);a.props=l;var c=a.context,u=n.contextType;o=Mr,"object"==typeof u&&null!==u&&(o=Es(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,i=t.pendingProps!==i,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||c!==o)&&xi(t,a,r,o),ra=!1;var h=t.memoizedState;a.state=h,ha(t,r,a,s),da(),c=t.memoizedState,i||h!==c||ra?("function"==typeof d&&(fi(t,n,d,r),c=t.memoizedState),(l=ra||gi(t,n,l,r,h,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,aa(e,t),u=bi(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"==typeof c&&null!==c&&(l=Es(c)),(c="function"==typeof(i=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&xi(t,a,r,l),ra=!1,h=t.memoizedState,a.state=h,ha(t,r,a,s),da();var m=t.memoizedState;o!==d||h!==m||ra||null!==e&&null!==e.dependencies&&Cs(e.dependencies)?("function"==typeof i&&(fi(t,n,i,r),m=t.memoizedState),(u=ra||gi(t,n,u,r,h,m,l)||null!==e&&null!==e.dependencies&&Cs(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,m,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,m,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Mi(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=si(t,e.child,null,s),t.child=si(t,null,n,s)):Pi(e,t,n,s),t.memoizedState=a.state,e=t.child):e=Yi(e,t,s),e}function Ui(e,t,n,r){return ps(),t.flags|=256,Pi(e,t,n,r),t.child}var $i={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hi(e){return{baseLanes:e,cachePool:Ws()}}function Bi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bc),e}function Vi(e,t,n){var s,a=t.pendingProps,o=!1,i=!!(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&!!(2&hi.current)),s&&(o=!0,t.flags&=-129),s=!!(32&t.flags),t.flags&=-33,null===e){if(is){if(o?li(t):ui(),is){var l,c=os;if(l=c){e:{for(l=c,c=cs;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Zr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},(l=zr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,as=t,os=null,l=!0):l=!1}l||ds(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;di(t)}return c=a.children,a=a.fallback,o?(ui(),c=Wi({mode:"hidden",children:c},o=t.mode),a=Br(a,o,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(o=t.child).memoizedState=Hi(n),o.childLanes=Bi(e,s,n),t.memoizedState=$i,a):(li(t),qi(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(i)256&t.flags?(li(t),t.flags&=-257,t=Ki(e,t,n)):null!==t.memoizedState?(ui(),t.child=e.child,t.flags|=128,t=null):(ui(),o=a.fallback,c=t.mode,a=Wi({mode:"visible",children:a.children},c),(o=Br(o,c,n,null)).flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,si(t,e.child,null,n),(a=t.child).memoizedState=Hi(n),a.childLanes=Bi(e,s,n),t.memoizedState=$i,t=o);else if(li(t),bd(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var u=s.dgst;s=u,(a=Error(r(419))).stack="",a.digest=s,xs({value:a,source:null,stack:null}),t=Ki(e,t,n)}else if(Ti||ks(e,t,n,!1),s=0!==(n&e.childLanes),Ti||s){if(null!==(s=ac)&&(0!==(a=0!==((a=42&(a=n&-n)?1:Pe(a))&(s.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Lr(e,a),zc(s,e,a),Ei;"$?"===c.data||Qc(),t=Ki(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,os=yd(c.nextSibling),as=t,is=!0,ls=null,cs=!1,null!==e&&(Xr[Yr++]=Zr,Xr[Yr++]=es,Xr[Yr++]=Jr,Zr=e.id,es=e.overflow,Jr=t),(t=qi(t,a.children)).flags|=4096);return t}return o?(ui(),o=a.fallback,c=t.mode,u=(l=e.child).sibling,(a=Ur(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Ur(u,o):(o=Br(o,c,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,null===(c=e.child.memoizedState)?c=Hi(n):(null!==(l=c.cachePool)?(u=Ds._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Ws(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Bi(e,s,n),t.memoizedState=$i,a):(li(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function qi(e,t){return(t=Wi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wi(e,t){return(e=zr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ki(e,t,n){return si(t,e.child,null,n),(e=qi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Qi(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Xi(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Pi(e,t,r.children,n),2&(r=hi.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gi(e,n,t);else if(19===e.tag)Gi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(hi,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===mi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===mi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qi(t,!0,n,null,a);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ji(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Cs(e))}function Zi(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ti=!0;else{if(!(Ji(e,n)||128&t.flags))return Ti=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),ws(0,Ds,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:ws(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(li(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vi(e,t,n):(li(t),null!==(e=Yi(e,t,n))?e.sibling:null);li(t);break;case 19:var s=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Xi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(hi,hi.current),r)break;return null;case 22:case 23:return t.lanes=0,Di(e,t,n);case 24:ws(0,Ds,e.memoizedState.cache)}return Yi(e,t,n)}(e,t,n);Ti=!!(131072&e.flags)}else Ti=!1,is&&1048576&t.flags&&ns(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,a=s._init;if(s=a(s._payload),t.type=s,"function"!=typeof s){if(null!=s){if((a=s.$$typeof)===w){t.tag=11,t=Ai(null,t,s,e,n);break e}if(a===S){t.tag=14,t=Ii(null,t,s,e,n);break e}}throw t=A(s)||s,Error(r(306,t,""))}Fr(s)?(e=bi(s,e),t.tag=1,t=Fi(null,t,s,e,n)):(t.tag=0,t=Oi(null,t,s,e,n))}return t;case 0:return Oi(e,t,t.type,t.pendingProps,n);case 1:return Fi(e,t,s=t.type,a=bi(s,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));s=t.pendingProps;var o=t.memoizedState;a=o.element,aa(e,t),ha(t,s,null,n);var i=t.memoizedState;if(s=i.cache,ws(0,Ds,s),s!==o.cache&&Ss(t,[Ds],n,!0),da(),s=i.element,o.isDehydrated){if(o={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ui(e,t,s,n);break e}if(s!==a){xs(a=Cr(Error(r(424)),t)),t=Ui(e,t,s,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(os=yd(e.firstChild),as=t,is=!0,ls=null,cs=!0,n=ai(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),s===a){t=Yi(e,t,n);break e}Pi(e,t,s,n)}t=t.child}return t;case 26:return Mi(e,t),null===e?(n=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(s=ad(B.current).createElement(n))[De]=t,s[Re]=e,nd(s,n,e),Ke(s),t.stateNode=s):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&is&&(s=t.stateNode=jd(t.type,t.pendingProps,B.current),as=t,cs=!0,a=os,pd(t.type)?(vd=a,os=yd(s.firstChild)):os=a),Pi(e,t,t.pendingProps.children,n),Mi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((a=s=os)&&(null!==(s=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,cs))?(t.stateNode=s,as=t,os=yd(s.firstChild),cs=!1,a=!0):a=!1),a||ds(t)),K(t),a=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,ld(a,o)?s=null:null!==i&&ld(a,i)&&(t.flags|=32),null!==t.memoizedState&&(a=La(e,t,Ma,null,null,n),Xd._currentValue=a),Mi(e,t),Pi(e,t,s,n),t.child;case 6:return null===e&&is&&((e=n=os)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,cs))?(t.stateNode=n,as=t,os=null,e=!0):e=!1),e||ds(t)),null;case 13:return Vi(e,t,n);case 4:return q(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=si(t,null,s,n):Pi(e,t,s,n),t.child;case 11:return Ai(e,t,t.type,t.pendingProps,n);case 7:return Pi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pi(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,ws(0,t.type,s.value),Pi(e,t,s.children,n),t.child;case 9:return a=t.type._context,s=t.pendingProps.children,_s(t),s=s(a=Es(a)),t.flags|=1,Pi(e,t,s,n),t.child;case 14:return Ii(e,t,t.type,t.pendingProps,n);case 15:return Li(e,t,t.type,t.pendingProps,n);case 19:return Xi(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},null===e?((n=Wi(s,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,s)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Di(e,t,n);case 24:return _s(t),s=Es(Ds),null===e?(null===(a=Vs())&&(a=ac,o=Rs(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:s,cache:a},sa(t),ws(0,Ds,a)):(0!==(e.lanes&n)&&(aa(e,t),ha(t,null,null,n),da()),a=e.memoizedState,o=t.memoizedState,a.parent!==s?(a={parent:s,cache:s},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),ws(0,Ds,s)):(s=o.cache,ws(0,Ds,s),s!==a.cache&&Ss(t,[Ds],n,!0))),Pi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=oi.current)&&((4194048&ic)===ic?null!==ii:(62914560&ic)!==ic&&!(536870912&ic)||t!==ii))throw ea=Xs,Gs;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,yc|=t)}function rl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var s=t.pendingProps;switch(ss(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sl(t),null;case 3:return n=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),js(Ds),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fs(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gs())),sl(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(sl(t),tl(t,n)):(sl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),sl(t),tl(t,n)):(sl(t),t.flags&=-16777217):(e.memoizedProps!==s&&el(t),sl(t),t.flags&=-16777217),null;case 27:G(t),n=B.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}e=$.current,fs(t)?hs(t):(e=jd(a,s,n),t.stateNode=e,el(t))}return sl(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}if(e=$.current,fs(t))hs(t);else{switch(a=ad(B.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof s.is?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"==typeof s.is?a.createElement(n,{is:s.is}):a.createElement(n)}}e[De]=t,e[Re]=s;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(nd(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return sl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if("string"!=typeof s&&null===t.stateNode)throw Error(r(166));if(e=B.current,fs(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,null!==(a=as))switch(a.tag){case 27:case 5:s=a.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==s&&!0===s.suppressHydrationWarning||Ju(e.nodeValue,n)))||ds(t)}else(e=ad(e).createTextNode(s))[De]=t,t.stateNode=e}return sl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fs(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[De]=t}else ps(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sl(t),a=!1}else a=gs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(di(t),t):(di(t),null)}if(di(t),128&t.flags)return t.lanes=n,t;if(n=null!==s,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(a=s.alternate.memoizedState.cachePool.pool);var o=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),sl(t),null;case 4:return W(),null===e&&Hu(t.stateNode.containerInfo),sl(t),null;case 10:return js(t.type),sl(t),null;case 19:if(F(hi),null===(a=t.memoizedState))return sl(t),null;if(s=!!(128&t.flags),null===(o=a.rendering))if(s)rl(a,!1);else{if(0!==fc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=mi(e))){for(t.flags|=128,rl(a,!1),e=o.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$r(n,e),n=n.sibling;return U(hi,1&hi.current|2),t.child}e=e.sibling}null!==a.tail&&ee()>Sc&&(t.flags|=128,s=!0,rl(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=mi(o))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!is)return sl(t),null}else 2*ee()-a.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,s=!0,rl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ee(),t.sibling=null,e=hi.current,U(hi,s?1&e|2:1&e),t):(sl(t),null);case 22:case 23:return di(t),ya(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?!!(536870912&n)&&!(128&t.flags)&&(sl(t),6&t.subtreeFlags&&(t.flags|=8192)):sl(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),null!==e&&F(Bs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),js(Ds),sl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ol(e,t){switch(ss(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return js(Ds),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(di(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(hi),null;case 4:return W(),null;case 10:return js(t.type),null;case 22:case 23:return di(t),ya(),null!==e&&F(Bs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return js(Ds),null;default:return null}}function il(e,t){switch(ss(t),t.tag){case 3:js(Ds),W();break;case 26:case 27:case 5:G(t);break;case 4:W();break;case 13:di(t);break;case 19:F(hi);break;case 10:js(t.type);break;case 22:case 23:di(t),ya(),null!==e&&F(Bs);break;case 24:js(Ds)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==s)}}catch(i){hu(t,t.return,i)}}function cl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var a=s.next;r=a;do{if((r.tag&e)===e){var o=r.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,s=t;var l=n,c=i;try{c()}catch(u){hu(s,l,u)}}}r=r.next}while(r!==a)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=bi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(s){hu(e,t,s)}}function ml(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(s){hu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){hu(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){hu(e,e.return,s)}}function pl(e,t,n){try{var s=e.stateNode;!function(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,i=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(f)||ed(e,t,f,null,s,h)}}for(var m in s){var f=s[m];if(h=n[m],s.hasOwnProperty(m)&&(null!=f||null!=h))switch(m){case"type":o=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":i=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:f!==h&&ed(e,t,m,f,s,h)}}return void bt(e,i,l,c,u,d,o,a);case"select":for(o in f=i=l=m=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:s.hasOwnProperty(o)||ed(e,t,o,null,s,c)}for(a in s)if(o=s[a],c=n[a],s.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":m=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:o!==c&&ed(e,t,a,o,s,c)}return t=l,n=i,s=f,void(null!=m?wt(e,!!n,m,!1):!!s!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=m=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,s,a)}for(i in s)if(a=s[i],o=n[i],s.hasOwnProperty(i)&&(null!=a||null!=o))switch(i){case"value":m=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==o&&ed(e,t,i,a,s,o)}return void jt(e,m,f);case"option":for(var p in n)if(m=n[p],n.hasOwnProperty(p)&&null!=m&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,s,m);for(c in s)if(m=s[c],f=n[c],s.hasOwnProperty(c)&&m!==f&&(null!=m||null!=f))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else ed(e,t,c,m,s,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!s.hasOwnProperty(g)&&ed(e,t,g,null,s,m);for(u in s)if(m=s[u],f=n[u],s.hasOwnProperty(u)&&m!==f&&(null!=m||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:ed(e,t,u,m,s,f)}return;default:if(Et(t)){for(var x in n)m=n[x],n.hasOwnProperty(x)&&void 0!==m&&!s.hasOwnProperty(x)&&td(e,t,x,void 0,s,m);for(d in s)m=s[d],f=n[d],!s.hasOwnProperty(d)||m===f||void 0===m&&void 0===f||td(e,t,d,m,s,f);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&null!=m&&!s.hasOwnProperty(b)&&ed(e,t,b,null,s,m);for(h in s)m=s[h],f=n[h],!s.hasOwnProperty(h)||m===f||null==m&&null==f||ed(e,t,h,m,s,f)}(s,e.type,n,t),s[Re]=t}catch(a){hu(e,e.return,a)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function xl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);nd(t,r,n),t[De]=e,t[Re]=n}catch(a){hu(e,e.return,a)}}var wl=!1,jl=!1,Nl=!1,Sl="function"==typeof WeakSet?WeakSet:Set,kl=null;function Cl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ll(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var s=bi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){hu(n,n.return,i)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&hl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||jl,s=wl;var a=jl;wl=r,(jl=t)&&!a?$l(e,n,!!(8772&n.subtreeFlags)):Fl(e,n),wl=s,jl=a}break;case 30:break;default:Fl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var El=null,Tl=!1;function Pl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"==typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:jl||ml(n,t),Pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:jl||ml(n,t);var r=El,s=Tl;pd(n.type)&&(El=n.stateNode,Tl=!1),Pl(e,t,n),Nd(n.stateNode),El=r,Tl=s;break;case 5:jl||ml(n,t);case 6:if(r=El,s=Tl,El=null,Pl(e,t,n),Tl=s,null!==(El=r))if(Tl)try{(9===El.nodeType?El.body:"HTML"===El.nodeName?El.ownerDocument.body:El).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{El.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==El&&(Tl?(gd(9===(e=El).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):gd(El,n.stateNode));break;case 4:r=El,s=Tl,El=n.stateNode.containerInfo,Tl=!0,Pl(e,t,n),El=r,Tl=s;break;case 0:case 11:case 14:case 15:jl||cl(2,n,t),jl||cl(4,n,t),Pl(e,t,n);break;case 1:jl||(ml(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Pl(e,t,n);break;case 21:Pl(e,t,n);break;case 22:jl=(r=jl)||null!==n.memoizedState,Pl(e,t,n),jl=r;break;default:Pl(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){hu(t,t.return,n)}}function Ll(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var a=n[s],o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){El=l.stateNode,Tl=!1;break e}break;case 5:El=l.stateNode,Tl=!1;break e;case 3:case 4:El=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===El)throw Error(r(160));Al(o,i,a),El=null,Tl=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Rl=null;function Ml(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Ol(e),4&s&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Dl(t,e),Ol(e),512&s&&(jl||null===n||ml(n,n.return)),64&s&&wl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?s:n.concat(s))));break;case 26:var a=Rl;if(Dl(t,e),Ol(e),512&s&&(jl||null===n||ml(n,n.return)),4&s){var o=null!==n?n.memoizedState:null;if(s=e.memoizedState,null===n)if(null===s)if(null===e.stateNode){e:{s=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":(!(o=a.getElementsByTagName("title")[0])||o[$e]||o[De]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(s),a.head.insertBefore(o,a.querySelector("head > title"))),nd(o,s,n),o[De]=e,Ke(o),s=o;break e;case"link":var i=$d("link","href",a).get(s+(n.href||""));if(i)for(var l=0;l<i.length;l++)if((o=i[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(l,1);break t}nd(o=a.createElement(s),s,n),a.head.appendChild(o);break;case"meta":if(i=$d("meta","content",a).get(s+(n.content||"")))for(l=0;l<i.length;l++)if((o=i[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(l,1);break t}nd(o=a.createElement(s),s,n),a.head.appendChild(o);break;default:throw Error(r(468,s))}o[De]=e,Ke(o),s=o}e.stateNode=s}else Hd(a,e.type,e.stateNode);else e.stateNode=Md(a,s,e.memoizedProps);else o!==s?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===s?Hd(a,e.type,e.stateNode):Md(a,s,e.memoizedProps)):null===s&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Ol(e),512&s&&(jl||null===n||ml(n,n.return)),null!==n&&4&s&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Ol(e),512&s&&(jl||null===n||ml(n,n.return)),32&e.flags){a=e.stateNode;try{St(a,"")}catch(f){hu(e,e.return,f)}}4&s&&null!=e.stateNode&&pl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&s&&(Nl=!0);break;case 6:if(Dl(t,e),Ol(e),4&s){if(null===e.stateNode)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(f){hu(e,e.return,f)}}break;case 3:if(Ud=null,a=Rl,Rl=Cd(t.containerInfo),Dl(t,e),Rl=a,Ol(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(f){hu(e,e.return,f)}Nl&&(Nl=!1,zl(e));break;case 4:s=Rl,Rl=Cd(e.stateNode.containerInfo),Dl(t,e),Ol(e),Rl=s;break;case 12:default:Dl(t,e),Ol(e);break;case 13:Dl(t,e),Ol(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Nc=ee()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ll(e,s)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=jl;if(wl=u||a,jl=d||c,Dl(t,e),jl=d,wl=u,Ol(e),8192&s)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||wl||jl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(f){hu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){hu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(n=s.retryQueue)&&(s.retryQueue=null,Ll(e,n))));break;case 19:Dl(t,e),Ol(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ll(e,s)));case 30:case 21:}}function Ol(e){var t=e.flags;if(2&t){try{for(var n,s=e.return;null!==s;){if(gl(s)){n=s;break}s=s.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;yl(e,xl(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(St(o,""),n.flags&=-33),yl(e,xl(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;bl(e,xl(e),i);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function zl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;zl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Ul(t);break;case 1:ml(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Ul(t);break;case 27:Nd(t.stateNode);case 26:case 5:ml(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:$l(s,a,n),ll(4,a);break;case 1:if($l(s,a,n),"function"==typeof(s=(r=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(s=(r=a).updateQueue)){var i=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ma(l[s],i)}catch(c){hu(r,r.return,c)}}n&&64&o&&ul(a),hl(a,a.return);break;case 27:vl(a);case 26:case 5:$l(s,a,n),n&&null===r&&4&o&&fl(a),hl(a,a.return);break;case 12:$l(s,a,n);break;case 13:$l(s,a,n),n&&4&o&&Il(s,a);break;case 22:null===a.memoizedState&&$l(s,a,n),hl(a,a.return);break;case 30:break;default:$l(s,a,n)}t=t.sibling}}function Hl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ms(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&s&&ll(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e)));break;case 12:if(2048&s){Vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,i=a.onPostCommit;"function"==typeof i&&i(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Vl(e,t,n,r):Kl(e,t):2&a._visibility?Vl(e,t,n,r):(a._visibility|=2,Wl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&s&&Hl(o,t);break;case 24:Vl(e,t,n,r),2048&s&&Bl(t.alternate,t)}}function Wl(e,t,n,r,s){for(s=s&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,i=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Wl(a,o,i,l,s),ll(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Wl(a,o,i,l,s):Kl(a,o):(u._visibility|=2,Wl(a,o,i,l,s)),s&&2048&c&&Hl(o.alternate,o);break;case 24:Wl(a,o,i,l,s),s&&2048&c&&Bl(o.alternate,o);break;default:Wl(a,o,i,l,s)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Kl(n,r),2048&s&&Hl(r.alternate,r);break;case 24:Kl(n,r),2048&s&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Vd)throw Error(r(475));var s=Vd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var a=Ad(n.href),o=e.querySelector(Id(a));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(s.count++,s=Wd.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=o,void Ke(o);o=e.ownerDocument||e,n=Ld(n),(a=Sd.get(a))&&zd(n,a),Ke(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(o,"link",n),t.instance=o}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(s.count++,t=Wd.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Rl;Rl=Cd(e.stateNode.containerInfo),Ql(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Jl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,tc(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ms(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var s=(r=kl).sibling,a=r.return;if(_l(r),r===n){kl=null;break e}if(null!==s){s.return=a,kl=s;break e}kl=a}}}var nc={getCacheForType:function(e){var t=Es(Ds),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,sc=0,ac=null,oc=null,ic=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,mc=0,fc=0,pc=0,gc=0,xc=0,bc=0,yc=0,vc=null,wc=null,jc=!1,Nc=0,Sc=1/0,kc=null,Cc=null,_c=0,Ec=null,Tc=null,Pc=0,Ac=0,Ic=null,Lc=null,Dc=0,Rc=null;function Mc(){if(2&sc&&0!==ic)return ic&-ic;if(null!==L.T){return 0!==Fs?Fs:Au()}return Ie()}function Oc(){0===bc&&(bc=536870912&ic&&!is?536870912:Se());var e=oi.current;return null!==e&&(e.flags|=32),bc}function zc(e,t,n){(e!==ac||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(qc(e,0),Hc(e,ic,bc,!1)),_e(e,n),2&sc&&e===ac||(e===ac&&(!(2&sc)&&(gc|=n),4===fc&&Hc(e,ic,bc,!1)),Su(e))}function Fc(e,t,n){if(6&sc)throw Error(r(327));for(var s=!n&&!(124&t)&&0===(t&e.expiredLanes)||je(e,t),a=s?function(e,t){var n=sc;sc|=2;var s=Kc(),a=Gc();ac!==e||ic!==t?(kc=null,Sc=ee()+500,qc(e,t)):dc=je(e,t);e:for(;;)try{if(0!==lc&&null!==oc){t=oc;var o=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,o,1);break;case 2:case 9:if(Ys(o)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ac!==e||(lc=7),Su(e)},o.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Ys(o)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,o,7));break;case 5:var i=null;switch(oc.tag){case 26:i=oc.memoizedState;case 5:case 27:var l=oc;if(!i||Bd(i)){lc=0,cc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,nu(u)):oc=null}break t}}lc=0,cc=null,tu(e,t,o,5);break;case 6:lc=0,cc=null,tu(e,t,o,6);break;case 8:Vc(),fc=6;break e;default:throw Error(r(462))}}Jc();break}catch(d){Wc(e,d)}return vs=ys=null,L.H=s,L.A=a,sc=n,null!==oc?0:(ac=null,ic=0,Pr(),fc)}(e,t):Xc(e,t,!0),o=s;;){if(0===a){dc&&!s&&Hc(e,t,0,!1);break}if(n=e.current.alternate,!o||$c(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;a=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,i).flags|=256),2!==(i=Xc(l,i,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=o,gc|=o,a=4;break e}o=wc,wc=a,null!==o&&(null===wc?wc=o:wc.push.apply(wc,o))}a=i}if(o=!1,2!==a)continue}}if(1===a){qc(e,0),Hc(e,t,0,!0);break}e:{switch(s=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Hc(s,t,bc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Nc+300-ee())){if(Hc(s,t,bc,!uc),0!==we(s,0,!0))break e;s.timeoutHandle=ud(Uc.bind(null,s,n,wc,kc,jc,t,bc,gc,yc,uc,o,2,-0,0),a)}else Uc(s,n,wc,kc,jc,t,bc,gc,yc,uc,o,0,-0,0)}break}a=Xc(e,t,!1),o=!1}Su(e)}function Uc(e,t,n,s,a,o,i,l,c,u,d,h,m,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Vd={stylesheets:null,count:0,unsuspend:qd},Xl(t),null!==(h=function(){if(null===Vd)throw Error(r(475));var e=Vd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(su.bind(null,e,t,o,n,s,a,i,l,c,d,1,m,f)),void Hc(e,o,i,!u);su(e,t,o,n,s,a,i,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Yn(a(),s))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hc(e,t,n,r){t&=~xc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var a=31-fe(s),o=1<<a;r[a]=-1,s&=~o}0!==n&&Ee(e,n,t)}function Bc(){return!!(6&sc)||(ku(0),!1)}function Vc(){if(null!==oc){if(0===lc)var e=oc.return;else vs=ys=null,Fa(e=oc),Yo=null,Jo=0,e=oc;for(;null!==e;)il(e.alternate,e),e=e.return;oc=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),ac=e,oc=n=Ur(e.current,null),ic=t,lc=0,cc=null,uc=!1,dc=je(e,t),hc=!1,yc=bc=xc=gc=pc=fc=0,wc=vc=null,jc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-fe(r),a=1<<s;t|=e[s],r&=~a}return mc=t,Pr(),n}function Wc(e,t){wa=null,L.H=Ko,t===Ks||t===Qs?(t=ta(),lc=3):t===Gs?(t=ta(),lc=4):lc=t===Ei?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===oc&&(fc=1,Ni(e,Cr(t,e.current)))}function Kc(){var e=L.H;return L.H=Ko,null===e?Ko:e}function Gc(){var e=L.A;return L.A=nc,e}function Qc(){fc=4,uc||(4194048&ic)!==ic&&null!==oi.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===ac||Hc(ac,ic,bc,!1)}function Xc(e,t,n){var r=sc;sc|=2;var s=Kc(),a=Gc();ac===e&&ic===t||(kc=null,qc(e,t)),t=!1;var o=fc;e:for(;;)try{if(0!==lc&&null!==oc){var i=oc,l=cc;switch(lc){case 8:Vc(),o=6;break e;case 3:case 2:case 9:case 6:null===oi.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,i,l,c),n&&dc){o=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,i,l,c)}}Yc(),o=fc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vs=ys=null,sc=r,L.H=s,L.A=a,null===oc&&(ac=null,ic=0,Pr()),o}function Yc(){for(;null!==oc;)Zc(oc)}function Jc(){for(;null!==oc&&!J();)Zc(oc)}function Zc(e){var t=Zi(e.alternate,e,mc);e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=zi(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=zi(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Fa(t);default:il(n,t),t=Zi(n,t=oc=$r(t,mc),mc)}e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function tu(e,t,n,s){vs=ys=null,Fa(t),Yo=null,Jo=0;var a=t.return;try{if(function(e,t,n,s,a){if(n.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){if(null!==(t=n.alternate)&&ks(t,n,a,!0),null!==(n=oi.current)){switch(n.tag){case 13:return null===ii?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,s===Xs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([s]):t.add(s),mu(e,s,a)),!1;case 22:return n.flags|=65536,s===Xs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([s]):n.add(s),mu(e,s,a)),!1}throw Error(r(435,n.tag))}return mu(e,s,a),Qc(),!1}if(is)return null!==(t=oi.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,s!==us&&xs(Cr(e=Error(r(422),{cause:s}),n))):(s!==us&&xs(Cr(t=Error(r(423),{cause:s}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,s=Cr(s,n),ca(e,a=ki(e.stateNode,s,a)),4!==fc&&(fc=2)),!1;var o=Error(r(520),{cause:s});if(o=Cr(o,n),null===vc?vc=[o]:vc.push(o),4!==fc&&(fc=2),null===t)return!0;s=Cr(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ca(n,e=ki(n.stateNode,s,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Cc&&Cc.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,_i(a=Ci(a),e,n,s),ca(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ic))return fc=1,Ni(e,Cr(n,e.current)),void(oc=null)}catch(o){if(null!==a)throw oc=a,o;return fc=1,Ni(e,Cr(n,e.current)),void(oc=null)}32768&t.flags?(is||1===s?e=!0:dc||536870912&ic?e=!1:(uc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=oi.current)&&13===s.tag&&(s.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=al(t.alternate,t,mc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===fc&&(fc=5)}function ru(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);fc=6,oc=null}function su(e,t,n,s,a,o,i,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==_c);if(6&sc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,s,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;i[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==r&&Ee(e,r,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o|=Tr,i,l,c),e===ac&&(oc=ac=null,ic=0),Tc=t,Ec=e,Pc=n,Ac=o,Ic=a,Lc=s,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,X(se,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=!!(13878&t.flags),13878&t.subtreeFlags||s){s=L.T,L.T=null,a=D.p,D.p=2,i=sc,sc|=4;try{!function(e,t){if(e=e.containerInfo,rd=sh,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var a=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==s&&3!==h.nodeType||(c=i+s),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===a&&(l=i),m===o&&++d===s&&(c=i),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sd={focusedElem:e,selectionRange:n},sh=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(o=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,s=n.stateNode;try{var p=bi(n.type,a,(n.elementType,n.type));e=s.getSnapshotBeforeUpdate(p,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(x){hu(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))xd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{sc=i,D.p=a,L.T=s}}_c=1,au(),ou(),iu()}}function au(){if(1===_c){_c=0;var e=Ec,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=L.T,L.T=null;var r=D.p;D.p=2;var s=sc;sc|=4;try{Ml(t,e);var a=sd,o=nr(e.containerInfo),i=a.focusedElem,l=a.selectionRange;if(o!==i&&i&&i.ownerDocument&&tr(i.ownerDocument.documentElement,i)){if(null!==l&&rr(i)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(u,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),f=i.textContent.length,p=Math.min(l.start,f),g=void 0===l.end?p:Math.min(l.end,f);!m.extend&&p>g&&(o=g,g=p,p=o);var x=er(i,p),b=er(i,g);if(x&&b&&(1!==m.rangeCount||m.anchorNode!==x.node||m.anchorOffset!==x.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var y=d.createRange();y.setStart(x.node,x.offset),m.removeAllRanges(),p>g?(m.addRange(y),m.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),m.addRange(y))}}}}for(d=[],m=i;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<d.length;i++){var v=d[i];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}sh=!!rd,sd=rd=null}finally{sc=s,D.p=r,L.T=n}}e.current=t,_c=2}}function ou(){if(2===_c){_c=0;var e=Ec,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=L.T,L.T=null;var r=D.p;D.p=2;var s=sc;sc|=4;try{Cl(e,t.alternate,t)}finally{sc=s,D.p=r,L.T=n}}_c=3}}function iu(){if(4===_c||3===_c){_c=0,Z();var e=Ec,t=Tc,n=Pc,r=Lc;10256&t.subtreeFlags||10256&t.flags?_c=5:(_c=0,Tc=Ec=null,lu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Cc=null),Ae(n),t=t.stateNode,de&&"function"==typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=L.T,s=D.p,D.p=2,L.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var i=r[o];a(i.value,{componentStack:i.stack})}}finally{L.T=t,D.p=s}}3&Pc&&cu(),Su(e),s=e.pendingLanes,4194090&n&&42&s?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,ku(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ms(t)))}function cu(e){return au(),ou(),iu(),uu()}function uu(){if(5!==_c)return!1;var e=Ec,t=Ac;Ac=0;var n=Ae(Pc),s=L.T,a=D.p;try{D.p=32>n?32:n,L.T=null,n=Ic,Ic=null;var o=Ec,i=Pc;if(_c=0,Tc=Ec=null,Pc=0,6&sc)throw Error(r(331));var l=sc;if(sc|=4,Zl(o.current),ql(o,o.current,i,n),sc=l,ku(0,!1),de&&"function"==typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{D.p=a,L.T=s,lu(e,t)}}function du(e,t,n){t=Cr(n,t),null!==(e=ia(e,t=ki(e.stateNode,t,2),2))&&(_e(e,2),Su(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Cc||!Cc.has(r))){e=Cr(n,e),null!==(r=ia(t,n=Ci(2),2))&&(_i(n,r,t,e),_e(r,2),Su(r));break}}t=t.return}}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(hc=!0,s.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(ic&n)===n&&(4===fc||3===fc&&(62914560&ic)===ic&&300>ee()-Nc?!(2&sc)&&qc(e,0):xc|=n,yc===ic&&(yc=0)),Su(e)}function pu(e,t){0===t&&(t=ke()),null!==(e=Lr(e,t))&&(_e(e,t),Su(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==s&&s.delete(t),pu(e,n)}var bu=null,yu=null,vu=!1,wu=!1,ju=!1,Nu=0;function Su(e){e!==yu&&null===e.next&&(null===yu?bu=yu=e:yu=yu.next=e),wu=!0,vu||(vu=!0,md(function(){6&sc?X(ne,Cu):_u()}))}function ku(e,t){if(!ju&&wu){ju=!0;do{for(var n=!1,r=bu;null!==r;){if(0!==e){var s=r.pendingLanes;if(0===s)var a=0;else{var o=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=s&~(o&~i))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Pu(r,a))}else a=ic,!(3&(a=we(r,r===ac?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||je(r,a)||(n=!0,Pu(r,a));r=r.next}}while(n);ju=!1}}function Cu(){_u()}function _u(){wu=vu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Nu),Nu=0);for(var t=ee(),n=null,r=bu;null!==r;){var s=r.next,a=Eu(r,t);0===a?(r.next=null,null===n?bu=s:n.next=s,null===s&&(yu=n)):(n=r,(0!==e||3&a)&&(wu=!0)),r=s}ku(e)}function Eu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),i=1<<o,l=s[o];-1===l?0!==(i&n)&&0===(i&r)||(s[o]=Ne(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}if(n=ic,n=we(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Y(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Y(r),Ae(n)){case 2:case 8:n=re;break;case 32:default:n=se;break;case 268435456:n=oe}return r=Tu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Y(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=we(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Eu(e,ee()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Pu(e,t){if(cu())return null;Fc(e,t,!0)}function Au(){return 0===Nu&&(Nu=Se()),Nu}function Iu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:At(""+e)}function Lu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<Nr.length;Du++){var Ru=Nr[Du];Sr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(gr,"onAnimationIteration"),Sr(xr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(vr,"onTransitionCancel"),Sr(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mu));function zu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&s.isPropagationStopped())break e;a=i,s.currentTarget=c;try{a(s)}catch(u){yi(u)}s.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(i=r[o]).instance,c=i.currentTarget,i=i.listener,l!==a&&s.isPropagationStopped())break e;a=i,s.currentTarget=c;try{a(s)}catch(u){yi(u)}s.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[Oe];void 0===n&&(n=t[Oe]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[$u]){e[$u]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Ou.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,Uu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(dh(t)){case 2:var s=ah;break;case 8:s=oh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,s){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===s)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==l;){if(null===(i=Be(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=o,s=Lt(n),i=[];e:{var l=jr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case gr:case xr:c=cn;break;case wr:c=vn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=jn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),m=d?null!==l?l+"Capture":null:l;d=[];for(var f,p=r;null!==p;){var g=p;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===m||null!=(g=Ft(p,m))&&d.push(qu(p,g,f)),h)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,s),i.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Me])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",m="onPointerEnter",p="pointer"),h=null==c?l:qe(c),f=null==u?l:qe(u),(l=new d(g,p+"leave",c,n,s)).target=h,l.relatedTarget=f,g=null,Be(s)===r&&((d=new d(m,p+"enter",u,n,s)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(m=u,p=0,f=d=c;f;f=Ku(f))p++;for(f=0,g=m;g;g=Ku(g))f++;for(;0<p-f;)d=Ku(d),p--;for(;0<f-p;)m=Ku(m),f--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ku(d),m=Ku(m)}d=null}else d=null;null!==c&&Gu(i,l,c,d,!1),null!==u&&null!==h&&Gu(i,h,u,d,!0)}if("select"===(c=(l=r?qe(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=Un;else if(Dn(l))if($n)x=Xn;else{x=Gn;var b=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Et(r.elementType)&&(x=Un):x=Qn;switch(x&&(x=x(e,r))?Rn(i,x,n,s):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&vt(l,"number",l.value)),b=r?qe(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(ar=b,or=r,ir=null);break;case"focusout":ir=or=ar=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(i,n,s);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(i,n,s)}var y;if(Sn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else In?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(_n&&"ko"!==n.locale&&(In||"onCompositionStart"!==v?"onCompositionEnd"===v&&In&&(y=Wt()):(Vt="value"in(Bt=s)?Bt.value:Bt.textContent,In=!0)),0<(b=Wu(r,v)).length&&(v=new dn(v,e,null,n,s),i.push({event:v,listeners:b}),y?v.data=y:null!==(y=An(n))&&(v.data=y))),(y=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Tn=!0,En);case"textInput":return(e=t.data)===En&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!Sn&&Pn(e,t)?(e=Wt(),qt=Vt=Bt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Wu(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,s),i.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var a=Iu((s[Re]||null).action),o=r.submitter;o&&null!==(t=(t=o[Re]||null)?Iu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var i=new tn("action","action",null,r,s);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=o?Lu(s,o):new FormData(s);Lo(n,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"==typeof a&&(i.preventDefault(),e=o?Lu(s,o):new FormData(s),Lo(n,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(i,e,r,n,s)}zu(i,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=Ft(e,n))&&r.unshift(qu(e,s,a)),null!=(s=Ft(e,t))&&r.push(qu(e,s,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,s){for(var a=t._reactName,o=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===r)break;5!==i&&26!==i&&27!==i||null===c||(l=c,s?null!=(c=Ft(n,a))&&o.unshift(qu(n,c,l)):s||null!=(c=Ft(n,a))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Yu(e){return("string"==typeof e?e:""+e).replace(Qu,"\n").replace(Xu,"")}function Ju(e,t){return t=Yu(t),Yu(e)===t}function Zu(){}function ed(e,t,n,s,a,o){switch(n){case"children":"string"==typeof s?"body"===t||"textarea"===t&&""===s||St(e,s):("number"==typeof s||"bigint"==typeof s)&&"body"!==t&&St(e,""+s);break;case"className":st(e,"class",s);break;case"tabIndex":st(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,s);break;case"style":_t(e,s,o);break;case"data":if("object"!==t){st(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==s||"function"==typeof s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=At(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if("function"==typeof s){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ed(e,t,"name",a.name,a,null),ed(e,t,"formEncType",a.formEncType,a,null),ed(e,t,"formMethod",a.formMethod,a,null),ed(e,t,"formTarget",a.formTarget,a,null)):(ed(e,t,"encType",a.encType,a,null),ed(e,t,"method",a.method,a,null),ed(e,t,"target",a.target,a,null))),null==s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=At(""+s),e.setAttribute(n,s);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"onScroll":null!=s&&Fu("scroll",e);break;case"onScrollEnd":null!=s&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"muted":e.muted=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"==typeof s||"boolean"==typeof s||"symbol"==typeof s){e.removeAttribute("xlink:href");break}n=At(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===s?e.setAttribute(n,""):!1!==s&&null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":null==s||"function"==typeof s||"symbol"==typeof s||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),rt(e,"popover",s);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":rt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,s)}}function td(e,t,n,s,a,o){switch(n){case"style":_t(e,s,o);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof s?St(e,s):("number"==typeof s||"bigint"==typeof s)&&St(e,""+s);break;case"onScroll":null!=s&&Fu("scroll",e);break;case"onScrollEnd":null!=s&&Fu("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Re]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!=typeof s)?n in e?e[n]=s:!0===s?e.setAttribute(n,""):rt(e,n,s):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,a)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var s,a=!1,o=!1;for(s in n)if(n.hasOwnProperty(s)){var i=n[s];if(null!=i)switch(s){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,s,i,n,null)}}return o&&ed(e,t,"srcSet",n.srcSet,n,null),void(a&&ed(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=s=i=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,a,d,n,null)}}return yt(e,s,l,c,u,i,o,!1),void mt(e);case"select":for(o in Fu("invalid",e),a=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":a=l;default:ed(e,t,o,l,n,null)}return t=s,n=i,e.multiple=!!a,void(null!=t?wt(e,!!a,t,!1):null!=n&&wt(e,!!a,n,!0));case"textarea":for(i in Fu("invalid",e),s=o=a=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":a=l;break;case"defaultValue":o=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,i,l,n,null)}return Nt(e,a,o,s),void mt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else ed(e,t,c,a,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(a=0;a<Mu.length;a++)Fu(Mu[a],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,a,n,null)}return;default:if(Et(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&td(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&ed(e,t,l,a,n,null))}var rd=null,sd=null;function ad(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,md="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(fd)}:ud;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Nd(o.documentElement),2&n&&Nd(o.body),4&n)for(Nd(n=o.head),o=n.firstChild;o;){var i=o.nextSibling,l=o.nodeName;o[$e]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=i}}if(0===s)return e.removeChild(a),void Th(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Th(t)}function xd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xd(n),He(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function jd(e,t,n){switch(t=ad(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var Sd=new Map,kd=new Set;function Cd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=D.d;D.d={f:function(){var e=_d.f(),t=Bc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Ro(t):_d.r(e)},D:function(e){_d.D(e),Td("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Ed;if(r&&e&&t){var s='link[rel="preload"][as="'+xt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(s+='[imagesizes="'+xt(n.imageSizes)+'"]')):s+='[href="'+xt(e)+'"]';var a=s;switch(t){case"style":a=Ad(e);break;case"script":a=Dd(e)}Sd.has(a)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Id(a))||"script"===t&&r.querySelector(Rd(a))||(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Ed;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+xt(r)+'"][href="'+xt(e)+'"]',a=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!Sd.has(a)&&(e=c({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}nd(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Ed;if(n&&e){var r=We(n).hoistableScripts,s=Dd(e),a=r.get(s);a||((a=n.querySelector(Rd(s)))||(e=c({src:e,async:!0},t),(t=Sd.get(s))&&Fd(e,t),Ke(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}},S:function(e,t,n){_d.S(e,t,n);var r=Ed;if(r&&e){var s=We(r).hoistableStyles,a=Ad(e);t=t||"default";var o=s.get(a);if(!o){var i={loading:0,preload:null};if(o=r.querySelector(Id(a)))i.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&zd(e,n);var l=o=r.createElement("link");Ke(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Od(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:i},s.set(a,o)}}},M:function(e,t){_d.M(e,t);var n=Ed;if(n&&e){var r=We(n).hoistableScripts,s=Dd(e),a=r.get(s);a||((a=n.querySelector(Rd(s)))||(e=c({src:e,async:!0,type:"module"},t),(t=Sd.get(s))&&Fd(e,t),Ke(a=n.createElement("script")),nd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}};var Ed="undefined"==typeof document?null:document;function Td(e,t,n){var r=Ed;if(r&&"string"==typeof t&&t){var s=xt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof n&&(s+='[crossorigin="'+n+'"]'),kd.has(s)||(kd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function Pd(e,t,n,s){var a,o,i,l,c=(c=B.current)?Cd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ad(n.href),(s=(n=We(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ad(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Id(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),u||(a=c,o=e,i=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),nd(o,"link",i),Ke(o),a.head.appendChild(o))))),t&&null===s)throw Error(r(528,""));return d}if(t&&null!==s)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(s=(n=We(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ad(e){return'href="'+xt(e)+'"'}function Id(e){return'link[rel="stylesheet"]['+e+"]"}function Ld(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+xt(e)+'"]'}function Rd(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(s)return t.instance=s,Ke(s),s;var a=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(s=(e.ownerDocument||e).createElement("style")),nd(s,"style",a),Od(s,n.precedence,e),t.instance=s;case"stylesheet":a=Ad(n.href);var o=e.querySelector(Id(a));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;s=Ld(n),(a=Sd.get(a))&&zd(s,a),Ke(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),nd(o,"link",s),t.state.loading|=4,Od(o,n.precedence,e),t.instance=o;case"script":return o=Dd(n.src),(a=e.querySelector(Rd(o)))?(t.instance=a,Ke(a),a):(s=n,(a=Sd.get(o))&&Fd(s=c({},n),a),Ke(a=(e=e.ownerDocument||e).createElement("script")),nd(a,"link",s),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Od(s,n.precedence,e));return t.instance}function Od(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,a=s,o=0;o<r.length;o++){var i=r[o];if(i.dataset.precedence===t)a=i;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function $d(e,t,n){if(null===Ud){var r=new Map,s=Ud=new Map;s.set(n,r)}else(r=(s=Ud).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var a=n[s];if(!(a[$e]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var i=r.get(o);i?i.push(a):r.set(o,[a])}}return r}function Hd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Vd=null;function qd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Qd,e),Kd=null,Wd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var o=s[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(s=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,s),n.set(o,s),this.count++,r=Wd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:v,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Yd(e,t,n,r,s,a,o,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Jd(e,t,n,r,s,a,o,i,l,c,u,d){return e=new Yd(e,t,n,o,i,l,c,d),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},sa(a),e}function Zd(e){return e?e=Mr:Mr}function eh(e,t,n,r,s,a){s=Zd(s),null===r.context?r.context=s:r.pendingContext=s,(r=oa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(zc(n,0,t),la(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Lr(e,67108864);null!==t&&zc(t,0,67108864),nh(e,67108864)}}var sh=!0;function ah(e,t,n,r){var s=L.T;L.T=null;var a=D.p;try{D.p=2,ih(e,t,n,r)}finally{D.p=a,L.T=s}}function oh(e,t,n,r){var s=L.T;L.T=null;var a=D.p;try{D.p=8,ih(e,t,n,r)}finally{D.p=a,L.T=s}}function ih(e,t,n,r){if(sh){var s=lh(r);if(null===s)Vu(e,t,r,ch,n),vh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return mh=wh(mh,e,t,n,r,s),!0;case"dragenter":return fh=wh(fh,e,t,n,r,s),!0;case"mouseover":return ph=wh(ph,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return gh.set(a,wh(gh.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,xh.set(a,wh(xh.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==s;){var a=Ve(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var l=1<<31-fe(o);i.entanglements[1]|=l,o&=~l}Su(a),!(6&sc)&&(Sc=ee()+500,ku(0))}}break;case 13:null!==(i=Lr(a,2))&&zc(i,0,2),Bc(),nh(a,2)}if(null===(a=lh(r))&&Vu(e,t,r,ch,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function lh(e){return uh(e=Lt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=Be(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ne:return 2;case re:return 8;case se:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var hh=!1,mh=null,fh=null,ph=null,gh=new Map,xh=new Map,bh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":mh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function wh(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Ve(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function jh(e){var t=Be(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Mc();e=Pe(e);var t=Lr(n,e);null!==t&&zc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Sh(e,t,n){Nh(e)&&n.delete(t)}function kh(){hh=!1,null!==mh&&Nh(mh)&&(mh=null),null!==fh&&Nh(fh)&&(fh=null),null!==ph&&Nh(ph)&&(ph=null),gh.forEach(Sh),xh.forEach(Sh)}function Ch(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kh)))}var _h=null;function Eh(t){_h!==t&&(_h=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var a=Ve(n);null!==a&&(t.splice(e,3),e-=3,Lo(a,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Th(e){function t(t){return Ch(t,e)}null!==mh&&Ch(mh,e),null!==fh&&Ch(fh,e),null!==ph&&Ch(ph,e),gh.forEach(t),xh.forEach(t);for(var n=0;n<bh.length;n++){var r=bh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bh.length&&null===(n=bh[0]).blockedOn;)jh(n),null===n.blockedOn&&bh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],a=n[r+1],o=s[Re]||null;if("function"==typeof a)o||Eh(n);else if(o){var i=null;if(a&&a.hasAttribute("formAction")){if(s=a,o=a[Re]||null)i=o.formAction;else if(null!==uh(s))continue}else i=o.action;"function"==typeof i?n[r+1]=i:(n.splice(r,3),r-=3),Eh(n)}}}function Ph(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Mc(),e,t,null,null)},Ah.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Bc(),t[Me]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bh.length&&0!==t&&t<bh[n].priority;n++);bh.splice(n,0,e),0===n&&jh(e)}};var Ih=t.version;if("19.1.1"!==Ih)throw Error(r(527,Ih,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(s=o.return)){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return i(o),e;if(l===s)return i(o),t;l=l.sibling}throw Error(r(188))}if(n.return!==s.return)n=o,s=l;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,s=l;break}if(u===s){c=!0,s=o,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,s=o;break}if(u===s){c=!0,s=l,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Lh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ue=Dh.inject(Lh),de=Dh}catch(Mh){}}return me.createRoot=function(e,t){if(!s(e))throw Error(r(299));var n=!1,a="",o=vi,i=wi,l=ji;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,a,o,i,l,0,null),e[Me]=t.current,Hu(e),new Ph(t)},me.hydrateRoot=function(e,t,n){if(!s(e))throw Error(r(299));var a=!1,o="",i=vi,l=wi,c=ji,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jd(e,1,!0,t,0,a,o,i,l,c,0,u)).context=Zd(null),n=t.current,(o=oa(a=Pe(a=Mc()))).callback=null,ia(n,o,a),n=a,t.current.lanes=n,_e(t,n),Su(t),e[Me]=t.current,Hu(e),new Ah(t)},me.version="19.1.1",me}const be=y((ue||(ue=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),he.exports=xe()),he.exports));function ye({as:e="button",variant:t="primary",className:n="",...r}){return de.jsx(e,{className:v("btn",{primary:"btn-primary",outline:"btn-outline",ghost:"btn-ghost"}[t],n),...r})}class ve extends Error{}function we(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(t)}catch(n){return atob(t)}}function je(e,t){if("string"!=typeof e)throw new ve("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!=typeof r)throw new ve(`Invalid token specified: missing part #${n+1}`);let s;try{s=we(r)}catch(a){throw new ve(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new ve(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}ve.prototype.name="InvalidTokenError";const Ne=e=>{let t;const n=new Set,r=(e,r)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=r?r:"object"!=typeof s||null===s)?s:Object.assign({},t,s),n.forEach(n=>n(t,e))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,s,a);return a},Se=e=>e;const ke=t=>{const n=(e=>e?Ne(e):Ne)(t),r=t=>function(t,n=Se){const r=e.useSyncExternalStore(t.subscribe,e.useCallback(()=>n(t.getState()),[t,n]),e.useCallback(()=>n(t.getInitialState()),[t,n]));return e.useDebugValue(r),r}(n,t);return Object.assign(r,n),r},Ce=e=>e?ke(e):ke;function _e(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ee}=Object.prototype,{getPrototypeOf:Te}=Object,{iterator:Pe,toStringTag:Ae}=Symbol,Ie=(e=>t=>{const n=Ee.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Le=e=>(e=e.toLowerCase(),t=>Ie(t)===e),De=e=>t=>typeof t===e,{isArray:Re}=Array,Me=De("undefined");function Oe(e){return null!==e&&!Me(e)&&null!==e.constructor&&!Me(e.constructor)&&Ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ze=Le("ArrayBuffer");const Fe=De("string"),Ue=De("function"),$e=De("number"),He=e=>null!==e&&"object"==typeof e,Be=e=>{if("object"!==Ie(e))return!1;const t=Te(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Ae in e||Pe in e)},Ve=Le("Date"),qe=Le("File"),We=Le("Blob"),Ke=Le("FileList"),Ge=Le("URLSearchParams"),[Qe,Xe,Ye,Je]=["ReadableStream","Request","Response","Headers"].map(Le);function Ze(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,s;if("object"!=typeof e&&(e=[e]),Re(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Oe(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(r=0;r<a;r++)o=s[r],t.call(null,e[o],o,e)}}function et(e,t){if(Oe(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,nt=e=>!Me(e)&&e!==tt;const rt=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&Te(Uint8Array)),st=Le("HTMLFormElement"),at=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ot=Le("RegExp"),it=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ze(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const lt=Le("AsyncFunction"),ct=(ut="function"==typeof setImmediate,dt=Ue(tt.postMessage),ut?setImmediate:dt?(ht=`axios@${Math.random()}`,mt=[],tt.addEventListener("message",({source:e,data:t})=>{e===tt&&t===ht&&mt.length&&mt.shift()()},!1),e=>{mt.push(e),tt.postMessage(ht,"*")}):e=>setTimeout(e));var ut,dt,ht,mt;const ft="undefined"!=typeof queueMicrotask?queueMicrotask.bind(tt):"undefined"!=typeof process&&process.nextTick||ct,pt={isArray:Re,isArrayBuffer:ze,isBuffer:Oe,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ue(e.append)&&("formdata"===(t=Ie(e))||"object"===t&&Ue(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ze(e.buffer),t},isString:Fe,isNumber:$e,isBoolean:e=>!0===e||!1===e,isObject:He,isPlainObject:Be,isEmptyObject:e=>{if(!He(e)||Oe(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Qe,isRequest:Xe,isResponse:Ye,isHeaders:Je,isUndefined:Me,isDate:Ve,isFile:qe,isBlob:We,isRegExp:ot,isFunction:Ue,isStream:e=>He(e)&&Ue(e.pipe),isURLSearchParams:Ge,isTypedArray:rt,isFileList:Ke,forEach:Ze,merge:function e(){const{caseless:t,skipUndefined:n}=nt(this)&&this||{},r={},s=(s,a)=>{const o=t&&et(r,a)||a;Be(r[o])&&Be(s)?r[o]=e(r[o],s):Be(s)?r[o]=e({},s):Re(s)?r[o]=s.slice():n&&Me(s)||(r[o]=s)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Ze(arguments[a],s);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Ze(t,(t,r)=>{n&&Ue(t)?e[r]=_e(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,o;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],r&&!r(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==n&&Te(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ie,kindOfTest:Le,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Re(e))return e;let t=e.length;if(!$e(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Pe]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:st,hasOwnProperty:at,hasOwnProp:at,reduceDescriptors:it,freezeMethods:e=>{it(e,(t,n)=>{if(Ue(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ue(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Re(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:et,global:tt,isContextDefined:nt,isSpecCompliantForm:function(e){return!!(e&&Ue(e.append)&&"FormData"===e[Ae]&&e[Pe])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(He(e)){if(t.indexOf(e)>=0)return;if(Oe(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Re(e)?[]:{};return Ze(e,(e,t)=>{const a=n(e,r+1);!Me(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:lt,isThenable:e=>e&&(He(e)||Ue(e))&&Ue(e.then)&&Ue(e.catch),setImmediate:ct,asap:ft,isIterable:e=>null!=e&&Ue(e[Pe])};function gt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}pt.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pt.toJSONObject(this.config),code:this.code,status:this.status}}});const xt=gt.prototype,bt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bt[e]={value:e}}),Object.defineProperties(gt,bt),Object.defineProperty(xt,"isAxiosError",{value:!0}),gt.from=(e,t,n,r,s,a)=>{const o=Object.create(xt);pt.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return gt.call(o,i,l,n,r,s),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};function yt(e){return pt.isPlainObject(e)||pt.isArray(e)}function vt(e){return pt.endsWith(e,"[]")?e.slice(0,-2):e}function wt(e,t,n){return e?e.concat(t).map(function(e,t){return e=vt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const jt=pt.toFlatObject(pt,{},null,function(e){return/^is[A-Z]/.test(e)});function Nt(e,t,n){if(!pt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=pt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!pt.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,o=n.indexes,i=(n.Blob||"undefined"!=typeof Blob&&Blob)&&pt.isSpecCompliantForm(t);if(!pt.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(pt.isDate(e))return e.toISOString();if(pt.isBoolean(e))return e.toString();if(!i&&pt.isBlob(e))throw new gt("Blob is not supported. Use a Buffer instead.");return pt.isArrayBuffer(e)||pt.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"==typeof e)if(pt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pt.isArray(e)&&function(e){return pt.isArray(e)&&!e.some(yt)}(e)||(pt.isFileList(e)||pt.endsWith(n,"[]"))&&(i=pt.toArray(e)))return n=vt(n),i.forEach(function(e,r){!pt.isUndefined(e)&&null!==e&&t.append(!0===o?wt([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!yt(e)||(t.append(wt(s,n,a),l(e)),!1)}const u=[],d=Object.assign(jt,{defaultVisitor:c,convertValue:l,isVisitable:yt});if(!pt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pt.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),pt.forEach(n,function(n,a){!0===(!(pt.isUndefined(n)||null===n)&&s.call(t,n,pt.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t}function St(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function kt(e,t){this._pairs=[],e&&Nt(e,this,t)}const Ct=kt.prototype;function _t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Et(e,t,n){if(!t)return e;const r=n&&n.encode||_t;pt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):pt.isURLSearchParams(t)?t.toString():new kt(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}Ct.append=function(e,t){this._pairs.push([e,t])},Ct.toString=function(e){const t=e?function(t){return e.call(this,t,St)}:St;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Tt{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pt.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Pt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},At={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:kt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},It="undefined"!=typeof window&&"undefined"!=typeof document,Lt="object"==typeof navigator&&navigator||void 0,Dt=It&&(!Lt||["ReactNative","NativeScript","NS"].indexOf(Lt.product)<0),Rt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Mt=It&&window.location.href||"http://localhost",Ot={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:It,hasStandardBrowserEnv:Dt,hasStandardBrowserWebWorkerEnv:Rt,navigator:Lt,origin:Mt},Symbol.toStringTag,{value:"Module"})),...At};function zt(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),i=s>=e.length;if(a=!a&&pt.isArray(r)?r.length:a,i)return pt.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&pt.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&pt.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o}if(pt.isFormData(e)&&pt.isFunction(e.entries)){const n={};return pt.forEachEntry(e,(e,r)=>{t(function(e){return pt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const Ft={transitional:Pt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=pt.isObject(e);s&&pt.isHTMLForm(e)&&(e=new FormData(e));if(pt.isFormData(e))return r?JSON.stringify(zt(e)):e;if(pt.isArrayBuffer(e)||pt.isBuffer(e)||pt.isStream(e)||pt.isFile(e)||pt.isBlob(e)||pt.isReadableStream(e))return e;if(pt.isArrayBufferView(e))return e.buffer;if(pt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Nt(e,new Ot.classes.URLSearchParams,{visitor:function(e,t,n,r){return Ot.isNode&&pt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=pt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Nt(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(pt.isString(e))try{return(t||JSON.parse)(e),pt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ft.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(pt.isResponse(e)||pt.isReadableStream(e))return e;if(e&&pt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(s){if(n){if("SyntaxError"===s.name)throw gt.from(s,gt.ERR_BAD_RESPONSE,this,null,this.response);throw s}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pt.forEach(["delete","get","head","post","put","patch"],e=>{Ft.headers[e]={}});const Ut=pt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$t=Symbol("internals");function Ht(e){return e&&String(e).trim().toLowerCase()}function Bt(e){return!1===e||null==e?e:pt.isArray(e)?e.map(Bt):String(e)}function Vt(e,t,n,r,s){return pt.isFunction(r)?r.call(this,t,n):(s&&(t=n),pt.isString(t)?pt.isString(r)?-1!==t.indexOf(r):pt.isRegExp(r)?r.test(t):void 0:void 0)}let qt=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Ht(t);if(!s)throw new Error("header name must be a non-empty string");const a=pt.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Bt(e))}const a=(e,t)=>pt.forEach(e,(e,n)=>s(e,n,t));if(pt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(pt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Ut[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(pt.isObject(e)&&pt.isIterable(e)){let n,r,s={};for(const t of e){if(!pt.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?pt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Ht(e)){const n=pt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(pt.isFunction(t))return t.call(this,e,n);if(pt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ht(e)){const n=pt.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Ht(e)){const s=pt.findKey(n,e);!s||t&&!Vt(0,n[s],s,t)||(delete n[s],r=!0)}}return pt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Vt(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return pt.forEach(this,(r,s)=>{const a=pt.findKey(n,s);if(a)return t[a]=Bt(r),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();o!==s&&delete t[s],t[o]=Bt(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&pt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[$t]=this[$t]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ht(e);t[r]||(!function(e,t){const n=pt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return pt.isArray(e)?e.forEach(r):r(e),this}};function Wt(e,t){const n=this||Ft,r=t||n,s=qt.from(r.headers);let a=r.data;return pt.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Kt(e){return!(!e||!e.__CANCEL__)}function Gt(e,t,n){gt.call(this,null==e?"canceled":e,gt.ERR_CANCELED,t,n),this.name="CanceledError"}function Qt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new gt("Request failed with status code "+n.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pt.reduceDescriptors(qt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),pt.freezeMethods(qt),pt.inherits(Gt,gt,{__CANCEL__:!0});const Xt=(e,t,n=3)=>{let r=0;const s=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=r[o];s||(s=l),n[a]=i,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,s=0,a=1e3/t;const o=(t,a=Date.now())=>{s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),i=t-s;i>=a?o(e,t):(n=e,r||(r=setTimeout(()=>{r=null,o(n)},a-i)))},()=>n&&o(n)]}(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,i=a-r,l=s(i);r=a;e({loaded:a,total:o,progress:o?a/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Yt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Jt=e=>(...t)=>pt.asap(()=>e(...t)),Zt=Ot.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ot.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,en=Ot.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const o=[e+"="+encodeURIComponent(t)];pt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pt.isString(r)&&o.push("path="+r),pt.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function tn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const nn=e=>e instanceof qt?{...e}:e;function rn(e,t){t=t||{};const n={};function r(e,t,n,r){return pt.isPlainObject(e)&&pt.isPlainObject(t)?pt.merge.call({caseless:r},e,t):pt.isPlainObject(t)?pt.merge({},t):pt.isArray(t)?t.slice():t}function s(e,t,n,s){return pt.isUndefined(t)?pt.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!pt.isUndefined(t))return r(void 0,t)}function o(e,t){return pt.isUndefined(t)?pt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,n)=>s(nn(e),nn(t),0,!0)};return pt.forEach(Object.keys({...e,...t}),function(r){const a=l[r]||s,o=a(e[r],t[r],r);pt.isUndefined(o)&&a!==i||(n[r]=o)}),n}const sn=e=>{const t=rn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:i}=t;if(t.headers=o=qt.from(o),t.url=Et(tn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),pt.isFormData(n))if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(pt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&o.set(e,n)})}if(Ot.hasStandardBrowserEnv&&(r&&pt.isFunction(r)&&(r=r(t)),r||!1!==r&&Zt(t.url))){const e=s&&a&&en.read(a);e&&o.set(s,e)}return t},an="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=sn(e);let s=r.data;const a=qt.from(r.headers).normalize();let o,i,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:m}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=qt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Qt(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new gt("Request aborted",gt.ECONNABORTED,e,p)),p=null)},p.onerror=function(t){const r=new gt(t&&t.message?t.message:"Network Error",gt.ERR_NETWORK,e,p);r.event=t||null,n(r),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Pt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new gt(t,s.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,e,p)),p=null},void 0===s&&a.setContentType(null),"setRequestHeader"in p&&pt.forEach(a.toJSON(),function(e,t){p.setRequestHeader(t,e)}),pt.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),d&&"json"!==d&&(p.responseType=r.responseType),m&&([l,u]=Xt(m,!0),p.addEventListener("progress",l)),h&&p.upload&&([i,c]=Xt(h),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{p&&(n(!t||t.type?new Gt(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===Ot.protocols.indexOf(x)?n(new gt("Unsupported protocol "+x+":",gt.ERR_BAD_REQUEST,e)):p.send(s||null)})},on=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof gt?t:new Gt(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new gt(`timeout ${t} of ms exceeded`,gt.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:i}=r;return i.unsubscribe=()=>pt.asap(o),i}},ln=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},cn=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},un=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of cn(e))yield*ln(n,t)}(e,t);let a,o=0,i=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return i(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},{isFunction:dn}=pt,hn=(({Request:e,Response:t})=>({Request:e,Response:t}))(pt.global),{ReadableStream:mn,TextEncoder:fn}=pt.global,pn=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},gn=e=>{e=pt.merge.call({skipUndefined:!0},hn,e);const{fetch:t,Request:n,Response:r}=e,s=t?dn(t):"function"==typeof fetch,a=dn(n),o=dn(r);if(!s)return!1;const i=s&&dn(mn),l=s&&("function"==typeof fn?(e=>t=>e.encode(t))(new fn):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&i&&pn(()=>{let e=!1;const t=new n(Ot.origin,{body:new mn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&i&&pn(()=>pt.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new gt(`Response type '${e}' is not supported`,gt.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=pt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(pt.isBlob(e))return e.size;if(pt.isSpecCompliantForm(e)){const t=new n(Ot.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return pt.isArrayBufferView(e)||pt.isArrayBuffer(e)?e.byteLength:(pt.isURLSearchParams(e)&&(e+=""),pt.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:o,data:i,signal:l,cancelToken:m,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:x,headers:b,withCredentials:y="same-origin",fetchOptions:v}=sn(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let j=on([l,m&&m.toAbortSignal()],f),N=null;const S=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let k;try{if(g&&c&&"get"!==o&&"head"!==o&&0!==(k=await h(b,i))){let e,t=new n(s,{method:"POST",body:i,duplex:"half"});if(pt.isFormData(i)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=Yt(k,Xt(Jt(g)));i=un(t.body,65536,e,n)}}pt.isString(y)||(y=y?"include":"omit");const t=a&&"credentials"in n.prototype,l={...v,signal:j,method:o.toUpperCase(),headers:b.normalize().toJSON(),body:i,duplex:"half",credentials:t?y:void 0};N=a&&new n(s,l);let m=await(a?w(N,v):w(s,l));const f=u&&("stream"===x||"response"===x);if(u&&(p||f&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=m[t]});const t=pt.toFiniteNumber(m.headers.get("content-length")),[n,s]=p&&Yt(t,Xt(Jt(p),!0))||[];m=new r(un(m.body,65536,n,()=>{s&&s(),S&&S()}),e)}x=x||"text";let C=await d[pt.findKey(d,x)||"text"](m,e);return!f&&S&&S(),await new Promise((t,n)=>{Qt(t,n,{data:C,headers:qt.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:N})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new gt("Network Error",gt.ERR_NETWORK,e,N),{cause:C.cause||C});throw gt.from(C,C&&C.code,e,N)}}},xn=new Map,bn=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let o,i,l=a.length,c=xn;for(;l--;)o=a[l],i=c.get(o),void 0===i&&c.set(o,i=l?new Map:gn(t)),c=i;return i};bn();const yn={http:null,xhr:an,fetch:{get:bn}};pt.forEach(yn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const vn=e=>`- ${e}`,wn=e=>pt.isFunction(e)||null===e||!1===e,jn=(e,t)=>{e=pt.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],s=r,!wn(r)&&(s=yn[(n=String(r)).toLowerCase()],void 0===s))throw new gt(`Unknown adapter '${n}'`);if(s&&(pt.isFunction(s)||(s=s.get(t))))break;a[n||"#"+o]=s}if(!s){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new gt("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(vn).join("\n"):" "+vn(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s};function Nn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gt(null,e)}function Sn(e){Nn(e),e.headers=qt.from(e.headers),e.data=Wt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return jn(e.adapter||Ft.adapter,e)(e).then(function(t){return Nn(e),t.data=Wt.call(e,e.transformResponse,t),t.headers=qt.from(t.headers),t},function(t){return Kt(t)||(Nn(e),t&&t.response&&(t.response.data=Wt.call(e,e.transformResponse,t.response),t.response.headers=qt.from(t.response.headers))),Promise.reject(t)})}const kn="1.12.2",Cn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Cn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _n={};Cn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+kn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new gt(r(s," has been removed"+(t?" in "+t:"")),gt.ERR_DEPRECATED);return t&&!_n[s]&&(_n[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},Cn.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const En={assertOptions:function(e,t,n){if("object"!=typeof e)throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new gt("option "+a+" must be "+n,gt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new gt("Unknown option "+a,gt.ERR_BAD_OPTION)}},validators:Cn},Tn=En.validators;let Pn=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Tt,response:new Tt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=rn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&En.assertOptions(n,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),null!=r&&(pt.isFunction(r)?t.paramsSerializer={serialize:r}:En.assertOptions(r,{encode:Tn.function,serialize:Tn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),En.assertOptions(t,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&pt.merge(s.common,s[t.method]);s&&pt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=qt.concat(a,s);const o=[];let i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!i){const e=[Sn.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Sn.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Et(tn((e=rn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};pt.forEach(["delete","get","head","options"],function(e){Pn.prototype[e]=function(t,n){return this.request(rn(n||{},{method:e,url:t,data:(n||{}).data}))}}),pt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(rn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Pn.prototype[e]=t(),Pn.prototype[e+"Form"]=t(!0)});const An={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(An).forEach(([e,t])=>{An[t]=e});const In=function e(t){const n=new Pn(t),r=_e(Pn.prototype.request,n);return pt.extend(r,Pn.prototype,n,{allOwnKeys:!0}),pt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(rn(t,n))},r}(Ft);In.Axios=Pn,In.CanceledError=Gt,In.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Gt(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},In.isCancel=Kt,In.VERSION=kn,In.toFormData=Nt,In.AxiosError=gt,In.Cancel=In.CanceledError,In.all=function(e){return Promise.all(e)},In.spread=function(e){return function(t){return e.apply(null,t)}},In.isAxiosError=function(e){return pt.isObject(e)&&!0===e.isAxiosError},In.mergeConfig=rn,In.AxiosHeaders=qt,In.formToJSON=e=>zt(pt.isHTMLForm(e)?new FormData(e):e),In.getAdapter=jn,In.HttpStatusCode=An,In.default=In;const{Axios:Ln,AxiosError:Dn,CanceledError:Rn,isCancel:Mn,CancelToken:On,VERSION:zn,all:Fn,Cancel:Un,isAxiosError:$n,spread:Hn,toFormData:Bn,AxiosHeaders:Vn,HttpStatusCode:qn,formToJSON:Wn,getAdapter:Kn,mergeConfig:Gn}=In,Qn="undefined"!=typeof window&&"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname,Xn=In.create({baseURL:Qn?"/api":"http://localhost:5070/api",headers:{"Content-Type":"application/json"}});Xn.interceptors.request.use(e=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(" Sending token:",t.slice(0,15)+"...")),e}),Xn.interceptors.response.use(e=>e,e=>{const t=e?.response?.status;return 401===t&&console.warn(" 401 Unauthorized"),Promise.reject(e)});const Yn=e=>void 0!==e?.data?.data?e.data.data:e?.data,Jn=e=>e?.response?.data?.message?e.response.data.message:e?.response?.data?.error?e.response.data.error:e?.message?e.message:" xy ra li",Zn=async(e,t={})=>{try{const n=await Xn.get(e,t);return Yn(n)}catch(n){throw{...n,message:Jn(n)}}},er=async(e,t={},n={})=>{try{const r=await Xn.post(e,t,n);return Yn(r)}catch(r){throw{...r,message:Jn(r)}}},tr=async(e,t={},n={})=>{try{const r=await Xn.put(e,t,n);return Yn(r)}catch(r){throw{...r,message:Jn(r)}}},nr=async(e,t={},n={})=>{try{const r=await Xn.patch(e,t,n);return Yn(r)}catch(r){throw{...r,message:Jn(r)}}},rr=async(e,t={})=>{try{const n=await Xn.delete(e,t);return Yn(n)}catch(n){throw{...n,message:Jn(n)}}},sr=async(e,t,n={})=>{try{const r=await Xn.post(e,t,{...n,headers:{"Content-Type":"multipart/form-data",...n.headers}});return Yn(r)}catch(r){throw{...r,message:Jn(r)}}},ar=Ce((e,t)=>({balance:0,loading:!1,error:null,txns:[],txLoading:!1,txError:null,fetchBalance:async t=>{if(t){e({loading:!0,error:null});try{const n=await Zn(`/wallets/${t}`);e({balance:n?.balance??0,loading:!1})}catch(n){e({error:n?.message||"Fetch balance failed",loading:!1})}}},fetchTransactions:async(t,n=20,r="desc")=>{if(t){e({txLoading:!0,txError:null});try{const s=await Zn("/wallets/history",{params:{userId:t,take:n,sort:r}}),a=Array.isArray(s)?s:s?.items||[];e({txns:a,txLoading:!1})}catch(s){e({txError:s?.message||"Fetch transactions failed",txLoading:!1})}}},fetchTopups:async(t,n=20,r="desc")=>{if(t){e({txLoading:!0,txError:null});try{const s=await Zn("/wallets/topups",{params:{userId:t,take:n,sort:r}}),a=Array.isArray(s)?s:s?.items||[];e({txns:a,txLoading:!1})}catch(s){e({txError:s?.message||"Fetch topup history failed",txLoading:!1})}}}}));class or extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class ir extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class lr extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class cr extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class ur extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class dr extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class hr extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class mr extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class fr{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class pr{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var gr,xr;(xr=gr||(gr={}))[xr.Trace=0]="Trace",xr[xr.Debug=1]="Debug",xr[xr.Information=2]="Information",xr[xr.Warning=3]="Warning",xr[xr.Error=4]="Error",xr[xr.Critical=5]="Critical",xr[xr.None=6]="None";class br{constructor(){}log(e,t){}}br.instance=new br;class yr{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class vr{static get isBrowser(){return!vr.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!vr.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!vr.isNode&&"object"==typeof window&&void 0===window.document}static get isNode(){return"undefined"!=typeof process&&process.release&&"node"===process.release.name}}function wr(e,t){let n="";return jr(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach(e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `}),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function jr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function Nr(e,t,n,r,s,a){const o={},[i,l]=Cr();o[i]=l,e.log(gr.Trace,`(${t} transport) sending data. ${wr(s,a.logMessageContent)}.`);const c=jr(s)?"arraybuffer":"text",u=await n.post(r,{content:s,headers:{...o,...a.headers},responseType:c,timeout:a.timeout,withCredentials:a.withCredentials});e.log(gr.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class Sr{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class kr{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${gr[e]}: ${t}`;switch(e){case gr.Critical:case gr.Error:this.out.error(n);break;case gr.Warning:this.out.warn(n);break;case gr.Information:this.out.info(n);break;default:this.out.log(n)}}}}function Cr(){let e="X-SignalR-User-Agent";return vr.isNode&&(e="User-Agent"),[e,_r("9.0.6",Er(),Pr(),Tr())]}function _r(e,t,n,r){let s="Microsoft SignalR/";const a=e.split(".");return s+=`${a[0]}.${a[1]}`,s+=` (${e}; `,s+=t&&""!==t?`${t}; `:"Unknown OS; ",s+=`${n}`,s+=r?`; ${r}`:"; Unknown Runtime Version",s+=")",s}function Er(){if(!vr.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Tr(){if(vr.isNode)return process.versions.node}function Pr(){return vr.isNode?"NodeJS":"Browser"}function Ar(e){return e.stack?e.stack:e.message?e.message:`${e}`}class Ir extends pr{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch||vr.isNode){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),"undefined"==typeof fetch?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new lr;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new lr});let r,s=null;if(e.timeout){const r=e.timeout;s=setTimeout(()=>{t.abort(),this._logger.log(gr.Warning,"Timeout from HTTP request."),n=new ir},r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},jr(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(i){if(n)throw n;throw this._logger.log(gr.Warning,`Error from HTTP request. ${i}.`),i}finally{s&&clearTimeout(s),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await Lr(r,"text");throw new or(e||r.statusText,r.status)}const a=Lr(r,e.responseType),o=await a;return new fr(r.status,r.statusText,o)}getCookieString(e){let t="";return vr.isNode&&this._jar&&this._jar.getCookies(e,(e,n)=>t=n.join("; ")),t}}function Lr(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class Dr extends pr{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new lr):e.method?e.url?new Promise((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(jr(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=e.headers;s&&Object.keys(s).forEach(e=>{r.setRequestHeader(e,s[e])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new lr)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new fr(r.status,r.statusText,r.response||r.responseText)):n(new or(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(gr.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new or(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(gr.Warning,"Timeout from HTTP request."),n(new ir)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Rr extends pr{constructor(e){if(super(),"undefined"!=typeof fetch||vr.isNode)this._httpClient=new Ir(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Dr(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new lr):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Mr{static write(e){return`${e}${Mr.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Mr.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(Mr.RecordSeparator);return t.pop(),t}}Mr.RecordSeparatorCode=30,Mr.RecordSeparator=String.fromCharCode(Mr.RecordSeparatorCode);class Or{writeHandshakeRequest(e){return Mr.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(jr(e)){const r=new Uint8Array(e),s=r.indexOf(Mr.RecordSeparatorCode);if(-1===s)throw new Error("Message is incomplete.");const a=s+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,a))),n=r.byteLength>a?r.slice(a).buffer:null}else{const r=e,s=r.indexOf(Mr.RecordSeparator);if(-1===s)throw new Error("Message is incomplete.");const a=s+1;t=r.substring(0,a),n=r.length>a?r.substring(a):null}const r=Mr.parse(t),s=JSON.parse(r[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[n,s]}}var zr,Fr;(Fr=zr||(zr={}))[Fr.Invocation=1]="Invocation",Fr[Fr.StreamItem=2]="StreamItem",Fr[Fr.Completion=3]="Completion",Fr[Fr.StreamInvocation=4]="StreamInvocation",Fr[Fr.CancelInvocation=5]="CancelInvocation",Fr[Fr.Ping=6]="Ping",Fr[Fr.Close=7]="Close",Fr[Fr.Ack=8]="Ack",Fr[Fr.Sequence=9]="Sequence";class Ur{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Sr(this,e)}}class $r{constructor(e,t,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=n}async _send(e){const t=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let e=()=>{},r=()=>{};jr(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise((t,n)=>{e=t,r=n})),this._messages.push(new Hr(t,this._totalMessageCount,e,r))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await n}_ack(e){let t=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)t=n,jr(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==t&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type===zr.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){e.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=0!==this._messages.length?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:zr.Sequence,sequenceId:e}));const t=this._messages;for(const n of t)await this._connection.send(n._message);this._reconnectInProgress=!1}_dispose(e){null!=e||(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case zr.Invocation:case zr.StreamItem:case zr.Completion:case zr.StreamInvocation:case zr.CancelInvocation:return!0;case zr.Close:case zr.Sequence:case zr.Ping:case zr.Ack:return!1}}_ackTimer(){void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:zr.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Hr{constructor(e,t,n,r){this._message=e,this._id=t,this._resolver=n,this._rejector=r}}var Br,Vr;(Vr=Br||(Br={})).Disconnected="Disconnected",Vr.Connecting="Connecting",Vr.Connected="Connected",Vr.Disconnecting="Disconnecting",Vr.Reconnecting="Reconnecting";class qr{static create(e,t,n,r,s,a,o){return new qr(e,t,n,r,s,a,o)}constructor(e,t,n,r,s,a,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(gr.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},yr.isRequired(e,"connection"),yr.isRequired(t,"logger"),yr.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=null!=s?s:3e4,this.keepAliveIntervalInMilliseconds=null!=a?a:15e3,this._statefulReconnectBufferSize=null!=o?o:1e5,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new Or,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Br.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:zr.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Br.Disconnected&&this._connectionState!==Br.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Br.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Br.Connecting,this._logger.log(gr.Debug,"Starting HubConnection.");try{await this._startInternal(),vr.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Br.Connected,this._connectionStarted=!0,this._logger.log(gr.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Br.Disconnected,this._logger.log(gr.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t});await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const n={protocol:this._protocol.name,version:t};if(this._logger.log(gr.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(gr.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new $r(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(t){throw this._logger.log(gr.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(t),t}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(t){}}_stopInternal(e){if(this._connectionState===Br.Disconnected)return this._logger.log(gr.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Br.Disconnecting)return this._logger.log(gr.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=Br.Disconnecting,this._logger.log(gr.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(gr.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Br.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new lr("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createStreamInvocation(e,t,r);let a;const o=new Ur;return o.cancelCallback=()=>{const e=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],a.then(()=>this._sendWithProtocol(e))},this._callbacks[s.invocationId]=(e,t)=>{t?o.error(t):e&&(e.type===zr.Completion?e.error?o.error(new Error(e.error)):o.complete():o.next(e.item))},a=this._sendWithProtocol(s).catch(e=>{o.error(e),delete this._callbacks[s.invocationId]}),this._launchStreams(n,a),o}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,s),s}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),s=this._createInvocation(e,t,!1,r);return new Promise((e,t)=>{this._callbacks[s.invocationId]=(n,r)=>{r?t(r):n&&(n.type===zr.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(s).catch(e=>{t(e),delete this._callbacks[s.invocationId]});this._launchStreams(n,r)})}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const e of n)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(e))switch(e.type){case zr.Invocation:this._invokeClientMethod(e).catch(e=>{this._logger.log(gr.Error,`Invoke client method threw error: ${Ar(e)}`)});break;case zr.StreamItem:case zr.Completion:{const n=this._callbacks[e.invocationId];if(n){e.type===zr.Completion&&delete this._callbacks[e.invocationId];try{n(e)}catch(t){this._logger.log(gr.Error,`Stream callback threw error: ${Ar(t)}`)}}break}case zr.Ping:break;case zr.Close:{this._logger.log(gr.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}case zr.Ack:this._messageBuffer&&this._messageBuffer._ack(e);break;case zr.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(e);break;default:this._logger.log(gr.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){const e="Error parsing handshake response: "+r;this._logger.log(gr.Error,e);const t=new Error(e);throw this._handshakeRejecter(t),t}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(gr.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(gr.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Br.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(gr.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(gr.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),s=!!e.invocationId;let a,o,i;for(const c of r)try{const n=a;a=await c.apply(this,e.arguments),s&&a&&n&&(this._logger.log(gr.Error,`Multiple results provided for '${t}'. Sending error to server.`),i=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),o=void 0}catch(l){o=l,this._logger.log(gr.Error,`A callback for the method '${t}' threw error '${l}'.`)}i?await this._sendWithProtocol(i):s?(o?i=this._createCompletionMessage(e.invocationId,`${o}`,null):void 0!==a?i=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(gr.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),i=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(i)):a&&this._logger.log(gr.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(gr.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new lr("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Br.Disconnecting?this._completeClose(e):this._connectionState===Br.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Br.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Br.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(null!=e?e:new Error("Connection closed.")),this._messageBuffer=void 0),vr.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(gr.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(n++,0,r);if(null===s)return this._logger.log(gr.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=Br.Reconnecting,e?this._logger.log(gr.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(gr.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach(t=>t.apply(this,[e]))}catch(a){this._logger.log(gr.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Br.Reconnecting)return void this._logger.log(gr.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==s;){if(this._logger.log(gr.Information,`Reconnect attempt number ${n} will start in ${s} ms.`),await new Promise(e=>{this._reconnectDelayHandle=setTimeout(e,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==Br.Reconnecting)return void this._logger.log(gr.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=Br.Connected,this._logger.log(gr.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach(e=>e.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(gr.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(gr.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Br.Reconnecting)return this._logger.log(gr.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===Br.Disconnecting&&this._completeClose());r=a instanceof Error?a:new Error(a.toString()),s=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(gr.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(r){return this._logger.log(gr.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach(n=>{const r=t[n];try{r(null,e)}catch(s){this._logger.log(gr.Error,`Stream 'error' callback called with '${e}' threw error: ${Ar(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{target:e,arguments:t,streamIds:r,type:zr.Invocation}:{target:e,arguments:t,type:zr.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{target:e,arguments:t,invocationId:n.toString(),streamIds:r,type:zr.Invocation}:{target:e,arguments:t,invocationId:n.toString(),type:zr.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n)))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(n,r)))},next:e=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(n,e)))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const s=e[r];if(this._isObservable(s)){const a=this._invocationId;this._invocationId++,t[a]=s,n.push(a.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{target:e,arguments:t,invocationId:r.toString(),streamIds:n,type:zr.StreamInvocation}:{target:e,arguments:t,invocationId:r.toString(),type:zr.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:zr.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:zr.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:zr.Completion}:{invocationId:e,result:n,type:zr.Completion}}_createCloseMessage(){return{type:zr.Close}}}const Wr=[0,2e3,1e4,3e4,null];class Kr{constructor(e){this._retryDelays=void 0!==e?[...e,null]:Wr}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class Gr{}Gr.Authorization="Authorization",Gr.Cookie="Cookie";class Qr extends pr{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Gr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Gr.Authorization]&&delete e.headers[Gr.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Xr,Yr,Jr,Zr;(Yr=Xr||(Xr={}))[Yr.None=0]="None",Yr[Yr.WebSockets=1]="WebSockets",Yr[Yr.ServerSentEvents=2]="ServerSentEvents",Yr[Yr.LongPolling=4]="LongPolling",(Zr=Jr||(Jr={}))[Zr.Text=1]="Text",Zr[Zr.Binary=2]="Binary";let es=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class ts{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new es,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(yr.isRequired(e,"url"),yr.isRequired(t,"transferFormat"),yr.isIn(t,Jr,"transferFormat"),this._url=e,this._logger.log(gr.Trace,"(LongPolling transport) Connecting."),t===Jr.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=Cr(),s={[n]:r,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};t===Jr.Binary&&(a.responseType="arraybuffer");const o=`${e}&_=${Date.now()}`;this._logger.log(gr.Trace,`(LongPolling transport) polling: ${o}.`);const i=await this._httpClient.get(o,a);200!==i.statusCode?(this._logger.log(gr.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new or(i.statusText||"",i.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(gr.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(gr.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(gr.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new or(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(gr.Trace,`(LongPolling transport) data received. ${wr(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(gr.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(n){this._running?n instanceof ir?this._logger.log(gr.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=n,this._running=!1):this._logger.log(gr.Trace,`(LongPolling transport) Poll errored after shutdown: ${n.message}`)}}finally{this._logger.log(gr.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?Nr(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(gr.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(gr.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=Cr();t[n]=r;const s={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let a;try{await this._httpClient.delete(this._url,s)}catch(e){a=e}a?a instanceof or&&(404===a.statusCode?this._logger.log(gr.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(gr.Trace,`(LongPolling transport) Error sending a DELETE request: ${a}`)):this._logger.log(gr.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(gr.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(gr.Trace,e),this.onclose(this._closeError)}}}class ns{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return yr.isRequired(e,"url"),yr.isRequired(t,"transferFormat"),yr.isIn(t,Jr,"transferFormat"),this._logger.log(gr.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((n,r)=>{let s,a=!1;if(t===Jr.Text){if(vr.isBrowser||vr.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,a]=Cr();n[r]=a,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{s.onmessage=e=>{if(this.onreceive)try{this._logger.log(gr.Trace,`(SSE transport) data received. ${wr(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(t){return void this._close(t)}},s.onerror=e=>{a?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(gr.Information,`SSE connected to ${this._url}`),this._eventSource=s,a=!0,n()}}catch(o){return void r(o)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})}async send(e){return this._eventSource?Nr(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class rs{constructor(e,t,n,r,s,a){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=s,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,t){let n;return yr.isRequired(e,"url"),yr.isRequired(t,"transferFormat"),yr.isIn(t,Jr,"transferFormat"),this._logger.log(gr.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise((r,s)=>{let a;e=e.replace(/^http/,"ws");const o=this._httpClient.getCookieString(e);let i=!1;if(vr.isNode||vr.isReactNative){const t={},[r,s]=Cr();t[r]=s,n&&(t[Gr.Authorization]=`Bearer ${n}`),o&&(t[Gr.Cookie]=o),a=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);a||(a=new this._webSocketConstructor(e)),t===Jr.Binary&&(a.binaryType="arraybuffer"),a.onopen=t=>{this._logger.log(gr.Information,`WebSocket connected to ${e}.`),this._webSocket=a,i=!0,r()},a.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(gr.Information,`(WebSockets transport) ${t}.`)},a.onmessage=e=>{if(this._logger.log(gr.Trace,`(WebSockets transport) data received. ${wr(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(t){return void this._close(t)}},a.onclose=e=>{if(i)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(t))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(gr.Trace,`(WebSockets transport) sending data. ${wr(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(gr.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class ss{constructor(e,t={}){var n;if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,yr.isRequired(e,"url"),this._logger=void 0===(n=t.logger)?new kr(gr.Information):null===n?br.instance:void 0!==n.log?n:new kr(n),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let r=null,s=null;if(vr.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;r=e("ws"),s=e("eventsource")}vr.isNode||"undefined"==typeof WebSocket||t.WebSocket?vr.isNode&&!t.WebSocket&&r&&(t.WebSocket=r):t.WebSocket=WebSocket,vr.isNode||"undefined"==typeof EventSource||t.EventSource?vr.isNode&&!t.EventSource&&void 0!==s&&(t.EventSource=s):t.EventSource=EventSource,this._httpClient=new Qr(t.httpClient||new Rr(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Jr.Binary,yr.isIn(e,Jr,"transferFormat"),this._logger.log(gr.Debug,`Starting connection with transfer format '${Jr[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(gr.Error,e),await this._stopPromise,Promise.reject(new lr(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(gr.Error,e),Promise.reject(new lr(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new as(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(gr.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(gr.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(e),void(await this._stopPromise))}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(t){}if(this.transport){try{await this.transport.stop()}catch(t){this._logger.log(gr.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(gr.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==Xr.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(Xr.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new lr("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof ts&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(gr.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(n){return this._logger.log(gr.Error,"Failed to start the connection: "+n),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(n)}}async _getNegotiationResponse(e){const t={},[n,r]=Cr();t[n]=r;const s=this._resolveNegotiateUrl(e);this._logger.log(gr.Debug,`Sending negotiation request: ${s}.`);try{const e=await this._httpClient.post(s,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n.useStatefulReconnect&&!0!==this._options._useStatefulReconnect?Promise.reject(new hr("Client didn't negotiate Stateful Reconnect but the server did.")):n}catch(a){let e="Failed to complete negotiation with the server: "+a;return a instanceof or&&404===a.statusCode&&(e+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(gr.Error,e),Promise.reject(new hr(e))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let s=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(gr.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(s,r),void(this.connectionId=n.connectionId);const a=[],o=n.availableTransports||[];let i=n;for(const c of o){const n=this._resolveTransportOrError(c,t,r,!0===(null==i?void 0:i.useStatefulReconnect));if(n instanceof Error)a.push(`${c.transport} failed:`),a.push(n);else if(this._isITransport(n)){if(this.transport=n,!i){try{i=await this._getNegotiationResponse(e)}catch(l){return Promise.reject(l)}s=this._createConnectUrl(e,i.connectionToken)}try{return await this._startTransport(s,r),void(this.connectionId=i.connectionId)}catch(l){if(this._logger.log(gr.Error,`Failed to start the transport '${c.transport}': ${l}`),i=void 0,a.push(new dr(`${c.transport} failed: ${l}`,Xr[c.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(gr.Debug,e),Promise.reject(new lr(e))}}}}return a.length>0?Promise.reject(new mr(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Xr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new rs(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Xr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ns(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Xr.LongPolling:return new ts(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect){try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}r&&this._stopConnection(n)}else this._stopConnection(n)}:this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n,r){const s=Xr[e.transport];if(null==s)return this._logger.log(gr.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||0!==(t&e)}(t,s))return this._logger.log(gr.Debug,`Skipping transport '${Xr[s]}' because it was disabled by the client.`),new ur(`'${Xr[s]}' is disabled by the client.`,s);if(!(e.transferFormats.map(e=>Jr[e]).indexOf(n)>=0))return this._logger.log(gr.Debug,`Skipping transport '${Xr[s]}' because it does not support the requested transfer format '${Jr[n]}'.`),new Error(`'${Xr[s]}' does not support ${Jr[n]}.`);if(s===Xr.WebSockets&&!this._options.WebSocket||s===Xr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(gr.Debug,`Skipping transport '${Xr[s]}' because it is not supported in your environment.'`),new cr(`'${Xr[s]}' is not supported in your environment.`,s);this._logger.log(gr.Debug,`Selecting transport '${Xr[s]}'.`);try{return this.features.reconnect=s===Xr.WebSockets?r:void 0,this._constructTransport(s)}catch(a){return a}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(gr.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(gr.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(gr.Error,`Connection disconnected with error '${e}'.`):this._logger.log(gr.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(gr.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(gr.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(gr.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!vr.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(gr.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const n=new URLSearchParams(t.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?"true"===n.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&n.append("useStatefulReconnect","true"),t.search=n.toString(),t.toString()}}class as{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new os,this._transportResult=new os,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new os),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new os;const t=this._transportResult;this._transportResult=void 0;const n="string"==typeof this._buffer[0]?this._buffer.join(""):as._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(e){t.reject(e)}}}static _concatBuffers(e){const t=e.map(e=>e.byteLength).reduce((e,t)=>e+t),n=new Uint8Array(t);let r=0;for(const s of e)n.set(new Uint8Array(s),r),r+=s.byteLength;return n.buffer}}class os{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class is{constructor(){this.name="json",this.version=2,this.transferFormat=Jr.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=br.instance);const n=Mr.parse(e),r=[];for(const s of n){const e=JSON.parse(s);if("number"!=typeof e.type)throw new Error("Invalid payload.");switch(e.type){case zr.Invocation:this._isInvocationMessage(e);break;case zr.StreamItem:this._isStreamItemMessage(e);break;case zr.Completion:this._isCompletionMessage(e);break;case zr.Ping:case zr.Close:break;case zr.Ack:this._isAckMessage(e);break;case zr.Sequence:this._isSequenceMessage(e);break;default:t.log(gr.Information,"Unknown message type '"+e.type+"' ignored.");continue}r.push(e)}return r}writeMessage(e){return Mr.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const ls={trace:gr.Trace,debug:gr.Debug,info:gr.Information,information:gr.Information,warn:gr.Warning,warning:gr.Warning,error:gr.Error,critical:gr.Critical,none:gr.None};class cs{configureLogging(e){if(yr.isRequired(e,"logging"),void 0!==e.log)this.logger=e;else if("string"==typeof e){const t=function(e){const t=ls[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new kr(t)}else this.logger=new kr(e);return this}withUrl(e,t){return yr.isRequired(e,"url"),yr.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return yr.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Kr(e):this.reconnectPolicy=e:this.reconnectPolicy=new Kr,this}withServerTimeout(e){return yr.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return yr.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=null==e?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new ss(this.url,e);return qr.create(t,this.logger||br.instance,this.protocol||new is,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}const us="undefined"!=typeof window&&"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?"https://canpany-api.malaysiawest-01.azurewebsites.net":"http://localhost:5070",ds=Ce((e,t)=>({items:[],connection:null,connected:!1,addNotification:t=>(console.log(" Adding notification:",t),e(e=>{if(!t||!t.id)return console.warn(" Invalid notification (missing id):",t),e;if(e.items.some(e=>e.id===t.id))return console.log(" Notification already exists:",t.id),e;const n=[t,...e.items];return console.log(` Notification added. Total: ${n.length}`),{items:n}})),markRead:t=>e(e=>({items:e.items.map(e=>e.id===t?{...e,isRead:!0}:e)})),fetchFromServer:async()=>{try{const t=await Zn("/notifications/my"),n=(t||[]).map(e=>{try{e.payload&&"string"==typeof e.payload&&(e.payloadObj=JSON.parse(e.payload))}catch(t){console.warn(" Parse payload error:",t)}return e});console.log(` Loaded ${n.length} notifications from DB`),e({items:n})}catch(t){console.error(" Failed to load notifications:",t)}},initConnection:async()=>{try{const n=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken");if(!n)return void console.warn(" No token found, cannot connect SignalR");const r=t().connection;if(r)try{await r.stop()}catch{}console.log(" Connecting to SignalR NotificationHub...");const s=(new cs).withUrl(`${us}/hubs/notification`,{accessTokenFactory:()=>n}).withAutomaticReconnect().configureLogging(gr.Information).build();s.on("ReceiveNotification",e=>{console.log(" [SignalR] Notification received:",e);try{e?.payload&&"string"==typeof e.payload&&(e.payloadObj=JSON.parse(e.payload))}catch(n){console.warn(" Cannot parse payload:",n)}t().addNotification(e);console.log(" Notification added to store:",e.type,e.id)}),await s.start(),console.log(" Connected to SignalR hub"),e({connection:s,connected:!0})}catch(n){console.error(" Error connecting SignalR:",n),e({connected:!1})}},reset:async()=>{try{const e=t().connection;e&&(await e.stop(),console.log(" SignalR connection stopped"))}catch(n){console.warn(" Error stopping connection:",n)}e({items:[],connection:null,connected:!1}),console.log(" Notification store reset done")}}));const hs=new class{constructor(){this.currentLanguage=localStorage.getItem("language")||(navigator.language?.startsWith("vi")?"vi":"en"),this.translations={},this.loadTranslations()}async loadTranslations(){try{this.translations=this.getDefaultTranslations()}catch(e){console.error("Error loading translations:",e),this.translations=this.getDefaultTranslations()}}getDefaultTranslations(){const e="vi"===this.currentLanguage;return{Common:{Save:e?"Lu":"Save",Cancel:e?"Hy":"Cancel",Delete:e?"Xa":"Delete",Edit:e?"Sa":"Edit",View:e?"Xem":"View",Loading:e?"ang ti...":"Loading...",Error:e?"Li":"Error",Success:e?"Thnh cng":"Success",PleaseWait:e?"Vui lng i...":"Please wait...",Confirm:e?"Xc nhn":"Confirm",Close:e?"ng":"Close",Back:e?"Quay li":"Back",Next:e?"Tip theo":"Next",Submit:e?"Gi":"Submit",Search:e?"Tm kim":"Search",Filter:e?"Lc":"Filter",All:e?"Tt c":"All",NoData:e?"Khng c d liu":"No data",UpdateSuccess:e?"Cp nht thnh cng!":"Update successful!",UpdateFailed:e?"Cp nht tht bi!":"Update failed!",DeleteSuccess:e?"Xa thnh cng!":"Delete successful!",DeleteFailed:e?"Xa tht bi!":"Delete failed!",CreateSuccess:e?"To thnh cng!":"Create successful!",CreateFailed:e?"To tht bi!":"Create failed!",SaveSuccess:e?"Lu thnh cng!":"Save successful!",SaveFailed:e?"Lu tht bi!":"Save failed!",CannotSave:e?"Khng th lu":"Cannot save",PleaseEnterInfo:e?"Vui lng nhp  thng tin.":"Please enter all information.",PleaseEnterFullInfo:e?"Vui lng nhp y  thng tin.":"Please enter full information.",InvalidInfo:e?"Thng tin khng hp l":"Invalid information",NotLoggedIn:e?"Bn cha ng nhp!":"You are not logged in!",PleaseLogin:e?"Vui lng ng nhp":"Please login"},Auth:{Login:e?"ng nhp":"Login",Register:e?"ng k":"Register",Logout:e?"ng xut":"Logout",Email:"Email",Password:e?"Mt khu":"Password",RememberMe:e?"Ghi nh ng nhp":"Remember me",ForgotPassword:e?"Qun mt khu?":"Forgot password?",LoginSuccess:e?"ng nhp thnh cng!":"Login successful!",LoginFailed:e?"ng nhp tht bi":"Login failed",RegisterSuccess:e?"ng k thnh cng!":"Register successful!",RegisterFailed:e?"ng k tht bi.":"Register failed.",LoggingIn:e?"ang ng nhp...":"Logging in...",WelcomeBack:e?"Cho mng tr li LanServe":"Welcome back to LanServe",LoginDescription:e?"ng nhp  qun l d n, trao i v nhn vic nhanh chng.":"Login to manage projects, communicate and get jobs quickly.",NoAccount:e?"Cha c ti khon?":"Don't have an account?",GoogleLoginUnavailable:e?"Google Login khng kh dng. Vui lng ng nhp bng email/password.":"Google Login unavailable. Please login with email/password.",NoTokenFromServer:e?"Khng nhn c token t server":"No token received from server",NoTokenFromGoogle:e?"Khng nhn c token t Google":"No token received from Google",ResetPasswordSuccess:e?"t li mt khu thnh cng!":"Password reset successful!",ResetPasswordFailed:e?"t li mt khu tht bi.":"Password reset failed.",SendCodeSuccess:e?" gi m xc nhn n email ca bn!":"Verification code sent to your email!",CannotSendCode:e?"Khng th gi m xc nhn.":"Cannot send verification code.",PasswordMismatch:e?"Mt khu mi khng khp":"New passwords do not match",ChangePasswordSuccess:e?"i mt khu thnh cng!":"Password changed successfully!",ChangePasswordFailed:e?"i mt khu tht bi":"Password change failed",ForgotPasswordTitle:e?"Qun mt khu":"Forgot Password",ResetPasswordTitle:e?"t li mt khu":"Reset Password",ForgotPasswordDescription:e?"Nhp email  nhn m xc nhn t li mt khu.":"Enter your email to receive a password reset code.",SendCode:e?"Gi m":"Send Code",VerificationCode:e?"M xc nhn":"Verification Code",NewPassword:e?"Mt khu mi":"New Password",ChangePassword:e?"i mt khu":"Change Password"},Profile:{Title:e?"H s":"Profile",UpdateSuccess:e?"Cp nht thnh cng!":"Update successful!",UpdateFailed:e?"Cp nht tht bi!":"Update failed!",AddSkillFailed:e?"Thm k nng tht bi!":"Add skill failed!",RemoveSkillFailed:e?"Xa k nng tht bi!":"Remove skill failed!",HiddenProfile:e?"Ngi dng  n h s cng khai":"User has hidden public profile",JobTitle:e?"Chc danh":"Job Title",Location:e?"Ni ":"Location",HourlyRate:e?"Rate theo gi":"Hourly Rate",NotUpdated:e?"Cha cp nht":"Not updated",Languages:e?"Ngn ng":"Languages",AddLanguage:e?"+ Thm ngn ng":"+ Add Language",Certificates:e?"Chng ch":"Certificates",AddCertificate:e?"+ Thm chng ch":"+ Add Certificate",Bio:e?"Gii thiu":"Bio",BioPlaceholder:e?"Vit vi dng gii thiu v bn...":"Write a few lines about yourself..."},Settings:{Title:e?"Ci t":"Settings",Avatar:e?"nh i din":"Avatar",UpdateAvatarSuccess:e?"Cp nht avatar thnh cng!":"Avatar updated successfully!",UpdateAvatarFailed:e?"Cp nht avatar tht bi!":"Avatar update failed!",Notifications:e?"Thng bo":"Notifications",EmailNotifications:e?"Nhn thng bo qua email":"Receive email notifications",NewProjectNotifications:e?"Thng bo d n mi":"New project notifications",MessageNotifications:e?"Thng bo tin nhn":"Message notifications",Privacy:e?"Quyn ring t":"Privacy",PublicProfile:e?"Hin th h s cng khai":"Show public profile",ShowOnlineStatus:e?"Hin th trng thi online":"Show online status",CannotSaveSettings:e?"Khng th lu ci t":"Cannot save settings",CannotSavePrivacy:e?"Khng th lu ci t quyn ring t":"Cannot save privacy settings"},Projects:{Title:e?"D n":"Projects",MyProjects:e?"D n ca ti":"My Projects",CreateProject:e?"To d n mi":"Create New Project",EditProject:e?"Chnh sa d n":"Edit Project",TotalProjects:e?"Tng d n":"Total Projects",Open:e?"ang m":"Open",InProgress:e?"ang thc hin":"In Progress",Completed:e?"Hon thnh":"Completed",TotalBudget:e?"Tng ngn sch":"Total Budget",NeedFreelancer:e?"D n cn tuyn Freelancer":"Projects Need Freelancers",NewProject:e?"+ D n mi":"+ New Project",SearchPlaceholder:e?"Tm d n theo tiu  hoc m t...":"Search projects by title or description...",PleaseEnterTitle:e?"Vui lng nhp tiu ":"Please enter title",PleaseEnterDescription:e?"Vui lng nhp m t":"Please enter description",PleaseSelectCategory:e?"Vui lng chn danh mc":"Please select category",InvalidBudget:e?"Ngn sch khng hp l":"Invalid budget",Saving:e?"ang lu...":"Saving...",CannotSendProposal:e?"Khng th gi proposal. Th li sau.":"Cannot send proposal. Please try again later.",InterestedInProject:e?"Ti quan tm n d n ny v mun ng tuyn.":"I am interested in this project and would like to apply.",ViewProject:e?"Xem d n":"View Project",Other:e?"Khc":"Other",TitleLabel:e?"Tiu ":"Title",TitlePlaceholder:e?"Nhp tiu  d n":"Enter project title",CategoryLabel:e?"Danh mc":"Category",SelectCategory:e?" Chn danh mc ":" Select Category ",DescriptionLabel:e?"M t":"Description",DescriptionPlaceholder:e?"M t chi tit yu cu...":"Describe detailed requirements...",BudgetLabel:e?"Ngn sch ()":"Budget (VND)",StatusLabel:e?"Trng thi":"Status",SkillsLabel:e?"K nng":"Skills",SaveChanges:e?"Lu thay i":"Save Changes",CreateProjectButton:e?"To d n":"Create Project",LoadingProjects:e?"ang ti d n":"Loading projects...",NoMatchingProjects:e?"Khng c d n ph hp.":"No matching projects."},Proposals:{Title:e?" xut":"Proposals",NoProposals:e?"Bn cha c  xut no":"You have no proposals",ViewProjects:e?"Xem d n":"View Projects",Cancel:e?"Hy":"Cancel",Cancelled:e?" hy":"Cancelled",CancelConfirm:e?"Bn c chc chn mun hy  xut ny?":"Are you sure you want to cancel this proposal?",CancelSuccess:e?" hy  xut":"Proposal cancelled",CancelFailed:e?"Khng th hy  xut":"Cannot cancel proposal",EditSuccess:e?" cp nht  xut":"Proposal updated",EditFailed:e?"Khng th cp nht  xut":"Cannot update proposal",InvalidBid:e?"Vui lng nhp gi hp l":"Please enter valid bid amount"},Companies:{Title:e?"Cng ty":"Companies",CreateSuccess:e?" to cng ty thnh cng!":"Company created successfully!",CreateFailed:e?"Khng th to cng ty":"Cannot create company",UpdateSuccess:e?" cp nht cng ty thnh cng!":"Company updated successfully!",UpdateFailed:e?"Khng th cp nht cng ty":"Cannot update company"},CV:{Title:"CV",MyCVs:e?"CV ca ti":"My CVs",Upload:e?"Ti ln CV":"Upload CV",Primary:e?"CV chnh":"Primary CV",Analyze:e?"Phn tch CV":"Analyze CV",Generate:e?"To CV cho cng vic":"Generate CV for Job",UploadSuccess:e?" ti ln CV thnh cng":"CV uploaded successfully",UploadError:e?"Khng th ti ln CV":"Cannot upload CV",SetPrimarySuccess:e?" t CV chnh":"Primary CV set",SetPrimaryError:e?"Khng th t CV chnh":"Cannot set primary CV",Analyzing:e?"ang phn tch CV...":"Analyzing CV...",AnalysisComplete:e?"Phn tch CV hon tt":"CV analysis complete",AnalysisError:e?"Khng th phn tch CV":"Cannot analyze CV",DeleteSuccess:e?" xa CV":"CV deleted",DeleteError:e?"Khng th xa CV":"Cannot delete CV",ConfirmDelete:e?"Bn c chc chn mun xa CV ny?":"Are you sure you want to delete this CV?",LoadError:e?"Khng th ti danh sch CV":"Cannot load CV list",FileTooLarge:e?"File qu ln (ti a 10MB)":"File too large (max 10MB)"},Contracts:{Title:e?"Hp ng":"Contracts",CannotLoad:e?"Khng th ti thng tin hp ng":"Cannot load contract information",UpdateStatusSuccess:e?" cp nht trng thi hp ng":"Contract status updated",UpdateStatusConfirm:e?'Bn c chc chn mun i trng thi thnh "{0}"?':'Are you sure you want to change status to "{0}"?'},Job:{Title:e?"Cng vic":"Job",Jobs:e?"Cng vic":"Jobs",Recommended:e?" xut cho bn":"Recommended for you",Apply:e?"ng tuyn":"Apply",Applied:e?" ng tuyn":"Applied"},AuditLogs:{Title:"Audit Logs",CannotLoad:e?"Khng th ti audit logs":"Cannot load audit logs"},Navbar:{Home:e?"Trang ch":"Home",Projects:e?"D n":"Projects",PostProject:e?"ng d n":"Post Project",Users:e?"Ngi dng":"Users",HowItWorks:e?"Cch hot ng":"How It Works",ViewWallet:e?"Xem v":"View Wallet",Messages:e?"Tin nhn":"Messages",Admin:e?"Qun tr":"Admin",Account:e?"Ti khon":"Account",Profile:e?"H s":"Profile",Settings:e?"Ci t":"Settings",Logout:e?"ng xut":"Logout",Login:e?"ng nhp":"Login",Register:e?"ng k":"Register"},Footer:{Description:e?"Nn tng kt ni freelancer & khch hng. Xy dng s nghip t do v tm kim d n ph hp.":"Platform connecting freelancers & clients. Build your freelance career and find suitable projects.",QuickLinks:e?"Lin kt nhanh":"Quick Links",FindFreelancer:e?"Tm Freelancer":"Find Freelancer",AboutUs:e?"V chng ti":"About Us",Support:e?"H tr":"Support",HelpCenter:e?"Trung tm tr gip":"Help Center",Contact:e?"Lin h":"Contact",Terms:e?"iu khon":"Terms",Privacy:e?"Bo mt":"Privacy",FAQ:"FAQ"},HowItWorks:{Title:e?"Cch hot ng ca":"How",Subtitle:e?"Quy trnh n gin 3 bc  hon thnh d n hiu qu.":"Simple 3-step process to complete projects efficiently.",StartProject:e?"Bt u d n ngay":"Start Project Now",PostProject:e?"ng d n":"Post Project",PostProjectDesc1:e?"To brief r rng":"Create clear brief",PostProjectDesc2:e?"Gi  ngn sch":"Suggest budget",PostProjectDesc3:e?"Chn k nng lin quan":"Select related skills",ChooseFreelancer:e?"Chn freelancer":"Choose Freelancer",ChooseFreelancerDesc1:e?"Xem h s & review":"View profile & reviews",ChooseFreelancerDesc2:e?"Trao i trc khi cht":"Discuss before closing",ChooseFreelancerDesc3:e?"K iu khon":"Sign terms",ReceiveProduct:e?"Nhn sn phm":"Receive Product",ReceiveProductDesc1:e?"Theo di tin ":"Track progress",ReceiveProductDesc2:e?"Review & phn hi":"Review & feedback",ReceiveProductDesc3:e?"Thanh ton an ton":"Secure payment"},Account:{PersonalProfile:e?"H s c nhn":"Personal Profile",MyJobs:e?"Cng vic ca ti":"My Jobs",MyCVs:e?"CV ca ti":"My CVs",Applications:e?"n ng tuyn":"Applications",Messages:e?"Tin nhn":"Messages",Companies:e?"Cng ty":"Companies",Settings:e?"Ci t":"Settings",Loading:e?"ang ti...":"Loading...",HiddenUser:e?"Ngi dng n":"Hidden User",Verified:e?" xc thc":"Verified",NoJobTitle:e?"Cha c chc danh":"No job title",NoLocation:e?"Cha r":"Unknown",Joined:e?"Tham gia":"Joined",Reviews:e?"nh gi":"reviews"},Search:{Placeholder:e?"Tm kim d n theo tn, m t, k nng":"Search projects by name, description, skills..."},Notifications:{ProposalAccepted:e?" xut  c chp nhn":"Proposal accepted",NewMessage:e?"Bn c tin nhn mi":"You have a new message",NewProposal:e?" xut mi":"New proposal",ProposalSent:e?" gi  xut":"Proposal sent",NewProject:e?"D n mi":"New project"},Home:{HeroTitle:e?"Kt ni":"Connect",Candidate:"Candidate",Company:"Company",HeroSubtitle:e?"Tm kim freelancer nng lc hoc d n ph hp. Xy dng s nghip t do vi LanServe.":"Find talented freelancers or suitable projects. Build your freelance career with LanServe.",FindFreelancer:e?"Tm Freelancer":"Find Freelancer",PostProject:e?"ng D n":"Post Project",ServiceCategories:e?"Danh mc dch v":"Service Categories",FeaturedFreelancers:e?"Freelancer ni bt":"Featured Freelancers",ViewProfile:e?"Xem h s":"View Profile",ReadyToStart:e?"Sn sng bt u d n ca bn?":"Ready to start your project?",SignUpFree:e?"ng k min ph":"Sign Up Free",LearnMore:e?"Tm hiu thm":"Learn More",ViewAll:e?"Xem tt c ":"View All ",ViewDetails:e?"Xem chi tit":"View Details",SuitableProjects:e?"D n ph hp vi bn":"Projects suitable for you",MatchPercentage:e?"% ph hp":"% match"},MyProjects:{Title:e?"D n ca ti":"My Projects",NoProjects:e?"Bn cha c d n no":"You have no projects",NoProjectsDesc:e?"To d n u tin  bt u tuyn Freelancer.":"Create your first project to start hiring freelancers.",CreateProject:e?"+ To d n":"+ Create Project",Loading:e?"ang ti...":"Loading..."},NewProject:{Title:e?"ng d n mi":"Post New Project",PostSuccess:e?"ng d n thnh cng!":"Project posted successfully!",PostFailed:e?"C li khi ng d n":"Error posting project",Posting:e?"ang ng...":"Posting...",PostProject:e?"ng d n":"Post Project",PleaseSelectDeadline:e?"Vui lng chn thi hn hon thnh.":"Please select deadline.",TitlePlaceholder:e?"VD: Thit k logo cho cng ty cng ngh":"E.g: Design logo for tech company",DescriptionPlaceholder:e?"M t chi tit yu cu, mc tiu v k vng...":"Describe detailed requirements, goals and expectations...",ProjectTitleLabel:e?"Tiu  d n *":"Project Title *",CategoryLabel:e?"Danh mc *":"Category *",SelectCategory:e?"--Chn danh mc--":"--Select Category--",DescriptionLabel:e?"M t d n *":"Project Description *",ProjectInfo:e?"Thng tin d n":"Project Information",Budget:e?"Ngn sch":"Budget",BudgetType:e?"Loi ngn sch *":"Budget Type *",FixedPrice:e?"Gi c nh":"Fixed Price",HourlyRate:e?"Theo gi":"Hourly",TotalBudget:e?"Tng ngn sch (VND) *":"Total Budget (VND) *",Time:e?"Thi gian":"Time",Deadline:e?"Thi gian hon thnh *":"Deadline *",RequiredSkills:e?"K nng cn thit":"Required Skills",ProjectImages:e?"Hnh nh d n":"Project Images",Cancel:e?"Hy b":"Cancel",InsufficientBalance:e?"S d v khng   chi tr cho d n ny.":"Insufficient wallet balance for this project.",Required:e?"Cn":"Required",CurrentBalance:e?"Hin c":"Current Balance",PleaseTopUp:e?"Vui lng np thm tin trc khi ng d n.":"Please top up your wallet before posting the project."},Projects:{NeedFreelancer:e?"D n cn tuyn Freelancer":"Projects Need Freelancers",NewProject:e?"+ D n mi":"+ New Project"}}}setLanguage(e){this.currentLanguage=e,localStorage.setItem("language",e),this.loadTranslations(),window.dispatchEvent(new CustomEvent("languageChanged",{detail:e}))}getCurrentLanguage(){return this.currentLanguage}t(e,t={}){const n=e.split(".");let r=this.translations;for(const s of n)if(r=r?.[s],!r){r=this.getDefaultTranslations();for(const t of n)if(r=r?.[t],!r)return e;break}return"string"==typeof r?r.replace(/\{(\d+)\}/g,(e,n)=>void 0!==t[n]?t[n]:e):r||e}};function ms(){const[e,t]=n.useState(hs.getCurrentLanguage());return n.useEffect(()=>{const e=e=>{t(e.detail)};return window.addEventListener("languageChanged",e),()=>{window.removeEventListener("languageChanged",e)}},[]),{t:(e,t)=>hs.t(e,t),currentLanguage:e,setLanguage:e=>{hs.setLanguage(e),t(e)}}}function fs(){const{items:e,markRead:t,fetchFromServer:s}=ds(),a=r(),[o,i]=n.useState(!1),{t:l}=ms();n.useEffect(()=>{s()},[s]),n.useEffect(()=>{console.log(" NotificationBell: items changed",e.length)},[e]);const c=[...e].sort((e,t)=>{if(e.isRead!==t.isRead)return e.isRead?1:-1;const n=new Date(e.createdAt||0).getTime();return new Date(t.createdAt||0).getTime()-n}),u=e.filter(e=>!e.isRead).length;n.useEffect(()=>{console.log(" NotificationBell Debug:",{totalItems:e.length,unreadCount:u,sortedCount:c.length,items:e.map(e=>({id:e.id,type:e.type,isRead:e.isRead,title:e.title}))})},[e,u,c.length]);return de.jsxs("div",{className:"relative",children:[de.jsxs("button",{className:"p-2 rounded-full hover:bg-gray-100 relative",onClick:()=>{console.log(" Bell clicked. Items:",e.length,"Unread:",u),i(!o),o||s()},children:["",u>0&&de.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full min-w-[20px] flex items-center justify-center font-bold",children:u>99?"99+":u})]}),o&&de.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white border rounded-2xl shadow-xl p-0 max-h-96 overflow-hidden z-50",children:[de.jsxs("div",{className:"flex justify-between items-center p-3 border-b bg-gray-50",children:[de.jsxs("div",{className:"text-sm font-semibold",children:["Thng bo ",u>0&&de.jsxs("span",{className:"text-red-500",children:["(",u," mi)"]})]}),de.jsx("button",{onClick:e=>{e.stopPropagation(),s()},className:"text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-50",children:""})]}),de.jsx("div",{className:"overflow-y-auto max-h-80",children:0===c.length?de.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Khng c thng bo"}):c.map(e=>{let n=e.title||e.type;return"ProposalAccepted"===e.type?n=l("Notifications.ProposalAccepted"):"NewMessage"===e.type?n=e.title||l("Notifications.NewMessage"):"NewProposal"===e.type?n=e.title||l("Notifications.NewProposal"):"ProposalSent"===e.type?n=e.title||l("Notifications.ProposalSent"):"NewProject"===e.type&&(n=e.title||l("Notifications.NewProject")),de.jsxs("div",{onClick:()=>(async e=>{if(!e.isRead&&e.id)try{await Xn.post(`/notifications/${e.id}/read`),t(e.id)}catch(n){console.error("Failed to mark notification as read:",n)}if("NewProject"===e.type||"NewJob"===e.type){const t=e.payloadObj?.jobId||e.payloadObj?.projectId;a(t?`/projects/${t}`:"/projects")}else{const t=e.payloadObj?.conversationKey,n=e.payloadObj?.projectId;a(t?`/account/messages?key=${t}&projectId=${n}`:"/account/messages")}i(!1)})(e),className:"cursor-pointer p-3 hover:bg-gray-50 rounded-xl border-b last:border-none "+(e.isRead?"":"bg-blue-50 border-l-4 border-l-blue-500"),children:[de.jsx("div",{className:"text-sm font-semibold text-gray-800",children:n}),e.message&&de.jsx("div",{className:"text-xs text-gray-600 break-words mt-1",children:e.message}),de.jsx("div",{className:"text-[10px] text-gray-400 mt-2",children:new Date(e.createdAt).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},e.id)})})]})]})}function ps(){const{currentLanguage:e,setLanguage:t}=ms();return de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{t("vi"===e?"en":"vi")},className:"min-w-[60px]",children:"vi"===e?" VI":" EN"})}function gs(){const e=r(),{t:t}=ms(),[o,i]=n.useState(!1),[l,c]=n.useState(!1),u=localStorage.getItem("token")||sessionStorage.getItem("token");let d=null;if(u)try{const e=je(u);d=e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId||null}catch(v){console.error("Decode token error:",v)}const{balance:h,fetchBalance:m,loading:f}=ar();n.useEffect(()=>{d&&m(d)},[d,m]);const p=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null"),g="admin"===p?.role?.toLowerCase(),x=({isActive:e})=>"px-3 py-2 rounded-lg hover:bg-slate-100 text-sm flex items-center gap-2 transition-colors "+(e?"text-brand-700 font-medium":"text-slate-700"),b="p-2.5 rounded-lg hover:bg-slate-100 text-slate-700 transition-colors relative",y=()=>e("/wallet");return de.jsxs("header",{className:"sticky top-0 z-30 bg-white/80 backdrop-blur border-b border-slate-200",children:[de.jsxs("div",{className:"container-ld flex h-14 items-center justify-between gap-2",children:[de.jsxs(s,{to:"/",className:"font-bold text-lg flex-shrink-0",children:[de.jsx("span",{className:"text-brand-700",children:"Lan"}),"Serve"]}),de.jsxs("nav",{className:"hidden lg:flex gap-1 flex-1 justify-center max-w-2xl",children:[de.jsx(a,{to:"/",className:x,children:t("Navbar.Home")}),de.jsx(a,{to:"/projects",className:x,children:t("Navbar.Projects")}),de.jsx(a,{to:"/post-project",className:x,children:t("Navbar.PostProject")}),de.jsx(a,{to:"/users",className:x,children:t("Navbar.Users")}),de.jsx(a,{to:"/how-it-works",className:x,children:t("Navbar.HowItWorks")})]}),de.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[de.jsx(ps,{}),u?de.jsxs(de.Fragment,{children:[(()=>{const e=f?"...":` ${Number(h||0).toLocaleString("vi-VN")}`;return de.jsxs("button",{onClick:y,className:"px-3 py-1.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200 flex items-center gap-2 text-sm font-medium hover:bg-emerald-100 transition-colors",title:t("Navbar.ViewWallet"),children:[de.jsx(B,{className:"w-4 h-4"}),de.jsx("span",{className:"hidden sm:inline",children:e}),de.jsx("span",{className:"sm:hidden",children:Number(h||0)>=1e6?`${(Number(h||0)/1e6).toFixed(1)}M`:e})]})})(),de.jsx(a,{to:"/account/messages",className:b,title:t("Navbar.Messages"),children:de.jsx(M,{className:"w-5 h-5"})}),de.jsx(fs,{}),g&&de.jsx(a,{to:"/admin",className:b,title:t("Navbar.Admin"),children:de.jsx(O,{className:"w-5 h-5"})}),de.jsxs("div",{className:"relative",children:[de.jsx("button",{onClick:()=>i(!o),className:b,title:t("Navbar.Account"),children:de.jsx(z,{className:"w-5 h-5"})}),o&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),de.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-slate-200 py-1 z-20",children:[de.jsxs(a,{to:"/account/profile"+(d?`?id=${d}`:""),className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>i(!1),children:[de.jsx(z,{className:"w-4 h-4"}),t("Navbar.Profile")]}),de.jsxs(a,{to:"/account/settings",className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-700 hover:bg-slate-100",onClick:()=>i(!1),children:[de.jsx(F,{className:"w-4 h-4"}),t("Navbar.Settings")]}),de.jsx("hr",{className:"my-1 border-slate-200"}),de.jsxs("button",{onClick:()=>{i(!1),(async()=>{try{const e=ds.getState();await e.reset(),localStorage.removeItem("token"),localStorage.removeItem("user"),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),console.log(" Logged out & cleared notifications"),window.location.href="/login"}catch(e){console.error("Logout error:",e)}})()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[de.jsx(U,{className:"w-4 h-4"}),t("Navbar.Logout")]})]})]})]}),de.jsx("button",{onClick:()=>c(!l),className:"lg:hidden p-2.5 rounded-lg hover:bg-slate-100 text-slate-700","aria-label":"Menu",children:l?de.jsx($,{className:"w-5 h-5"}):de.jsx(H,{className:"w-5 h-5"})})]}):de.jsxs(de.Fragment,{children:[de.jsx(a,{to:"/login",className:x,children:t("Navbar.Login")}),de.jsx(ye,{variant:"primary",as:s,to:"/register",className:"text-sm px-3 py-1.5",children:t("Navbar.Register")})]})]})]}),l&&u&&de.jsx("div",{className:"lg:hidden border-t border-slate-200 bg-white",children:de.jsxs("nav",{className:"container-ld py-2 flex flex-col gap-1",children:[de.jsx(a,{to:"/",className:x,onClick:()=>c(!1),children:t("Navbar.Home")}),de.jsx(a,{to:"/projects",className:x,onClick:()=>c(!1),children:t("Navbar.Projects")}),de.jsx(a,{to:"/post-project",className:x,onClick:()=>c(!1),children:t("Navbar.PostProject")}),de.jsx(a,{to:"/users",className:x,onClick:()=>c(!1),children:t("Navbar.Users")}),de.jsx(a,{to:"/how-it-works",className:x,onClick:()=>c(!1),children:t("Navbar.HowItWorks")})]})})]})}function xs(){const{t:e}=ms();return de.jsx("footer",{className:"mt-16 bg-slate-900 text-slate-200",children:de.jsxs("div",{className:"container-ld grid md:grid-cols-4 gap-8 py-12",children:[de.jsxs("div",{children:[de.jsx("div",{className:"text-lg font-semibold",children:"LanServe"}),de.jsx("p",{className:"mt-3 text-sm text-slate-400",children:e("Footer.Description")}),de.jsxs("div",{className:"mt-4 flex gap-3 text-xl",children:[de.jsx("span",{children:""}),de.jsx("span",{children:""}),de.jsx("span",{children:""})]})]}),de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:e("Footer.QuickLinks")}),de.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[de.jsx("li",{children:e("Navbar.Home")}),de.jsx("li",{children:e("Footer.FindFreelancer")}),de.jsx("li",{children:e("Navbar.PostProject")}),de.jsx("li",{children:e("Navbar.HowItWorks")}),de.jsx("li",{children:e("Footer.AboutUs")})]})]}),de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:e("Footer.Support")}),de.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[de.jsx("li",{children:e("Footer.HelpCenter")}),de.jsx("li",{children:e("Footer.Contact")}),de.jsx("li",{children:e("Footer.Terms")}),de.jsx("li",{children:e("Footer.Privacy")}),de.jsx("li",{children:e("Footer.FAQ")})]})]}),de.jsx("div",{className:"md:text-right text-sm text-slate-400 flex items-end",children:" 2024 LanServe."})]})})}function bs(){const[e,t]=n.useState([]),[r,s]=n.useState(0);return n.useEffect(()=>{Xn.get("/banners/active").then(e=>{const n=e.data||[];t(n)}).catch(e=>console.error("Load banners failed",e))},[]),n.useEffect(()=>{if(e.length<=1)return;const t=setInterval(()=>{s(t=>(t+1)%e.length)},5e3);return()=>clearInterval(t)},[e.length]),0===e.length?null:de.jsxs("section",{className:"relative w-full h-64 md:h-96 overflow-hidden rounded-2xl mb-8",children:[de.jsx("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:`translateX(-${100*r}%)`},children:e.map((e,t)=>de.jsx("div",{className:"min-w-full h-full flex-shrink-0",children:e.linkUrl?de.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:de.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}):de.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})},e.id||e._id||t))}),e.length>1&&de.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10",children:e.map((e,t)=>de.jsx("button",{onClick:()=>s(t),className:"h-2 rounded-full transition-all "+(t===r?"bg-white w-8":"bg-white/50 hover:bg-white/75 w-2"),"aria-label":`Go to banner ${t+1}`},t))}),e.length>1&&de.jsxs(de.Fragment,{children:[de.jsx("button",{onClick:()=>s(t=>(t-1+e.length)%e.length),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Previous banner",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),de.jsx("button",{onClick:()=>s(t=>(t+1)%e.length),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full transition-all z-10","aria-label":"Next banner",children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}function ys(){const[e,t]=n.useState([]),[a,o]=n.useState([]),[i,l]=n.useState([]),[c,u]=n.useState(!1);r();const{t:d}=ms();return n.useEffect(()=>{Xn.get("/categories").then(e=>t(e.data??[])).catch(e=>console.error("Load categories failed",e)),Xn.get("/users").then(e=>o(e.data??[])).catch(e=>console.error("Load freelancers failed",e));if(localStorage.getItem("token")||sessionStorage.getItem("token"))try{u(!0),Xn.get("/jobs/recommended?limit=6").then(e=>{const t=e.data||[];l(t.map(e=>({...e.job,similarity:e.similarity})))}).catch(e=>{console.error("Load recommended projects failed",e)})}catch(e){console.error("Token decode error:",e)}},[]),de.jsxs("div",{children:[de.jsx("section",{className:"container-ld py-8",children:de.jsx(bs,{})}),de.jsx("section",{className:"bg-gradient-to-r from-blue-50 to-orange-50 border-b",children:de.jsx("div",{className:"container-ld py-16",children:de.jsxs("div",{className:"text-center",children:[de.jsxs("h1",{className:"text-4xl md:text-5xl font-bold leading-tight",children:[d("Home.HeroTitle")," ",de.jsx("span",{className:"text-brand-700",children:d("Home.Candidate")})," & ",de.jsx("span",{className:"text-accent",children:d("Home.Company")})]}),de.jsx("p",{className:"mt-4 text-slate-600 max-w-2xl mx-auto",children:d("Home.HeroSubtitle")}),de.jsxs("div",{className:"mt-6 flex gap-3 justify-center",children:[de.jsx(ye,{children:d("Home.FindFreelancer")}),de.jsx(ye,{variant:"outline",as:s,to:"/post-project",children:d("Home.PostProject")})]})]})})}),de.jsxs("section",{className:"container-ld py-12",children:[de.jsx("h2",{className:"text-2xl font-semibold",children:d("Home.ServiceCategories")}),de.jsx("div",{className:"mt-6 grid md:grid-cols-3 lg:grid-cols-4 gap-5",children:e.map((e,t)=>de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"text-xl",children:""}),de.jsx("div",{className:"mt-3 font-medium",children:e.name})]},e.id||e._id||`cat-${t}`))})]}),c&&i.length>0&&de.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-y",children:de.jsxs("div",{className:"container-ld py-12",children:[de.jsxs("div",{className:"flex items-center justify-between mb-6",children:[de.jsx("h2",{className:"text-2xl font-semibold",children:d("Home.SuitableProjects")}),de.jsx(s,{to:"/account/projects",className:"text-brand-700 hover:underline text-sm",children:d("Home.ViewAll")})]}),de.jsx("div",{className:"mt-6 grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:i.map(e=>de.jsxs("div",{className:"card p-5 hover:shadow-lg transition-shadow",children:[de.jsxs("div",{className:"flex items-start justify-between mb-3",children:[de.jsx("h3",{className:"font-semibold text-lg flex-1",children:e.title}),void 0!==e.similarity&&de.jsxs("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[e.similarity,d("Home.MatchPercentage")]})]}),de.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-3",children:e.description}),de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("div",{className:"text-brand-700 font-semibold",children:e.salaryRange?.min?`${Number(e.salaryRange.min).toLocaleString("vi-VN")} `:""}),de.jsx(ye,{variant:"outline",size:"sm",as:s,to:`/account/projects?view=${e.id}`,children:d("Home.ViewDetails")})]})]},e.id))})]})}),de.jsx("section",{className:"bg-white border-y",children:de.jsxs("div",{className:"container-ld py-12",children:[de.jsx("h2",{className:"text-2xl font-semibold",children:d("Home.FeaturedFreelancers")}),de.jsx("div",{className:"mt-6 grid md:grid-cols-3 gap-5",children:a.slice(0,3).map((e,t)=>de.jsxs("div",{className:"card p-5",children:[de.jsxs("div",{className:"flex items-center gap-3",children:[de.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-200"}),de.jsxs("div",{children:[de.jsx("div",{className:"font-medium",children:e.fullName}),de.jsx("div",{className:"text-sm text-slate-500",children:e.email})]})]}),de.jsx(ye,{className:"mt-4 w-full",variant:"outline",children:d("Home.ViewProfile")})]},e.id||`user-${t}`))})]})}),de.jsx("section",{className:"bg-gradient-to-r from-blue-500 to-orange-500 text-white",children:de.jsxs("div",{className:"container-ld py-14 text-center",children:[de.jsx("h2",{className:"text-3xl font-semibold",children:d("Home.ReadyToStart")}),de.jsxs("div",{className:"mt-6 flex gap-3 justify-center",children:[de.jsx(ye,{className:"bg-white text-slate-900",children:d("Home.SignUpFree")}),de.jsx(ye,{variant:"outline",className:"border-white text-black",children:d("Home.LearnMore")})]})]})})]})}function vs(){const{t:e}=ms();return de.jsxs("div",{children:[de.jsx("section",{className:"bg-gradient-to-r from-blue-50 to-orange-50 border-b",children:de.jsxs("div",{className:"container-ld py-16 text-center",children:[de.jsxs("h1",{className:"text-4xl font-bold",children:[e("HowItWorks.Title")," ",de.jsx("span",{className:"text-brand-700",children:"LanServe"})]}),de.jsx("p",{className:"mt-3 text-slate-600",children:e("HowItWorks.Subtitle")}),de.jsx(ye,{className:"mt-6",children:e("HowItWorks.StartProject")})]})}),de.jsx("section",{className:"container-ld py-12 grid md:grid-cols-3 gap-5",children:[{t:e("HowItWorks.PostProject"),d:[e("HowItWorks.PostProjectDesc1"),e("HowItWorks.PostProjectDesc2"),e("HowItWorks.PostProjectDesc3")]},{t:e("HowItWorks.ChooseFreelancer"),d:[e("HowItWorks.ChooseFreelancerDesc1"),e("HowItWorks.ChooseFreelancerDesc2"),e("HowItWorks.ChooseFreelancerDesc3")]},{t:e("HowItWorks.ReceiveProduct"),d:[e("HowItWorks.ReceiveProductDesc1"),e("HowItWorks.ReceiveProductDesc2"),e("HowItWorks.ReceiveProductDesc3")]}].map(e=>de.jsxs("div",{className:"card p-6",children:[de.jsx("div",{className:"text-3xl",children:""}),de.jsx("div",{className:"mt-3 font-semibold",children:e.t}),de.jsx("ul",{className:"mt-2 text-sm text-slate-600 list-disc list-inside space-y-1",children:e.d.map(e=>de.jsx("li",{children:e},e))})]},e.t))})]})}function ws(e){return de.jsx("input",{...e,className:["input",e.className].join(" ")})}function js(e){return de.jsx("textarea",{...e,className:["textarea",e.className].join(" ")})}function Ns({children:e,...t}){return de.jsx("select",{...t,className:["select",t.className].join(" "),children:e})}function Ss({onUploadSuccess:e,multiple:t=!1,folder:r="lanserve",maxSize:s=10485760,accept:a="image/*"}){const[o,i]=n.useState(!1),[l,c]=n.useState(null),[u,d]=n.useState(null),h=async n=>{i(!0),d(null);try{const s=new FormData;t?Array.from(n).forEach(e=>{s.append("files",e)}):s.append("file",n[0]),s.append("folder",r);const a=t?"/api/images/upload-multiple":"/api/images/upload",o=await Xn.post(a,s,{headers:{"Content-Type":"multipart/form-data"}});if(t){const t=o.data.urls||[];Array.isArray(t)&&t.length>0&&e?.(t)}else e?.(o.data.url),c(null)}catch(s){d(s.response?.data?.message||"Upload failed"),console.error("Upload error:",s)}finally{i(!1)}};return de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsxs("label",{className:"cursor-pointer inline-block",children:[de.jsx("input",{type:"file",accept:a,multiple:t,onChange:e=>{const n=e.target.files;if(!n||0===n.length)return;const r=n[0];if(r.size>s)d(`File size exceeds ${s/1024/1024}MB limit`);else if(r.type.startsWith("image/")){if(d(null),!t){const e=new FileReader;e.onloadend=()=>{c(e.result)},e.readAsDataURL(r)}h(n)}else d("Please select an image file")},className:"hidden",disabled:o,id:`file-input-${Math.random()}`}),de.jsx(ye,{type:"button",variant:"outline",disabled:o,onClick:e=>{e.preventDefault(),e.stopPropagation();const t=e.target.closest("label")?.querySelector('input[type="file"]');t&&!o&&t.click()},children:o?"Uploading...":t?"Choose Images":"Choose Image"})]}),l&&!t&&de.jsx("img",{src:l,alt:"Preview",className:"w-20 h-20 object-cover rounded"})]}),u&&de.jsx("p",{className:"text-sm text-red-600",children:u})]})}const ks="undefined"!=typeof window&&"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname,Cs=In.create({baseURL:ks?"/api":"http://localhost:5070/api",headers:{"Content-Type":"application/json"}});function _s(){const e=r(),{t:t}=ms(),[s,a]=n.useState(""),[o,i]=n.useState(""),[l,c]=n.useState(""),[u,d]=n.useState("Fixed"),[h,m]=n.useState(5e6),[f,p]=n.useState(""),[g,x]=n.useState([]),[b,y]=n.useState([]),[v,w]=n.useState([]),[j,N]=n.useState([]),[S,k]=n.useState(""),[C,_]=n.useState(!1),[E,T]=n.useState("");n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||t.uid||"";k((n??"").toString().trim().replace(/^ObjectId\(["']?(.+?)["']?\)$/i,"$1"))}catch(t){console.error("Decode token error:",t)}},[]),n.useEffect(()=>{(async()=>{try{const[e,t]=await Promise.all([Cs.get("/categories"),Cs.get("/skills")]);w(e.data??[]),N(t.data??[])}catch(e){console.error("Load categories/skills failed",e)}})()},[]);return de.jsxs("div",{className:"container-ld py-10",children:[de.jsx("h1",{className:"text-3xl font-semibold text-center",children:t("NewProject.Title")}),E&&de.jsx("div",{className:"mt-6 text-sm text-red-700 bg-red-50 border border-red-200 p-3 rounded",children:E}),de.jsxs("div",{className:"mt-8 space-y-6",children:[de.jsxs("div",{className:"card",children:[de.jsx("div",{className:"card-header p-5 font-semibold",children:t("NewProject.ProjectInfo")}),de.jsxs("div",{className:"card-body grid md:grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("NewProject.ProjectTitleLabel")}),de.jsx(ws,{value:s,onChange:e=>a(e.target.value),placeholder:t("NewProject.TitlePlaceholder")})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("NewProject.CategoryLabel")}),de.jsxs(Ns,{value:l,onChange:e=>c(e.target.value),children:[de.jsx("option",{value:"",children:t("NewProject.SelectCategory")}),v.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]})]}),de.jsxs("div",{className:"md:col-span-2",children:[de.jsx("label",{className:"text-sm",children:t("NewProject.DescriptionLabel")}),de.jsx(js,{value:o,onChange:e=>i(e.target.value),placeholder:t("NewProject.DescriptionPlaceholder")})]})]})]}),de.jsxs("div",{className:"card",children:[de.jsx("div",{className:"card-header p-5 font-semibold",children:t("NewProject.Budget")}),de.jsxs("div",{className:"card-body grid md:grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("NewProject.BudgetType")}),de.jsxs("div",{className:"mt-2 flex gap-6 text-sm",children:[de.jsxs("label",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"radio",name:"budgetType",value:"Fixed",checked:"Fixed"===u,onChange:e=>d(e.target.value)}),t("NewProject.FixedPrice")]}),de.jsxs("label",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"radio",name:"budgetType",value:"Hourly",checked:"Hourly"===u,onChange:e=>d(e.target.value)}),t("NewProject.HourlyRate")]})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("NewProject.TotalBudget")}),de.jsx(ws,{type:"number",value:h,onChange:e=>m(Number(e.target.value)),min:0})]})]})]}),de.jsxs("div",{className:"card",children:[de.jsx("div",{className:"card-header p-5 font-semibold",children:t("NewProject.Time")}),de.jsx("div",{className:"card-body grid md:grid-cols-2 gap-4",children:de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("NewProject.Deadline")}),de.jsx(ws,{type:"date",value:f,onChange:e=>p(e.target.value)})]})})]}),de.jsxs("div",{className:"card",children:[de.jsx("div",{className:"card-header p-5 font-semibold",children:t("NewProject.RequiredSkills")}),de.jsx("div",{className:"card-body grid md:grid-cols-3 gap-3 text-sm",children:j.map(e=>de.jsxs("label",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"checkbox",checked:g.includes(e.id),onChange:()=>{return t=e.id,void x(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}}),e.name]},e.id))})]}),de.jsxs("div",{className:"card",children:[de.jsx("div",{className:"card-header p-5 font-semibold",children:t("NewProject.ProjectImages")}),de.jsxs("div",{className:"card-body",children:[de.jsx(Ss,{multiple:!0,folder:"projects",onUploadSuccess:e=>{Array.isArray(e)&&y(t=>[...t,...e])}}),b.length>0&&de.jsx("div",{className:"mt-4 grid grid-cols-3 gap-3",children:b.map((e,t)=>de.jsxs("div",{className:"relative group",children:[de.jsx("img",{src:e,alt:`Project ${t+1}`,className:"w-full h-32 object-cover rounded"}),de.jsx("button",{onClick:()=>y(b.filter((e,n)=>n!==t)),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},t))})]})]}),de.jsxs("div",{className:"flex justify-end gap-3",children:[de.jsx(ye,{variant:"outline",onClick:()=>e("/projects"),disabled:C,children:t("NewProject.Cancel")}),de.jsx(ye,{onClick:async()=>{const n=S?s.trim()?o.trim()?l?!h||Number(h)<=0?t("Projects.InvalidBudget"):f?"":t("NewProject.PleaseSelectDeadline"):t("Projects.PleaseSelectCategory"):t("Projects.PleaseEnterDescription"):t("Projects.PleaseEnterTitle"):t("Common.NotLoggedIn");if(n)T(n);else{T("");try{_(!0);f&&new Date(`${f}T00:00:00`).toISOString();const n=h?Number(h):0,r={companyId:S,title:s,description:o,requiredSkills:g,jobType:"Hourly"===u?"Contract":"FullTime",location:"",salaryRange:n>0?{min:n,max:n,currency:"VND"}:null,experienceLevel:"Mid",status:"Open",premiumBoost:!1,images:b},a=Number(r.budgetAmount||0);if("Fixed"===r.budgetType&&a>0){const e=await async function(e){if(!e)return 0;try{const t=await Cs.get(`/wallets/${e}`);return Number(t.data?.balance||0)}catch{return 0}}(S);if(e<a)return void alert(`${t("NewProject.InsufficientBalance")}\n${t("NewProject.Required")}: ${a.toLocaleString("vi-VN")} VND\n${t("NewProject.CurrentBalance")}: ${e.toLocaleString("vi-VN")} VND\n\n${t("NewProject.PleaseTopUp")}`)}await Cs.post("/jobs",r),alert(t("NewProject.PostSuccess")),e("/projects")}catch(r){console.error("Create project failed",r?.response?.data||r),alert(r?.response?.data?.detail||r?.response?.data?.message||t("NewProject.PostFailed"))}finally{_(!1)}}},disabled:C,children:t(C?"NewProject.Posting":"NewProject.PostProject")})]})]})]})}function Es({icon:e,label:t,value:n}){return de.jsxs("div",{className:"card p-4 flex items-center gap-3",children:[de.jsx("div",{className:"h-10 w-10 grid place-items-center rounded-xl bg-slate-100 text-xl",children:e}),de.jsxs("div",{children:[de.jsx("div",{className:"text-xs text-slate-500",children:t}),de.jsx("div",{className:"text-lg font-semibold",children:n})]})]})}function Ts({size:e="md",className:t=""}){return de.jsx("div",{className:`flex items-center justify-center ${t}`,children:de.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[e]} border-4 border-slate-200 border-t-brand-700 rounded-full animate-spin`})})}function Ps(){const{t:e}=ms(),[t,r]=n.useState([]),[s,a]=n.useState([]),[o,i]=n.useState([]),[l,c]=n.useState([]),[u,d]=n.useState(null),[h,m]=n.useState(null),[f,g]=n.useState(!1),[x,b]=n.useState({}),[y,v]=n.useState(""),[w,j]=n.useState("ALL"),[N,S]=n.useState(!0),[k,C]=n.useState(""),[_,E]=n.useState(""),[T,P]=n.useState("newest"),[A,I]=n.useState([]),[L,D]=n.useState(!1),[R,M]=n.useState(null),[O,z]=n.useState(null),[F,U]=n.useState(""),[$,H]=n.useState(10),[B,V]=n.useState(!1),q=n.useRef(null);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null,r=t.name||t.username||t.unique_name||t.preferred_username||t.email||null;d(n),U(r)}catch(t){console.error("Decode token error:",t)}},[]);const W=n.useMemo(()=>{if("related"===T){let e=[...A];return e=e.filter(e=>{if("ALL"!==w){if((e.status||e.Status||"")!==w)return!1}if(k&&e.categoryId!==k)return!1;if(_.trim()){const t=G(_),n=G(e.title||""),r=G(e.description||"");if(!n.includes(t)&&!r.includes(t))return!1}return!0}),e.sort((e,t)=>(t.similarity||0)-(e.similarity||0))}const e=e=>{const t=new Date(e.createdAt||e.updatedAt||0).getTime();return Number.isFinite(t)?t:0};return t.filter(e=>{if("ALL"!==w){if((e.status||e.Status||"")!==w)return!1}if(k&&e.categoryId!==k)return!1;if(_.trim()){const t=G(_),n=G(e.title||""),r=G(e.description||"");if(!n.includes(t)&&!r.includes(t))return!1}return!0}).sort((t,n)=>"newest"===T?e(n)-e(t):e(t)-e(n))},[t,A,w,k,_,T]);n.useEffect(()=>{H(10)},[w,k,_,T]);const K=n.useMemo(()=>W.slice(0,$),[W,$]);function G(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}n.useEffect(()=>{const e=()=>{if(B)return;if($>=W.length)return;const e=q.current||window,t=e===window?window.scrollY:e.scrollTop,n=e===window?document.documentElement.scrollHeight:e.scrollHeight;t+(e===window?window.innerHeight:e.clientHeight)>=n-200&&(V(!0),setTimeout(()=>{H(e=>Math.min(e+10,W.length)),V(!1)},300))},t=q.current||window;return t.addEventListener("scroll",e),window.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e),window.removeEventListener("scroll",e)}},[B,$,W.length]),n.useEffect(()=>{Zn("/categories").then(e=>i(e||[])).catch(e=>console.error(e)),Zn("/skills").then(e=>c(e||[])).catch(e=>console.error("Skills error:",e))},[]),n.useEffect(()=>{Zn("/jobs").then(e=>a(e||[])).catch(e=>console.error("Load all projects for stats error:",e))},[]),n.useEffect(()=>{S(!0),Zn("/jobs").then(e=>r(e||[])).catch(e=>console.error("Load projects error:",e)).finally(()=>S(!1))},[]),n.useEffect(()=>{"related"===T&&u?(D(!0),Zn(`/jobs/recommended?limit=100&candidateId=${u}`).then(e=>{I((e||[]).map(e=>({...e.job||{},similarity:e.similarity})))}).catch(e=>{console.error("Load recommended projects error:",e),I([])}).finally(()=>D(!1))):I([])},[T,u]);const Q=n.useCallback(t=>o.find(e=>e.id===t)?.name||e("Projects.Other"),[o,e]),X=n.useMemo(()=>{const e=new Map;for(const t of l)e.set(t.id,t.name);return e},[l]),Y=n.useCallback((e=[])=>e.map(e=>X.get(e)).filter(Boolean),[X]),J=e=>{if(e.ownerId!==u)return;b({}),v("");let t=Array.isArray(e.skillIds)?e.skillIds:[];if(!t.length&&Array.isArray(e.skillNames)&&l.length){const n=new Map(l.map(e=>[e.name.toLowerCase(),e.id]));t=e.skillNames.map(e=>n.get((e||"").toLowerCase())).filter(Boolean)}m({id:e.id,ownerId:e.ownerId,title:e.title||"",description:e.description||"",budgetAmount:e.budgetAmount??0,status:e.status||"Open",categoryId:e.categoryId||"",skillIds:t,createdAt:e.createdAt||null,updatedAt:e.updatedAt||null})},Z=n.useCallback(()=>m(null),[]),ee=()=>M(null),te=s.filter(e=>"Open"===e.status).length,ne=s.filter(e=>"InProgress"===e.status).length,re=s.filter(e=>"Completed"===e.status).length,se=(s.reduce((e,t)=>e+(t.budgetAmount||0),0).toLocaleString("vi-VN")||"0")+" ";return de.jsxs("div",{className:"container-ld py-8 space-y-6",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("h1",{className:"text-2xl font-semibold",children:e("Projects.NeedFreelancer")}),de.jsx(ye,{onClick:()=>{u?(b({}),v(""),m({id:null,ownerId:u,title:"",description:"",budgetAmount:0,status:"Open",categoryId:"",skillIds:[],createdAt:null,updatedAt:null})):alert(e("Common.NotLoggedIn"))},children:e("Projects.NewProject")})]}),de.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[de.jsx("input",{type:"text",className:"input w-full md:w-1/2",placeholder:e("Projects.SearchPlaceholder"),value:_,onChange:e=>E(e.target.value)}),de.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[de.jsxs("select",{className:"select w-full md:w-auto",value:k,onChange:e=>C(e.target.value),children:[de.jsx("option",{value:"",children:" Tt c danh mc "}),o.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]}),de.jsxs("select",{className:"select w-full md:w-auto",value:T,onChange:e=>P(e.target.value),children:[de.jsx("option",{value:"newest",children:"Mi nht"}),de.jsx("option",{value:"oldest",children:"C nht"}),de.jsx("option",{value:"related",children:"Lin quan"})]})]})]}),de.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[de.jsx("div",{role:"button",onClick:()=>j("ALL"),className:"transition rounded-xl "+("ALL"===w?"ring-2 ring-brand-500":""),children:de.jsx(Es,{icon:"",label:e("Projects.TotalProjects"),value:s.length})}),de.jsx("div",{role:"button",onClick:()=>j("Open"),className:"transition rounded-xl "+("Open"===w?"ring-2 ring-brand-500":""),children:de.jsx(Es,{icon:"",label:e("Projects.Open"),value:te})}),de.jsx("div",{role:"button",onClick:()=>j("InProgress"),className:"transition rounded-xl "+("InProgress"===w?"ring-2 ring-brand-500":""),children:de.jsx(Es,{icon:"",label:e("Projects.InProgress"),value:ne})}),de.jsx("div",{role:"button",onClick:()=>j("Completed"),className:"transition rounded-xl "+("Completed"===w?"ring-2 ring-brand-500":""),children:de.jsx(Es,{icon:"",label:e("Projects.Completed"),value:re})}),de.jsx(Es,{icon:"",label:e("Projects.TotalBudget"),value:se})]}),de.jsx("div",{ref:q,children:N?de.jsxs("div",{className:"card p-6 flex items-center justify-center gap-3",children:[de.jsx(Ts,{}),de.jsx("span",{children:e("Common.Loading")})]}):0===W.length?de.jsx("div",{className:"card p-6",children:e("Common.NoData")}):de.jsxs(de.Fragment,{children:[K.map(t=>{const n=t.ownerId===u,r=Array.isArray(t.skillIds)&&t.skillIds.length?Y(t.skillIds):t.skillNames||[];return de.jsx("div",{className:"card",children:de.jsxs("div",{className:"card-body",children:[de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex-1",children:[de.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[de.jsx("div",{className:"text-lg font-semibold flex-1",children:t.title}),"related"===T&&void 0!==t.similarity&&de.jsx("div",{className:"flex-shrink-0",children:de.jsxs("div",{className:"px-3 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-semibold whitespace-nowrap",children:[t.similarity,"% ph hp"]})})]}),de.jsx("div",{className:"mt-1 text-sm text-slate-500",children:t.description}),de.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[de.jsx("span",{className:"badge",children:Q(t.categoryId)}),r.slice(0,6).map(e=>de.jsx("span",{className:"badge badge-outline",children:e},e))]})]}),de.jsxs("div",{className:"text-right min-w-[140px] ml-4",children:[de.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:e("Projects.BudgetLabel")}),de.jsxs("div",{className:"text-brand-700 font-semibold",children:[t.budgetAmount?.toLocaleString("vi-VN")??""," "]})]})]}),de.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsxs("span",{children:[e("Projects.StatusLabel"),":"]}),de.jsx("span",{className:"font-semibold "+("Open"===t.status?"text-green-600":"InProgress"===t.status?"text-blue-600":"Completed"===t.status?"text-gray-600":"text-red-600"),children:t.status})]}),de.jsxs("div",{className:"text-xs text-slate-500",children:["ng lc:"," ",t.createdAt?new Date(t.createdAt).toLocaleString("vi-VN"):""]})]}),de.jsxs("div",{className:"mt-4 flex gap-2",children:[de.jsx(ye,{variant:"outline",onClick:()=>(e=>{const t=Array.isArray(e.skillIds)&&e.skillIds.length>0?Y(e.skillIds):e.skillNames||[];M({...e,resolvedSkills:t,categoryName:Q(e.categoryId),isOwner:e.ownerId===u})})(t),children:"Xem"}),n?de.jsx(ye,{variant:"outline",onClick:()=>J(t),children:"Chnh sa"}):"Open"===t.status&&de.jsx(ye,{variant:"outline",onClick:()=>z(t),children:"Nhn job"})]})]})},t.id)}),B&&de.jsx("div",{className:"flex items-center justify-center py-4",children:de.jsx(Ts,{size:"md"})}),!N&&$>=W.length&&W.length>0&&de.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",W.length," d n"]})]})}),O&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:()=>z(null)}),de.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,480px)] -translate-x-1/2 -translate-y-1/2",children:de.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[de.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[de.jsx("div",{className:"font-semibold",children:"ng tuyn d n"}),de.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>z(null),children:""})]}),de.jsxs("div",{className:"p-5 space-y-4",children:[de.jsxs("p",{children:["Bn ang ng tuyn vo d n ",de.jsx("b",{children:O.title})]}),de.jsxs("div",{className:"space-y-2",children:[de.jsx("label",{className:"text-sm font-medium",children:"Cover Letter"}),de.jsx("textarea",{className:"textarea textarea-bordered w-full",rows:3,value:O.coverLetter||"",onChange:e=>z({...O,coverLetter:e.target.value}),placeholder:e("Profile.BioPlaceholder")})]}),de.jsxs("div",{className:"space-y-2",children:[de.jsx("label",{className:"text-sm font-medium",children:"Bid Amount"}),de.jsx("input",{type:"number",className:"input input-bordered w-full",value:O.bidAmount||"",onChange:e=>z({...O,bidAmount:e.target.value}),placeholder:`Theo budget ca d n: ${O.budgetAmount||"0"}$`})]})]}),de.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[de.jsx(ye,{variant:"outline",onClick:()=>z(null),children:e("Common.Cancel")}),de.jsx(ye,{onClick:async()=>{try{const t=(O.coverLetter||"").trim()||e("Projects.InterestedInProject"),n=""===O.bidAmount||null==O.bidAmount?O.budgetAmount??null:Number(O.bidAmount),r=Number.isFinite(n)&&n>0?n:O.budgetAmount??null,s={projectId:O.id||O._id,freelancerId:u,coverLetter:t,bidAmount:r,status:"Pending",createdAt:(new Date).toISOString()};console.log("Proposal payload:",s);const a=await er("/proposals",s),o=a?.id||a?.Id,i={projectId:O.id||O._id,proposalId:o,clientId:O.ownerId,freelancerId:u,projectTitle:O.title,clientName:O.ownerName||"",freelancerName:F||"",coverLetter:t,bidAmount:r};console.log("Message(proposal) payload:",i),await er("/messages/proposal",i)}catch(t){console.error("Proposal error:",t?.response||t),alert(t?.response?.data?.detail||e("Projects.CannotSendProposal"))}finally{z(null)}},children:"Gi proposal"})]})]})})]}),h&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:Z}),de.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,760px)] -translate-x-1/2 -translate-y-1/2",children:de.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[de.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[de.jsx("div",{className:"font-semibold",children:h.id?e("Projects.EditProject"):e("Projects.CreateProject")}),de.jsx("button",{className:"btn btn-sm btn-ghost",onClick:Z,children:""})]}),de.jsxs("div",{className:"p-5 space-y-4",children:[y&&de.jsx("div",{className:"text-sm text-red-600 border border-red-200 bg-red-50 p-2 rounded",children:y}),de.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.TitleLabel")}),de.jsx("input",{className:"input mt-1 w-full "+(x.title?"border-red-500":""),value:h.title,onChange:e=>m(t=>({...t,title:e.target.value})),placeholder:e("Projects.TitlePlaceholder")}),x.title&&de.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.title})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.CategoryLabel")}),de.jsxs("select",{className:"select mt-1 w-full "+(x.categoryId?"border-red-500":""),value:h.categoryId,onChange:e=>m(t=>({...t,categoryId:e.target.value})),children:[de.jsx("option",{value:"",children:e("Projects.SelectCategory")}),o.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]}),x.categoryId&&de.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.categoryId})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.DescriptionLabel")}),de.jsx("textarea",{rows:4,className:"textarea mt-1 w-full "+(x.description?"border-red-500":""),value:h.description,onChange:e=>m(t=>({...t,description:e.target.value})),placeholder:e("Projects.DescriptionPlaceholder")}),x.description&&de.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.description})]}),de.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.BudgetLabel")}),de.jsx("input",{type:"number",className:"input mt-1 w-full "+(x.budgetAmount?"border-red-500":""),value:h.budgetAmount,onChange:e=>m(t=>({...t,budgetAmount:e.target.value})),placeholder:"0",min:0}),x.budgetAmount&&de.jsx("p",{className:"text-xs text-red-600 mt-1",children:x.budgetAmount})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.StatusLabel")}),de.jsxs("select",{className:"select mt-1 w-full",value:h.status,onChange:e=>m(t=>({...t,status:e.target.value})),children:[de.jsx("option",{value:"Open",children:"Open"}),de.jsx("option",{value:"InProgress",children:"InProgress"}),de.jsx("option",{value:"Completed",children:"Completed"}),de.jsx("option",{value:"Closed",children:"Closed"})]})]}),de.jsxs("div",{className:"md:col-span-1",children:[de.jsx("label",{className:"text-sm font-medium",children:e("Projects.SkillsLabel")}),de.jsx(As,{skills:l,value:h.skillIds,onChange:e=>m(t=>({...t,skillIds:e}))})]})]})]}),de.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[de.jsx(ye,{variant:"outline",onClick:Z,disabled:f,children:e("Common.Cancel")}),de.jsx(ye,{onClick:async()=>{if(h&&(()=>{const t={};return h.title?.trim()||(t.title=e("Projects.PleaseEnterTitle")),h.description?.trim()||(t.description=e("Projects.PleaseEnterDescription")),(Number.isNaN(Number(h.budgetAmount))||Number(h.budgetAmount)<0)&&(t.budgetAmount=e("Projects.InvalidBudget")),h.categoryId||(t.categoryId=e("Projects.PleaseSelectCategory")),b(t),0===Object.keys(t).length})())try{let e;if(g(!0),v(""),h.id){const n={id:h.id,ownerId:h.ownerId,title:h.title,description:h.description,budgetAmount:Number(h.budgetAmount),status:h.status,categoryId:h.categoryId,updatedAt:(new Date).toISOString()},s=await tr(`/projects/${h.id}`,n);e=s??n;try{await er("/projectskills/sync",{projectId:h.id,skillIds:h.skillIds||[]}),e.skillIds=h.skillIds||[],e.skillNames=Y(e.skillIds)}catch(t){console.warn("Sync project skills (update) warning:",t?.response||t)}r(t=>t.map(t=>t.id===h.id?{...t,...e}:t)),a(t=>t.map(t=>t.id===h.id?{...t,...e}:t))}else{const n={ownerId:h.ownerId,title:h.title,description:h.description,budgetAmount:Number(h.budgetAmount),status:h.status,categoryId:h.categoryId},s=await er("/projects",n);if(e=s??n,Array.isArray(h.skillIds))try{await er("/projectskills/sync",{projectId:h.id||e.id,skillIds:h.skillIds||[]}),e.skillIds=h.skillIds||[],e.skillNames=Y(e.skillIds)}catch(t){console.warn("Sync project skills warning:",t?.response||t)}r(t=>[{...e},...t]),a(t=>[{...e},...t])}Z()}catch(n){const t=n?.response?.data?.detail||n?.response?.data?.message||n?.response?.data||n?.message||e("Common.SaveFailed");console.error("Save project error:",n?.response||n),v("string"==typeof t?t:e("Common.CannotSave"))}finally{g(!1)}},disabled:f,children:f?e("Projects.Saving"):h.id?e("Projects.SaveChanges"):e("Projects.CreateProjectButton")})]})]})})]}),R&&de.jsxs(de.Fragment,{children:[de.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40",onClick:ee}),de.jsx("div",{className:"fixed left-1/2 top-1/2 z-50 w-[min(96vw,760px)] -translate-x-1/2 -translate-y-1/2",children:de.jsxs("div",{className:"rounded-2xl bg-white shadow-2xl border border-slate-200",children:[de.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[de.jsx("div",{className:"font-semibold",children:"Chi tit d n"}),de.jsx("button",{className:"btn btn-sm btn-ghost",onClick:ee,children:""})]}),de.jsxs("div",{className:"p-5 space-y-4 max-h-[70vh] overflow-y-auto",children:[R.images&&R.images.length>0&&de.jsxs("div",{className:"mb-4",children:[de.jsx("div",{className:"text-sm font-semibold mb-2",children:"Hnh nh d n"}),de.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.images.map((e,t)=>de.jsx("img",{src:e,alt:`Project image ${t+1}`,className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-90",onClick:()=>window.open(e,"_blank")},t))})]}),de.jsxs("div",{className:"flex items-start justify-between gap-4",children:[de.jsxs("div",{children:[de.jsx("div",{className:"text-xl font-semibold",children:R.title}),de.jsx("div",{className:"mt-2 text-sm text-slate-600",children:R.description}),de.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[de.jsx("span",{className:"badge",children:R.categoryName}),(R.resolvedSkills||[]).map(e=>de.jsx("span",{className:"badge badge-outline",children:e},e))]})]}),de.jsxs("div",{className:"text-right min-w-[160px]",children:[de.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:e("Projects.BudgetLabel")}),de.jsxs("div",{className:"text-brand-700 font-semibold",children:[R.budgetAmount?.toLocaleString("vi-VN")??""," "]}),de.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[e("Projects.StatusLabel"),":"," ",de.jsx("span",{className:"badge badge-outline",children:R.status})]}),de.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["ng lc:"," ",R.createdAt?new Date(R.createdAt).toLocaleString("vi-VN"):""]})]})]})]}),de.jsxs("div",{className:"p-4 border-t flex items-center justify-end gap-2",children:[R.isOwner?de.jsx(ye,{variant:"outline",onClick:()=>{ee(),J(R)},children:"Chnh sa"}):"Open"===R.status&&de.jsx(ye,{variant:"outline",onClick:()=>z({projectId:p.id,title:p.title,clientId:p.ownerId}),children:"Nhn job"}),de.jsx(ye,{onClick:ee,children:"ng"})]})]})})]})]})}function As({skills:e,value:r=[],onChange:s}){const[a,o]=n.useState(""),i=new Set(r),l=n.useMemo(()=>{const t=(a||"").trim().toLowerCase();return t?e.filter(e=>(e.name||"").toLowerCase().includes(t)):e},[a,e]);return de.jsxs("div",{className:"mt-1 w-full",children:[de.jsx("input",{className:"input w-full mb-2",placeholder:t("Projects.SearchSkillsPlaceholder"),value:a,onChange:e=>o(e.target.value)}),de.jsx("div",{className:"border rounded-lg h-[160px] overflow-auto p-2 space-y-1 bg-slate-50",children:0===l.length?de.jsx("div",{className:"text-xs text-slate-500 px-1",children:"Khng c k nng ph hp"}):l.map(e=>de.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-white cursor-pointer",children:[de.jsx("input",{type:"checkbox",className:"checkbox",checked:i.has(e.id),onChange:()=>(e=>{const t=new Set(i);t.has(e)?t.delete(e):t.add(e),s(Array.from(t))})(e.id)}),de.jsx("span",{className:"text-sm",children:e.name})]},e.id))}),r?.length>0&&de.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.filter(e=>r.includes(e.id)).map(e=>de.jsx("span",{className:"badge badge-outline",children:e.name},e.id))})]})}function Is(){const[e,t]=n.useState(null),[r,s]=n.useState({avg:"-",count:0}),[c,u]=n.useState(!1),[d,h]=n.useState(!1),m=o().search||"",f=i();n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e)return;const n=je(e)["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"],r=f.userId||n;r&&(Zn(`/userprofiles/by-user/${r}`).then(e=>{t(t=>({...t||{},...e})),h(r===n)}).catch(e=>console.error("Profile error:",e)),r===n?Zn("/users/me").then(e=>{const n=e?.fullName??e?.name??"",r=e?.avatarUrl??"";t(e=>({...e||{},fullName:n,avatarUrl:r}))}).catch(e=>console.error("User error:",e)):Zn(`/users/${r}`).then(e=>{const n=e?.fullName??e?.name??"",r=e?.avatarUrl??"";t(e=>({...e||{},fullName:n,avatarUrl:r}))}).catch(e=>console.error("User (viewed) error:",e)),Zn(`/reviews/by-user/${r}`).then(e=>{const t=e||[];if(t.length>0){const e=t.reduce((e,t)=>e+(Number(t.rating)||0),0)/t.length;s({avg:e.toFixed(1),count:t.length})}else s({avg:"-",count:0})}).catch(e=>console.error("Review error:",e)))},[f.userId]);const{t:p}=ms();if(!e)return de.jsx("p",{className:"p-4",children:p("Account.Loading")});const g=[{to:"profile",label:p("Account.PersonalProfile")},{to:"my-projects",label:p("Account.MyJobs")},{to:"cvs",label:p("Account.MyCVs")},{to:"proposals",label:p("Account.Applications")},{to:"messages",label:p("Account.Messages")},{to:"companies",label:p("Account.Companies")},{to:"settings",label:p("Account.Settings")}];return de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"card overflow-hidden",children:[de.jsx("div",{className:"h-28 bg-gradient-to-r from-blue-600 to-orange-500"}),de.jsxs("div",{className:"p-5 flex items-center justify-between",children:[de.jsxs("div",{className:"flex items-center gap-4",children:[e.avatarUrl?de.jsx("img",{src:e.avatarUrl,alt:"Avatar",className:"w-16 h-16 rounded-full object-cover border-2 border-white"}):de.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-300 flex items-center justify-center text-2xl",children:""}),de.jsxs("div",{children:[de.jsxs("div",{className:"text-xl font-semibold",children:[e.fullName&&e.fullName.trim()?e.fullName:p("Account.HiddenUser"),de.jsx("span",{className:"badge badge-success ml-2",children:p("Account.Verified")})]}),de.jsxs("div",{className:"text-sm text-slate-600",children:[e.title??p("Account.NoJobTitle")," "," ",e.location??p("Account.NoLocation"),"  ",p("Account.Joined")," ",e.createdAt?new Date(e.createdAt).toLocaleDateString("vi-VN"):"-"," ","  ",r.avg,"/5"," ",r.count>0?`(${r.count} ${p("Account.Reviews")})`:""]})]})]}),d&&de.jsx("button",{className:"btn btn-outline",onClick:()=>u(e=>!e),children:c?`${p("Common.Cancel")} ${p("Common.Edit")}`:`${p("Common.Edit")} ${p("Account.PersonalProfile")}`})]}),d&&de.jsx("div",{className:"px-5 border-t border-slate-100",children:de.jsx("nav",{className:"flex gap-2 overflow-x-auto",children:g.map(e=>de.jsx(a,{to:{pathname:e.to,search:m},className:({isActive:e})=>"tab "+(e?"tab-active":""),children:e.label},e.to))})})]}),de.jsx("div",{className:"mt-6",children:de.jsx(l,{context:{isEditingProfile:c,setIsEditingProfile:u}})})]})}function Ls(){const{t:e}=ms(),[t,r]=n.useState(null),[s,a]=n.useState([]),[o,l]=n.useState([]),[u,d]=n.useState(""),[h,m]=n.useState(!1),[f,p]=n.useState(null),[g,x]=n.useState(""),b=c?.()||{},{isEditingProfile:y,setIsEditingProfile:v}=b,{userId:w}=i();if(n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");let t=null;if(e){const n=je(e);t=n.sub||n["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||n.userId}const n=w||t;n&&(Zn(`/users/${n}`).then(e=>{p(e),x(e?.avatarUrl||"")}).catch(e=>console.error("Get user error:",e)),Zn(`/userprofiles/by-user/${n}`).then(async e=>{if(e&&e.hidden)return r({hidden:!0,message:e.message}),void m(!1);if(r(e),m(!w&&e.userId===t),e.skillIds?.length>0){const t=await er("/skills/resolve",e.skillIds);a(t)}}).catch(e=>{console.error("Get profile error:",e?.message||e?.response?.data||e)}))},[w]),n.useEffect(()=>{y&&h&&api.get("/api/skills").then(e=>l(e.data)).catch(e=>console.error("Load skills error:",e))},[y,h]),!t)return de.jsx("p",{className:"p-4",children:"ang ti h s..."});if(t.hidden)return de.jsx("div",{className:"card p-6 text-center text-sm text-gray-600",children:t.message||e("Profile.HiddenProfile")});const j=e=>{const{name:t,value:n}=e.target;r(e=>({...e,[t]:n}))},N=(e,n,s)=>{const a=[...t[e]||[]];a[s]=n,r(t=>({...t,[e]:a}))},S=e=>{r(t=>({...t,[e]:[...t[e]||[],""]}))},k=(e,n)=>{const s=[...t[e]||[]];s.splice(n,1),r(t=>({...t,[e]:s}))},C=h&&y;return de.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold",children:"Thng tin c nhn"}),de.jsx("div",{className:"mt-3 text-sm grid gap-2",children:C?de.jsxs(de.Fragment,{children:[de.jsx("input",{type:"text",name:"title",value:t.title||"",onChange:j,className:"input",placeholder:e("Profile.JobTitle")}),de.jsx("input",{type:"text",name:"location",value:t.location||"",onChange:j,className:"input",placeholder:e("Profile.Location")}),de.jsx("input",{type:"number",name:"hourlyRate",value:t.hourlyRate||"",onChange:j,className:"input",placeholder:e("Profile.HourlyRate")})]}):de.jsxs(de.Fragment,{children:[de.jsxs("div",{children:[e("Profile.JobTitle"),": ",de.jsx("b",{children:t.title})]}),de.jsxs("div",{children:[e("Profile.Location"),": ",t.location??e("Profile.NotUpdated")]}),de.jsxs("div",{children:["Rate: ",t.hourlyRate??"-"," VND/h"]})]})})]}),de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-3",children:e("Profile.Languages")}),C?de.jsxs("div",{className:"flex flex-col gap-2",children:[t.languages?.map((t,n)=>de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"text",value:t,onChange:e=>N("languages",e.target.value,n),className:"input flex-1",placeholder:e("Profile.Languages")}),de.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>k("languages",n),children:""})]},n)),de.jsxs("button",{className:"btn btn-xs btn-outline",onClick:()=>S("languages"),children:["+ ",e("Profile.AddLanguage")]})]}):de.jsx("div",{className:"flex gap-2 flex-wrap",children:t.languages?.map((e,t)=>de.jsx("span",{className:"badge",children:e},t))})]}),de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-3",children:e("Profile.Certificates")}),C?de.jsxs("div",{className:"flex flex-col gap-2",children:[t.certifications?.map((t,n)=>de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"text",value:t,onChange:e=>N("certifications",e.target.value,n),className:"input flex-1",placeholder:e("Profile.Certificates")}),de.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>k("certifications",n),children:""})]},n)),de.jsxs("button",{className:"btn btn-xs btn-outline",onClick:()=>S("certifications"),children:["+ ",e("Profile.AddCertificate")]})]}):de.jsx("ul",{className:"text-sm space-y-2",children:t.certifications?.map((e,t)=>de.jsx("li",{children:e},t))})]})]}),de.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-3",children:e("Profile.Bio")}),C?de.jsx("textarea",{name:"bio",value:t.bio||"",onChange:j,className:"textarea w-full",placeholder:e("Profile.BioPlaceholder")}):de.jsx("p",{className:"text-sm text-slate-700",children:t.bio})]}),de.jsxs("div",{className:"card p-5",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsx("div",{className:"font-semibold",children:e("Projects.SkillsLabel")}),C&&de.jsxs("div",{className:"flex gap-2",children:[de.jsxs("select",{className:"select",value:u,onChange:e=>d(e.target.value),children:[de.jsx("option",{value:"",children:"-- Chn k nng --"}),o.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]}),de.jsx("button",{className:"btn btn-outline",onClick:async()=>{if(u&&!t.skillIds.includes(u))try{const e={...t,skillIds:[...t.skillIds||[],u]};await tr(`/userprofiles/${t.id}`,e);const n=await er("/skills/resolve",e.skillIds);a(n),r(e),d("")}catch(n){console.error("Add skill error:",n),alert(e("Profile.AddSkillFailed"))}},children:"+ Thm"})]})]}),de.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.map(n=>de.jsxs("span",{className:"badge flex items-center gap-1",children:[n.name,C&&de.jsx("button",{className:"ml-1 text-red-500",onClick:()=>(async n=>{try{const e={...t,skillIds:t.skillIds.filter(e=>e!==n)};await tr(`/userprofiles/${t.id}`,e);const s=await er("/skills/resolve",e.skillIds);a(s),r(e)}catch(s){console.error("Remove skill error:",s),alert(e("Profile.RemoveSkillFailed"))}})(n.id),children:""})]},n.id))})]})]}),C&&de.jsx("div",{className:"lg:col-span-3 text-right",children:de.jsx("button",{className:"btn btn-primary",onClick:async()=>{try{await tr(`/userprofiles/${t.id}`,t),g&&f&&await tr(`/users/${f.id}`,{...f,avatarUrl:g}),alert(e("Profile.UpdateSuccess")),v(!1),window.location.reload()}catch(n){console.error("Update error:",n),alert(e("Profile.UpdateFailed"))}},children:e("Projects.SaveChanges")})})]})}Cs.interceptors.request.use(e=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");return t&&(e.headers=e.headers||{},e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),Cs.interceptors.response.use(e=>e,e=>(console.error("API error:",e?.response||e.message),Promise.reject(e)));const Ds=Array(12).fill(0),Rs=({visible:t,className:n})=>e.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},e.createElement("div",{className:"sonner-spinner"},Ds.map((t,n)=>e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Ms=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Os=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zs=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Fs=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Us=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let $s=1;const Hs=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...r}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:$s++,a=this.toasts.find(e=>e.id===s),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:n}),{...t,...e,id:s,dismissible:o,title:n}):t):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(t,n)=>{if(!n)return;let r;void 0!==n.loading&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:"function"!=typeof n.description?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let a,o=void 0!==r;const i=s.then(async t=>{a=["resolve",t];if(e.isValidElement(t))o=!1,this.create({id:r,type:"default",message:t});else if(Bs(t)&&!t.ok){o=!1;const s="function"==typeof n.error?await n.error(`HTTP error! status: ${t.status}`):n.error,a="function"==typeof n.description?await n.description(`HTTP error! status: ${t.status}`):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(t instanceof Error){o=!1;const s="function"==typeof n.error?await n.error(t):n.error,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(void 0!==n.success){o=!1;const s="function"==typeof n.success?await n.success(t):n.success,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"success",description:a,...i})}}).catch(async t=>{if(a=["reject",t],void 0!==n.error){o=!1;const s="function"==typeof n.error?await n.error(t):n.error,a="function"==typeof n.description?await n.description(t):n.description,i="object"==typeof s&&!e.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}}).finally(()=>{o&&(this.dismiss(r),r=void 0),null==n.finally||n.finally.call(n)}),l=()=>new Promise((e,t)=>i.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const n=(null==t?void 0:t.id)||$s++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bs=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Vs=(e,t)=>{const n=(null==t?void 0:t.id)||$s++;return Hs.addToast({title:e,...t,id:n}),n},qs=Object.assign(Vs,{success:Hs.success,info:Hs.info,warning:Hs.warning,error:Hs.error,custom:Hs.custom,message:Hs.message,promise:Hs.promise,dismiss:Hs.dismiss,loading:Hs.loading},{getHistory:()=>Hs.toasts,getToasts:()=>Hs.getActiveToasts()});function Ws(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Ks=3,Gs=14;function Qs(...e){return e.filter(Boolean).join(" ")}const Xs=t=>{var n,r,s,a,o,i,l,c,u;const{invert:d,toast:h,unstyled:m,interacting:f,setHeights:p,visibleToasts:g,heights:x,index:b,toasts:y,expanded:v,removeToast:w,defaultRichColors:j,closeButton:N,style:S,cancelButtonStyle:k,actionButtonStyle:C,className:_="",descriptionClassName:E="",duration:T,position:P,gap:A,expandByDefault:I,classNames:L,icons:D,closeButtonAriaLabel:R="Close toast"}=t,[M,O]=e.useState(null),[z,F]=e.useState(null),[U,$]=e.useState(!1),[H,B]=e.useState(!1),[V,q]=e.useState(!1),[W,K]=e.useState(!1),[G,Q]=e.useState(!1),[X,Y]=e.useState(0),[J,Z]=e.useState(0),ee=e.useRef(h.duration||T||4e3),te=e.useRef(null),ne=e.useRef(null),re=0===b,se=b+1<=g,ae=h.type,oe=!1!==h.dismissible,ie=h.className||"",le=h.descriptionClassName||"",ce=e.useMemo(()=>x.findIndex(e=>e.toastId===h.id)||0,[x,h.id]),ue=e.useMemo(()=>{var e;return null!=(e=h.closeButton)?e:N},[h.closeButton,N]),de=e.useMemo(()=>h.duration||T||4e3,[h.duration,T]),he=e.useRef(0),me=e.useRef(0),fe=e.useRef(0),pe=e.useRef(null),[ge,xe]=P.split("-"),be=e.useMemo(()=>x.reduce((e,t,n)=>n>=ce?e:e+t.height,0),[x,ce]),ye=(()=>{const[t,n]=e.useState(document.hidden);return e.useEffect(()=>{const e=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),t})(),ve=h.invert||d,we="loading"===ae;me.current=e.useMemo(()=>ce*A+be,[ce,be]),e.useEffect(()=>{ee.current=de},[de]),e.useEffect(()=>{$(!0)},[]),e.useEffect(()=>{const e=ne.current;if(e){const t=e.getBoundingClientRect().height;return Z(t),p(e=>[{toastId:h.id,height:t,position:h.position},...e]),()=>p(e=>e.filter(e=>e.toastId!==h.id))}},[p,h.id]),e.useLayoutEffect(()=>{if(!U)return;const e=ne.current,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,Z(n),p(e=>e.find(e=>e.toastId===h.id)?e.map(e=>e.toastId===h.id?{...e,height:n}:e):[{toastId:h.id,height:n,position:h.position},...e])},[U,h.title,h.description,p,h.id,h.jsx,h.action,h.cancel]);const je=e.useCallback(()=>{B(!0),Y(me.current),p(e=>e.filter(e=>e.toastId!==h.id)),setTimeout(()=>{w(h)},200)},[h,w,p,me]);e.useEffect(()=>{if(h.promise&&"loading"===ae||h.duration===1/0||"loading"===h.type)return;let e;return v||f||ye?(()=>{if(fe.current<he.current){const e=(new Date).getTime()-he.current;ee.current=ee.current-e}fe.current=(new Date).getTime()})():ee.current!==1/0&&(he.current=(new Date).getTime(),e=setTimeout(()=>{null==h.onAutoClose||h.onAutoClose.call(h,h),je()},ee.current)),()=>clearTimeout(e)},[v,f,h,ae,ye,je]),e.useEffect(()=>{h.delete&&(je(),null==h.onDismiss||h.onDismiss.call(h,h))},[je,h.delete]);const Ne=h.icon||(null==D?void 0:D[ae])||(e=>{switch(e){case"success":return Ms;case"info":return zs;case"warning":return Os;case"error":return Fs;default:return null}})(ae);var Se,ke,Ce,_e;return e.createElement("li",{tabIndex:0,ref:ne,className:Qs(_,ie,null==L?void 0:L.toast,null==h||null==(n=h.classNames)?void 0:n.toast,null==L?void 0:L.default,null==L?void 0:L[ae],null==h||null==(r=h.classNames)?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":null!=(Se=h.richColors)?Se:j,"data-styled":!Boolean(h.jsx||h.unstyled||m),"data-mounted":U,"data-promise":Boolean(h.promise),"data-swiped":G,"data-removed":H,"data-visible":se,"data-y-position":ge,"data-x-position":xe,"data-index":b,"data-front":re,"data-swiping":V,"data-dismissible":oe,"data-type":ae,"data-invert":ve,"data-swipe-out":W,"data-swipe-direction":z,"data-expanded":Boolean(v||I&&U),"data-testid":h.testId,style:{"--index":b,"--toasts-before":b,"--z-index":y.length-b,"--offset":`${H?X:me.current}px`,"--initial-height":I?"auto":`${J}px`,...S,...h.style},onDragEnd:()=>{q(!1),O(null),pe.current=null},onPointerDown:e=>{2!==e.button&&!we&&oe&&(te.current=new Date,Y(me.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),pe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n;if(W||!oe)return;pe.current=null;const r=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),s=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=(new Date).getTime()-(null==(n=te.current)?void 0:n.getTime()),o="x"===M?r:s,i=Math.abs(o)/a;if(Math.abs(o)>=45||i>.11)return Y(me.current),null==h.onDismiss||h.onDismiss.call(h,h),F("x"===M?r>0?"right":"left":s>0?"down":"up"),je(),void K(!0);var l,c;null==(l=ne.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=ne.current)||c.style.setProperty("--swipe-amount-y","0px"),Q(!1),q(!1),O(null)},onPointerMove:e=>{var n,r,s;if(!pe.current||!oe)return;if((null==(n=window.getSelection())?void 0:n.toString().length)>0)return;const a=e.clientY-pe.current.y,o=e.clientX-pe.current.x;var i;const l=null!=(i=t.swipeDirections)?i:function(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}(P);!M&&(Math.abs(o)>1||Math.abs(a)>1)&&O(Math.abs(o)>Math.abs(a)?"x":"y");let c={x:0,y:0};const u=e=>1/(1.5+Math.abs(e)/20);if("y"===M){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&a<0||l.includes("bottom")&&a>0)c.y=a;else{const e=a*u(a);c.y=Math.abs(e)<Math.abs(a)?e:a}}else if("x"===M&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&o<0||l.includes("right")&&o>0)c.x=o;else{const e=o*u(o);c.x=Math.abs(e)<Math.abs(o)?e:o}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(r=ne.current)||r.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=ne.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ue&&!h.jsx&&"loading"!==ae?e.createElement("button",{"aria-label":R,"data-disabled":we,"data-close-button":!0,onClick:we||!oe?()=>{}:()=>{je(),null==h.onDismiss||h.onDismiss.call(h,h)},className:Qs(null==L?void 0:L.closeButton,null==h||null==(s=h.classNames)?void 0:s.closeButton)},null!=(ke=null==D?void 0:D.close)?ke:Us):null,(ae||h.icon||h.promise)&&null!==h.icon&&(null!==(null==D?void 0:D[ae])||h.icon)?e.createElement("div",{"data-icon":"",className:Qs(null==L?void 0:L.icon,null==h||null==(a=h.classNames)?void 0:a.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||((null==D?void 0:D.loading)?e.createElement("div",{className:Qs(null==L?void 0:L.loader,null==h||null==(_e=h.classNames)?void 0:_e.loader,"sonner-loader"),"data-visible":"loading"===ae},D.loading):e.createElement(Rs,{className:Qs(null==L?void 0:L.loader,null==h||null==(Ce=h.classNames)?void 0:Ce.loader),visible:"loading"===ae})):null,"loading"!==h.type?Ne:null):null,e.createElement("div",{"data-content":"",className:Qs(null==L?void 0:L.content,null==h||null==(o=h.classNames)?void 0:o.content)},e.createElement("div",{"data-title":"",className:Qs(null==L?void 0:L.title,null==h||null==(i=h.classNames)?void 0:i.title)},h.jsx?h.jsx:"function"==typeof h.title?h.title():h.title),h.description?e.createElement("div",{"data-description":"",className:Qs(E,le,null==L?void 0:L.description,null==h||null==(l=h.classNames)?void 0:l.description)},"function"==typeof h.description?h.description():h.description):null),e.isValidElement(h.cancel)?h.cancel:h.cancel&&Ws(h.cancel)?e.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||k,onClick:e=>{Ws(h.cancel)&&oe&&(null==h.cancel.onClick||h.cancel.onClick.call(h.cancel,e),je())},className:Qs(null==L?void 0:L.cancelButton,null==h||null==(c=h.classNames)?void 0:c.cancelButton)},h.cancel.label):null,e.isValidElement(h.action)?h.action:h.action&&Ws(h.action)?e.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||C,onClick:e=>{Ws(h.action)&&(null==h.action.onClick||h.action.onClick.call(h.action,e),e.defaultPrevented||je())},className:Qs(null==L?void 0:L.actionButton,null==h||null==(u=h.classNames)?void 0:u.actionButton)},h.action.label):null)};function Ys(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function Js(e,t){const n={};return[e,t].forEach((e,t)=>{const r=1===t,s=r?"--mobile-offset":"--offset",a=r?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{n[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${s}-${t}`]=a:n[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):o(a)}),n}const Zs=e.forwardRef(function(t,n){const{id:r,invert:s,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:f,duration:p,style:g,visibleToasts:x=Ks,toastOptions:b,dir:y=Ys(),gap:v=Gs,icons:w,containerAriaLabel:j="Notifications"}=t,[N,S]=e.useState([]),k=e.useMemo(()=>r?N.filter(e=>e.toasterId===r):N.filter(e=>!e.toasterId),[N,r]),C=e.useMemo(()=>Array.from(new Set([a].concat(k.filter(e=>e.position).map(e=>e.position)))),[k,a]),[_,E]=e.useState([]),[T,P]=e.useState(!1),[A,I]=e.useState(!1),[L,D]=e.useState("system"!==m?m:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=e.useRef(null),M=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=e.useRef(null),z=e.useRef(!1),F=e.useCallback(e=>{S(t=>{var n;return(null==(n=t.find(t=>t.id===e.id))?void 0:n.delete)||Hs.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return e.useEffect(()=>Hs.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{S(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{u.flushSync(()=>{S(t=>{const n=t.findIndex(t=>t.id===e.id);return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[N]),e.useEffect(()=>{if("system"!==m)return void D(m);if("system"===m&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{D(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{D(e?"dark":"light")}catch(t){console.error(t)}})}},[m]),e.useEffect(()=>{N.length<=1&&P(!1)},[N]),e.useEffect(()=>{const e=e=>{var t;var n;o.every(t=>e[t]||e.code===t)&&(P(!0),null==(n=R.current)||n.focus());"Escape"!==e.code||document.activeElement!==R.current&&!(null==(t=R.current)?void 0:t.contains(document.activeElement))||P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]),e.useEffect(()=>{if(R.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,z.current=!1)}},[R.current]),e.createElement("section",{ref:n,"aria-label":`${j} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((n,r)=>{var a;const[o,u]=n.split("-");return k.length?e.createElement("ol",{key:n,dir:"auto"===y?Ys():y,tabIndex:-1,ref:R,className:c,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":o,"data-x-position":u,style:{"--front-toast-height":`${(null==(a=_[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${v}px`,...g,...Js(d,h)},onBlur:e=>{z.current&&!e.currentTarget.contains(e.relatedTarget)&&(z.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||z.current||(z.current=!0,O.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{A||P(!1)},onDragEnd:()=>P(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||I(!0)},onPointerUp:()=>I(!1)},k.filter(e=>!e.position&&0===r||e.position===n).map((r,a)=>{var o,c;return e.createElement(Xs,{key:r.id,icons:w,index:a,toast:r,defaultRichColors:f,duration:null!=(o=null==b?void 0:b.duration)?o:p,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:s,visibleToasts:x,closeButton:null!=(c=null==b?void 0:b.closeButton)?c:l,interacting:A,position:n,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,closeButtonAriaLabel:null==b?void 0:b.closeButtonAriaLabel,removeToast:F,toasts:k.filter(e=>e.position==r.position),heights:_.filter(e=>e.position==r.position),setHeights:E,expandByDefault:i,gap:v,expanded:T,swipeDirections:t.swipeDirections})})):null}))});function ea(e,t){let n;try{n=e()}catch(r){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=n.getItem(e))?t:null;return s instanceof Promise?s.then(r):r(s)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const ta=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>ta(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>ta(e)(n)}}},na=Ce(((e,t)=>(n,r,s)=>{let a={storage:ea(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1;const i=new Set,l=new Set;let c=a.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,s);const u=()=>{const e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},d=s.setState;s.setState=(e,t)=>(d(e,t),u());const h=e((...e)=>(n(...e),u()),r,s);let m;s.getInitialState=()=>h;const f=()=>{var e,t;if(!c)return;o=!1,i.forEach(e=>{var t;return e(null!=(t=r())?t:h)});const s=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:h))||void 0;return ta(c.getItem.bind(c))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate){const t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[s,o]=e;if(m=a.merge(o,null!=(t=r())?t:h),n(m,!0),s)return u()}).then(()=>{null==s||s(m,void 0),m=r(),o=!0,l.forEach(e=>e(m))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||f(),m||h})((e,t)=>({notifications:{emailNotifications:!0,newProjectNotifications:!0,messageNotifications:!0},privacy:{publicProfile:!0,showOnlineStatus:!1},updateNotificationSettings:(n,r)=>{const s={...t().notifications,[n]:r};e({notifications:s})},updatePrivacySettings:(n,r)=>{const s={...t().privacy,[n]:r};e({privacy:s})}}),{name:"lanserve-settings",partialize:e=>({notifications:e.notifications,privacy:e.privacy})}));function ra(){const{notifications:e,privacy:t,updateNotificationSettings:r,updatePrivacySettings:s}=na(),[a,o]=n.useState(null),[i,l]=n.useState("");n.useEffect(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token"))&&Zn("/users/me").then(e=>{o(e),l(e?.avatarUrl||"")}).catch(e=>console.error("Get user error:",e))},[]);n.useEffect(()=>{(async()=>{try{const e=await Zn("/Users/me/settings");e?.notificationSettings&&(void 0!==e.notificationSettings.emailNotifications&&r("emailNotifications",e.notificationSettings.emailNotifications),void 0!==e.notificationSettings.messageNotifications&&r("messageNotifications",e.notificationSettings.messageNotifications),void 0!==e.notificationSettings.newProjectNotifications&&r("newProjectNotifications",e.notificationSettings.newProjectNotifications)),e?.privacySettings&&(void 0!==e.privacySettings.publicProfile&&s("publicProfile",e.privacySettings.publicProfile),void 0!==e.privacySettings.showOnlineStatus&&s("showOnlineStatus",e.privacySettings.showOnlineStatus))}catch(e){console.error("Failed to load settings:",e)}})()},[r,s]);const[c,u]=n.useState(!1),[d,h]=n.useState(""),[m,f]=n.useState(""),[p,g]=n.useState("");return de.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-3",children:"nh i din"}),de.jsxs("div",{className:"flex items-center gap-4",children:[i?de.jsx("img",{src:i,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover"}):de.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-200 flex items-center justify-center text-2xl",children:""}),de.jsx("div",{children:de.jsx(Ss,{folder:"avatars",onUploadSuccess:async e=>{try{await tr("/users/me",{avatarUrl:e}),l(e),o({...a,avatarUrl:e}),qs.success("Cp nht avatar thnh cng!")}catch(t){console.error("Update avatar error:",t),qs.error("Cp nht avatar tht bi!")}}})})]})]}),de.jsxs("div",{className:"card p-5 space-y-6",children:[de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:"Thng bo"}),de.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:async t=>{const n=t.target.checked;r("emailNotifications",n);try{await tr("/Users/me/notification-settings",{emailNotifications:n,messageNotifications:e.messageNotifications,newProjectNotifications:e.newProjectNotifications})}catch(s){console.error("Failed to save settings:",s),qs.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Nhn thng bo qua email"]}),de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:e.newProjectNotifications,onChange:async t=>{const n=t.target.checked;r("newProjectNotifications",n);try{await tr("/Users/me/notification-settings",{emailNotifications:e.emailNotifications,messageNotifications:e.messageNotifications,newProjectNotifications:n})}catch(s){console.error("Failed to save settings:",s),qs.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Thng bo d n mi"]}),de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:e.messageNotifications,onChange:async t=>{const n=t.target.checked;r("messageNotifications",n);try{await tr("/Users/me/notification-settings",{emailNotifications:e.emailNotifications,messageNotifications:n,newProjectNotifications:e.newProjectNotifications})}catch(s){console.error("Failed to save settings:",s),qs.error("Khng th lu ci t")}},className:"cursor-pointer"}),"Thng bo tin nhn"]})]})]}),de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:"Quyn ring t"}),de.jsxs("div",{className:"mt-2 space-y-2 text-sm",children:[de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:t.publicProfile,onChange:async e=>{const n=e.target.checked;s("publicProfile",n);try{await tr("/Users/me/privacy-settings",{publicProfile:n,showOnlineStatus:t.showOnlineStatus})}catch(r){console.error("Failed to save privacy settings:",r),qs.error("Khng th lu ci t quyn ring t")}},className:"cursor-pointer"}),"Hin th h s cng khai"]}),de.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[de.jsx("input",{type:"checkbox",checked:t.showOnlineStatus,onChange:async e=>{const n=e.target.checked;s("showOnlineStatus",n);try{await tr("/Users/me/privacy-settings",{publicProfile:t.publicProfile,showOnlineStatus:n})}catch(r){console.error("Failed to save privacy settings:",r),qs.error("Khng th lu ci t quyn ring t")}},className:"cursor-pointer"}),"Hin th trng thi online"]})]})]}),de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:"Bo mt"}),de.jsx(ye,{variant:"outline",className:"mt-2",onClick:()=>u(!0),children:"i mt khu"})]})]})]}),de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold",children:"Trng thi ti khon"}),de.jsxs("ul",{className:"mt-3 text-sm space-y-2",children:[de.jsx("li",{children:" Ti khon  xc thc"}),de.jsx("li",{children:" Email  xc nhn"}),de.jsx("li",{children:" S in thoi  xc nhn"})]})]}),c&&de.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:de.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-6",children:[de.jsx("h2",{className:"text-xl font-semibold mb-4",children:"i mt khu"}),de.jsxs("div",{className:"space-y-3",children:[de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Mt khu c"}),de.jsx(ws,{type:"password",value:d,onChange:e=>h(e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Mt khu mi"}),de.jsx(ws,{type:"password",value:m,onChange:e=>f(e.target.value)})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Xc nhn mt khu mi"}),de.jsx(ws,{type:"password",value:p,onChange:e=>g(e.target.value)})]})]}),de.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[de.jsx(ye,{variant:"outline",onClick:()=>u(!1),children:"Hy"}),de.jsx(ye,{onClick:async()=>{if(m===p)try{await er("/Users/change-password",{oldPassword:d,newPassword:m}),qs.success("i mt khu thnh cng!"),u(!1),h(""),f(""),g("")}catch(e){qs.error(e.response?.data?.message||"i mt khu tht bi")}else qs.error("Mt khu mi khng khp")},children:"Lu"})]})]})})]})}
/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:sa,setPrototypeOf:aa,isFrozen:oa,getPrototypeOf:ia,getOwnPropertyDescriptor:la}=Object;let{freeze:ca,seal:ua,create:da}=Object,{apply:ha,construct:ma}="undefined"!=typeof Reflect&&Reflect;ca||(ca=function(e){return e}),ua||(ua=function(e){return e}),ha||(ha=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return e.apply(t,r)}),ma||(ma=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const fa=Ta(Array.prototype.forEach),pa=Ta(Array.prototype.lastIndexOf),ga=Ta(Array.prototype.pop),xa=Ta(Array.prototype.push),ba=Ta(Array.prototype.splice),ya=Ta(String.prototype.toLowerCase),va=Ta(String.prototype.toString),wa=Ta(String.prototype.match),ja=Ta(String.prototype.replace),Na=Ta(String.prototype.indexOf),Sa=Ta(String.prototype.trim),ka=Ta(Object.prototype.hasOwnProperty),Ca=Ta(RegExp.prototype.test),_a=(Ea=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ma(Ea,t)});var Ea;function Ta(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return ha(e,t,r)}}function Pa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ya;aa&&aa(e,null);let r=t.length;for(;r--;){let s=t[r];if("string"==typeof s){const e=n(s);e!==s&&(oa(t)||(t[r]=e),s=e)}e[s]=!0}return e}function Aa(e){for(let t=0;t<e.length;t++){ka(e,t)||(e[t]=null)}return e}function Ia(e){const t=da(null);for(const[n,r]of sa(e)){ka(e,n)&&(Array.isArray(r)?t[n]=Aa(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=Ia(r):t[n]=r)}return t}function La(e,t){for(;null!==e;){const n=la(e,t);if(n){if(n.get)return Ta(n.get);if("function"==typeof n.value)return Ta(n.value)}e=ia(e)}return function(){return null}}const Da=ca(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ra=ca(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ma=ca(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Oa=ca(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),za=ca(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Fa=ca(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ua=ca(["#text"]),$a=ca(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ha=ca(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ba=ca(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Va=ca(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qa=ua(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wa=ua(/<%[\w\W]*|[\w\W]*%>/gm),Ka=ua(/\$\{[\w\W]*/gm),Ga=ua(/^data-[\-\w.\u00B7-\uFFFF]+$/),Qa=ua(/^aria-[\-\w]+$/),Xa=ua(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ya=ua(/^(?:\w+script|data):/i),Ja=ua(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Za=ua(/^html$/i),eo=ua(/^[a-z][.\w]*(-[.\w]+)+$/i);var to=Object.freeze({__proto__:null,ARIA_ATTR:Qa,ATTR_WHITESPACE:Ja,CUSTOM_ELEMENT:eo,DATA_ATTR:Ga,DOCTYPE_NAME:Za,ERB_EXPR:Wa,IS_ALLOWED_URI:Xa,IS_SCRIPT_OR_DATA:Ya,MUSTACHE_EXPR:qa,TMPLIT_EXPR:Ka});const no=1,ro=3,so=7,ao=8,oo=9;var io=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.2.7",n.removed=[],!t||!t.document||t.document.nodeType!==oo||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const s=r,a=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:m,trustedTypes:f}=t,p=c.prototype,g=La(p,"cloneNode"),x=La(p,"remove"),b=La(p,"nextSibling"),y=La(p,"childNodes"),v=La(p,"parentNode");if("function"==typeof i){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let w,j="";const{implementation:N,createNodeIterator:S,createDocumentFragment:k,getElementsByTagName:C}=r,{importNode:_}=s;let E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof sa&&"function"==typeof v&&N&&void 0!==N.createHTMLDocument;const{MUSTACHE_EXPR:T,ERB_EXPR:P,TMPLIT_EXPR:A,DATA_ATTR:I,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:R,CUSTOM_ELEMENT:M}=to;let{IS_ALLOWED_URI:O}=to,z=null;const F=Pa({},[...Da,...Ra,...Ma,...za,...Ua]);let U=null;const $=Pa({},[...$a,...Ha,...Ba,...Va]);let H=Object.seal(da(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),B=null,V=null,q=!0,W=!0,K=!1,G=!0,Q=!1,X=!0,Y=!1,J=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,se=!1,ae=!0,oe=!1,ie={},le=null;const ce=Pa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=Pa({},["audio","video","img","source","image","track"]);let he=null;const me=Pa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let xe=ge,be=!1,ye=null;const ve=Pa({},[fe,pe,ge],va);let we=Pa({},["mi","mo","mn","ms","mtext"]),je=Pa({},["annotation-xml"]);const Ne=Pa({},["title","style","font","a","script"]);let Se=null;const ke=["application/xhtml+xml","text/html"];let Ce=null,_e=null;const Ee=r.createElement("form"),Te=function(e){return e instanceof RegExp||e instanceof Function},Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!_e||_e!==e){if(e&&"object"==typeof e||(e={}),e=Ia(e),Se=-1===ke.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ce="application/xhtml+xml"===Se?va:ya,z=ka(e,"ALLOWED_TAGS")?Pa({},e.ALLOWED_TAGS,Ce):F,U=ka(e,"ALLOWED_ATTR")?Pa({},e.ALLOWED_ATTR,Ce):$,ye=ka(e,"ALLOWED_NAMESPACES")?Pa({},e.ALLOWED_NAMESPACES,va):ve,he=ka(e,"ADD_URI_SAFE_ATTR")?Pa(Ia(me),e.ADD_URI_SAFE_ATTR,Ce):me,ue=ka(e,"ADD_DATA_URI_TAGS")?Pa(Ia(de),e.ADD_DATA_URI_TAGS,Ce):de,le=ka(e,"FORBID_CONTENTS")?Pa({},e.FORBID_CONTENTS,Ce):ce,B=ka(e,"FORBID_TAGS")?Pa({},e.FORBID_TAGS,Ce):Ia({}),V=ka(e,"FORBID_ATTR")?Pa({},e.FORBID_ATTR,Ce):Ia({}),ie=!!ka(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,W=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Q=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,Y=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,se=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,O=e.ALLOWED_URI_REGEXP||Xa,xe=e.NAMESPACE||ge,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,je=e.HTML_INTEGRATION_POINTS||je,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Te(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(W=!1),te&&(ee=!0),ie&&(z=Pa({},Ua),U=[],!0===ie.html&&(Pa(z,Da),Pa(U,$a)),!0===ie.svg&&(Pa(z,Ra),Pa(U,Ha),Pa(U,Va)),!0===ie.svgFilters&&(Pa(z,Ma),Pa(U,Ha),Pa(U,Va)),!0===ie.mathMl&&(Pa(z,za),Pa(U,Ba),Pa(U,Va))),e.ADD_TAGS&&(z===F&&(z=Ia(z)),Pa(z,e.ADD_TAGS,Ce)),e.ADD_ATTR&&(U===$&&(U=Ia(U)),Pa(U,e.ADD_ATTR,Ce)),e.ADD_URI_SAFE_ATTR&&Pa(he,e.ADD_URI_SAFE_ATTR,Ce),e.FORBID_CONTENTS&&(le===ce&&(le=Ia(le)),Pa(le,e.FORBID_CONTENTS,Ce)),ae&&(z["#text"]=!0),Y&&Pa(z,["html","head","body"]),z.table&&(Pa(z,["tbody"]),delete B.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _a('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _a('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=e.TRUSTED_TYPES_POLICY,j=w.createHTML("")}else void 0===w&&(w=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+s+" could not be created."),null}}(f,a)),null!==w&&"string"==typeof j&&(j=w.createHTML(""));ca&&ca(e),_e=e}},Ae=Pa({},[...Ra,...Ma,...Oa]),Ie=Pa({},[...za,...Fa]),Le=function(e){xa(n.removed,{element:e});try{v(e).removeChild(e)}catch(t){x(e)}},De=function(e,t){try{xa(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){xa(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Le(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Re=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=wa(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Se&&xe===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const s=w?w.createHTML(e):e;if(xe===ge)try{t=(new m).parseFromString(s,Se)}catch(o){}if(!t||!t.documentElement){t=N.createDocument(xe,"template",null);try{t.documentElement.innerHTML=be?j:s}catch(o){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),xe===ge?C.call(t,Y?"html":"body")[0]:Y?t.documentElement:a},Me=function(e){return S.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Oe=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},ze=function(e){return"function"==typeof l&&e instanceof l};function Fe(e,t,r){fa(e,e=>{e.call(n,t,r,_e)})}const Ue=function(e){let t=null;if(Fe(E.beforeSanitizeElements,e,null),Oe(e))return Le(e),!0;const r=Ce(e.nodeName);if(Fe(E.uponSanitizeElement,e,{tagName:r,allowedTags:z}),X&&e.hasChildNodes()&&!ze(e.firstElementChild)&&Ca(/<[/\w!]/g,e.innerHTML)&&Ca(/<[/\w!]/g,e.textContent))return Le(e),!0;if(e.nodeType===so)return Le(e),!0;if(X&&e.nodeType===ao&&Ca(/<[/\w]/g,e.data))return Le(e),!0;if(!z[r]||B[r]){if(!B[r]&&He(r)){if(H.tagNameCheck instanceof RegExp&&Ca(H.tagNameCheck,r))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(r))return!1}if(ae&&!le[r]){const t=v(e)||e.parentNode,n=y(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const s=g(n[r],!0);s.__removalCount=(e.__removalCount||0)+1,t.insertBefore(s,b(e))}}}return Le(e),!0}return e instanceof c&&!function(e){let t=v(e);t&&t.tagName||(t={namespaceURI:xe,tagName:"template"});const n=ya(e.tagName),r=ya(t.tagName);return!!ye[e.namespaceURI]&&(e.namespaceURI===pe?t.namespaceURI===ge?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(Ae[n]):e.namespaceURI===fe?t.namespaceURI===ge?"math"===n:t.namespaceURI===pe?"math"===n&&je[r]:Boolean(Ie[n]):e.namespaceURI===ge?!(t.namespaceURI===pe&&!je[r])&&!(t.namespaceURI===fe&&!we[r])&&!Ie[n]&&(Ne[n]||!Ae[n]):!("application/xhtml+xml"!==Se||!ye[e.namespaceURI]))}(e)?(Le(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Ca(/<\/no(script|embed|frames)/i,e.innerHTML)?(Q&&e.nodeType===ro&&(t=e.textContent,fa([T,P,A],e=>{t=ja(t,e," ")}),e.textContent!==t&&(xa(n.removed,{element:e.cloneNode()}),e.textContent=t)),Fe(E.afterSanitizeElements,e,null),!1):(Le(e),!0)},$e=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in Ee))return!1;if(W&&!V[t]&&Ca(I,t));else if(q&&Ca(L,t));else if(!U[t]||V[t]){if(!(He(e)&&(H.tagNameCheck instanceof RegExp&&Ca(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&Ca(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t,e))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&Ca(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(he[t]);else if(Ca(O,ja(n,R,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Na(n,"data:")||!ue[e]){if(K&&!Ca(D,ja(n,R,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&wa(e,M)},Be=function(e){Fe(E.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Oe(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let s=t.length;for(;s--;){const o=t[s],{name:i,namespaceURI:l,value:c}=o,u=Ce(i),d=c;let h="value"===i?d:Sa(d);if(r.attrName=u,r.attrValue=h,r.keepAttr=!0,r.forceKeepAttr=void 0,Fe(E.uponSanitizeAttribute,e,r),h=r.attrValue,!se||"id"!==u&&"name"!==u||(De(i,e),h="user-content-"+h),X&&Ca(/((--!?|])>)|<\/(style|title|textarea)/i,h)){De(i,e);continue}if("attributename"===u&&wa(h,"href")){De(i,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){De(i,e);continue}if(!G&&Ca(/\/>/i,h)){De(i,e);continue}Q&&fa([T,P,A],e=>{h=ja(h,e," ")});const m=Ce(e.nodeName);if($e(m,u,h)){if(w&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(l);else switch(f.getAttributeType(m,u)){case"TrustedHTML":h=w.createHTML(h);break;case"TrustedScriptURL":h=w.createScriptURL(h)}if(h!==d)try{l?e.setAttributeNS(l,i,h):e.setAttribute(i,h),Oe(e)?Le(e):ga(n.removed)}catch(a){De(i,e)}}else De(i,e)}Fe(E.afterSanitizeAttributes,e,null)},Ve=function e(t){let n=null;const r=Me(t);for(Fe(E.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Fe(E.uponSanitizeShadowNode,n,null),Ue(n),Be(n),n.content instanceof o&&e(n.content);Fe(E.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ze(e)){if("function"!=typeof e.toString)throw _a("toString is not a function");if("string"!=typeof(e=e.toString()))throw _a("dirty is not a string, aborting")}if(!n.isSupported)return e;if(J||Pe(t),n.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){const t=Ce(e.nodeName);if(!z[t]||B[t])throw _a("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Re("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===no&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!ee&&!Q&&!Y&&-1===e.indexOf("<"))return w&&ne?w.createHTML(e):e;if(r=Re(e),!r)return ee?null:ne?j:""}r&&Z&&Le(r.firstChild);const u=Me(oe?e:r);for(;i=u.nextNode();)Ue(i),Be(i),i.content instanceof o&&Ve(i.content);if(oe)return e;if(ee){if(te)for(c=k.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(U.shadowroot||U.shadowrootmode)&&(c=_.call(s,c,!0)),c}let d=Y?r.outerHTML:r.innerHTML;return Y&&z["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&Ca(Za,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Q&&fa([T,P,A],e=>{d=ja(d,e," ")}),w&&ne?w.createHTML(d):d},n.setConfig=function(){Pe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},n.clearConfig=function(){_e=null,J=!1},n.isValidAttribute=function(e,t,n){_e||Pe({});const r=Ce(e),s=Ce(t);return $e(r,s,n)},n.addHook=function(e,t){"function"==typeof t&&xa(E[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=pa(E[e],t);return-1===n?void 0:ba(E[e],n,1)[0]}return ga(E[e])},n.removeHooks=function(e){E[e]=[]},n.removeAllHooks=function(){E={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function lo({title:e="Khng c d liu",actionLabel:t,onAction:n}){return de.jsx("div",{className:"card",children:de.jsxs("div",{className:"card-body text-center py-16",children:[de.jsx("div",{className:"text-2xl font-semibold",children:e}),t&&de.jsx(ye,{className:"mt-4",onClick:n,children:t})]})})}const co=(e="")=>{const[t="null",n="",r=""]=String(e).split(":");return{projectId:t,receiverId:n,senderId:r}};function uo(e={}){const t=e=>e&&e.$oid||e||null;return{id:t(e._id)||e.id||crypto.randomUUID(),conversationKey:e.conversationKey||"",projectId:t(e.projectId)||e.projectId||null,senderId:t(e.senderId)||e.senderId||null,receiverId:t(e.receiverId)||e.receiverId||null,text:e.text||e.html||"",createdAt:(e=>{if(!e)return null;const t=e.$date&&(e.$date.$numberLong||e.$date)||e,n=Number(t);try{return Number.isFinite(n)?new Date(n).toISOString():new Date(t).toISOString()}catch{return(new Date).toISOString()}})(e.createdAt)||(new Date).toISOString(),isRead:Boolean(e.isRead)}}const ho=e=>"string"==typeof e&&/^\s*</.test(e);async function mo(e,t){const n=document.createElement("div");n.innerHTML=e;const r=n.querySelector(".proposal-card");if(!r)return e;const s=r.getAttribute("data-proposal-id");if(!s)return e;const a=await async function(e){if(!e)return null;try{const t=await Xn.get(`/Proposals/${e}`),n=(t.data?.status||"").trim().toLowerCase();return console.log("[Proposal] status:",n),n}catch(t){return console.warn("[Proposal] fetch failed:",t.message),null}}(s);if("pending"!==a)return e;let o=null;try{const e=await Xn.get(`api/Proposals/${s}`);o=e.data?.senderId||e.data?.freelancerId||e.data?.createdBy||null}catch{console.warn(`[Proposal ${s}] cannot fetch owner`)}const i=o&&o===t,l=document.createElement("div");return l.className="actions flex gap-2 mt-2",l.innerHTML=`\n    ${i?"":'<button data-action="accept" class="btn btn-sm btn-success"> ng </button>'}\n    <button data-action="edit" class="btn btn-sm btn-outline"> Chnh sa</button>\n    <button data-action="cancel" class="btn btn-sm btn-danger"> Hy  xut</button>\n  `,r.appendChild(l),n.innerHTML}function fo(){const[e,t]=n.useState(!1),[r,s]=n.useState(new Map),[a,o]=n.useState([]),[i,l]=n.useState(null),[c,u]=n.useState(null),[d,h]=n.useState([]),[m,f]=n.useState(""),[p,g]=n.useState(!0),[x,b]=n.useState(null),[y,v]=n.useState(!1),[w,j]=n.useState(null),[N,S]=n.useState(null),[k,C]=n.useState(""),[_,E]=n.useState(!1),[T,P]=n.useState(!1),[A,I]=n.useState(null),[L,D]=n.useState(!1),[R,M]=n.useState(""),O=n.useRef(null),[z,F]=n.useState(!0),U=n.useRef(null),[$,H]=n.useState(10),[B,V]=n.useState(!1),q=n.useRef(null),[W,K]=n.useState([]),[G,Q]=n.useState(20),[X,Y]=n.useState(!1);const J=n.useCallback(()=>{if(X)return;if(G>=W.length)return;const e=O.current;if(!e)return;e.scrollTop<100&&G<W.length&&(Y(!0),setTimeout(()=>{Q(e=>Math.min(e+20,W.length)),Y(!1);const t=e.scrollHeight;setTimeout(()=>{e.scrollTop=e.scrollHeight-t+e.scrollTop},50)},300))},[X,G,W.length]);n.useEffect(()=>{const e=O.current;e&&z&&e.scrollTo({top:e.scrollHeight,behavior:"auto"})},[d,i,z]),n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(!e)return g(!1);try{const t=je(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null;b(n)}catch(t){console.error("Decode token error:",t)}finally{g(!1)}},[]),n.useEffect(()=>{if(!x)return;(async()=>{try{const{data:e}=await Xn.get("/messages/my-conversations"),t=Array.isArray(e)?e:[];o(t);const{data:n}=await Xn.get("/users"),r=new Map((n||[]).map(e=>[e.id||e._id||e.userId,e]));if(s(r),!i&&t.length>0){const e=t[0],n=r.get(e.partnerId);n&&(l(n),u(e.conversationKey))}}catch(e){console.error("Load conversations error:",e)}})()},[x]);const[Z,ee]=n.useState(new Map);n.useEffect(()=>{(async()=>{const e=new Set;if((a||[]).forEach(t=>{const[n]=String(t.conversationKey).split(":");n&&"null"!==n&&e.add(n)}),0===e.size)return;const t=new Map(Z);for(const n of e)if(!t.has(n))try{const e=(await Xn.get(`/jobs/${n}`)).data||{},r=e.title||e.name||"(Khng tn)",s="(Khng r cng ty)";t.set(n,{title:r,owner:s})}catch{t.set(n,{title:"(Khng tm thy)",owner:""})}ee(t)})()},[a]);const te=n.useCallback(async(e,t=!0)=>{if(e)try{const n=((await Xn.get(`/messages/thread/${e}`)).data||[]).map(uo),r=await Promise.all(n.map(async e=>{if(!ho(e.text))return e;const t=io.sanitize(e.text,{ALLOW_DATA_ATTR:!0,ADD_ATTR:["data-action","data-proposal-id","data-project-id","data-status","data-proposal-status","data-contract-id"]}),n=await mo(t,x);return{...e,finalHtml:n}}));if(r.sort((e,t)=>new Date(e.createdAt||0).getTime()-new Date(t.createdAt||0).getTime()),K(r),r.length>0&&e){const t=r[r.length-1];o(n=>{const r=[...n],s=r.findIndex(t=>t.conversationKey===e);if(s>=0){let e=t.text||"";ho(e)&&(e=e.replace(/<[^>]*>/g,"").trim(),e.length>50&&(e=e.substring(0,50)+"..."));const n=r[s].lastAt?r[s].lastAt instanceof Date?r[s].lastAt.getTime():new Date(r[s].lastAt).getTime():0;(t.createdAt?new Date(t.createdAt).getTime():0)>=n&&(r[s]={...r[s],lastMessage:e,lastAt:t.createdAt},r.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()};return n(t.lastAt)-n(e.lastAt)}))}return r})}Q(t?Math.min(20,r.length):r.length)}catch(n){console.error("Load thread error:",n)}},[x]);n.useEffect(()=>{if(!x)return;const e=localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken");if(!e)return void console.warn(" No token found, cannot connect SignalR MessageHub");const t="localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname?"https://lanserve-api-cgfghcd9bshbazbd.malaysiawest-01.azurewebsites.net":"http://localhost:5070",n=(new cs).withUrl(`${t}/hubs/message`,{accessTokenFactory:()=>e}).withAutomaticReconnect().configureLogging(gr.Information).build();return n.on("ReceiveMessage",async e=>{console.log(" [SignalR] New message received:",e);const t=uo(e);let n=t;if(ho(t.text))try{const e=io.sanitize(t.text,{ALLOW_DATA_ATTR:!0,ADD_ATTR:["data-action","data-proposal-id","data-project-id","data-status","data-proposal-status","data-contract-id"]}),r=await mo(e,x);n={...t,finalHtml:r}}catch(a){console.error("Error processing HTML message:",a)}n.conversationKey===c&&(console.log(" [SignalR] Adding message to active conversation:",n.id),K(e=>{if(e.some(e=>e.id===n.id))return console.log(" [SignalR] Message already exists, skipping"),e;const t=[...e,n];return t.sort((e,t)=>new Date(e.createdAt||0).getTime()-new Date(t.createdAt||0).getTime()),console.log(" [SignalR] Message added. Total messages:",t.length),Q(e=>{const n=Math.min(e+1,t.length);return console.log(" [SignalR] Updated displayed count:",n),n}),t}),setTimeout(()=>{z&&O.current&&(O.current.scrollTop=O.current.scrollHeight)},100),te(c,!1).then(()=>{console.log(" [SignalR] Thread reloaded after receiving message"),z&&O.current&&setTimeout(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},200)}).catch(e=>console.error("Error reloading thread:",e))),o(e=>{const t=[...e],a=n.conversationKey,o=t.findIndex(e=>e.conversationKey===a);let i=n.text||"";if(ho(i)&&(i=i.replace(/<[^>]*>/g,"").trim(),i.length>50&&(i=i.substring(0,50)+"...")),o>=0){const e=n.receiverId===x,r=a===c,s=e&&!n.isRead&&!r;t[o]={...t[o],lastMessage:i,lastAt:n.createdAt,unreadCount:s?(t[o].unreadCount||0)+1:t[o].unreadCount||0}}else{const{projectId:e}=co(a),o=n.senderId===x?n.receiverId:n.senderId;t.push({conversationKey:a,partnerId:o,lastMessage:i,lastAt:n.createdAt,unreadCount:n.receiverId!==x||n.isRead?0:1}),r.has(o)||Xn.get(`/users/${o}`).then(e=>{const t=e.data;t&&s(e=>new Map(e).set(o,t))}).catch(()=>{}),e&&"null"!==e&&!Z.has(e)&&Xn.get(`/projects/${e}`).then(t=>{const n=t.data||{},r=n.title||n.name||n.projectName||"(Khng tn)",s=n.ownerName||n.createdByName||n.owner?.fullName||"(Cha r)";ee(t=>new Map(t).set(e,{title:r,owner:s}))}).catch(()=>{})}return t.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()},r=n(e.lastAt);return n(t.lastAt)-r}),console.log(" [SignalR] Conversations sorted. First conversation:",t[0]?.conversationKey,t[0]?.lastAt),t})}),n.start().then(()=>{console.log(" Connected to SignalR MessageHub"),U.current=n}).catch(e=>{console.error(" Error connecting SignalR MessageHub:",e),console.warn(" SignalR MessageHub khng kt ni c. Tin nhn s khng t ng load real-time."),console.warn(" Vui lng restart backend  load MessageHub mi.")}),()=>{n&&n.stop().catch(e=>{console.error("Error stopping SignalR connection:",e)})}},[x,c,z,te]),n.useEffect(()=>{if(!c||!x)return K([]),void h([]);te(c,!0).then(()=>(async()=>{try{const e=encodeURIComponent(c);await Xn.post(`/messages/conversation/${e}/read-all`),K(e=>e.map(e=>e.receiverId!==x||e.isRead?e:{...e,isRead:!0})),o(e=>{const t=[...e],n=t.findIndex(e=>e.conversationKey===c);return n>=0&&(t[n]={...t[n],unreadCount:0}),t})}catch(e){console.error("Error marking messages as read:",e)}})()).catch(e=>console.error("Messages error:",e.message))},[c,x,te]);const ne=n.useMemo(()=>{if(0===W.length)return[];const e=Math.max(0,W.length-G);return W.slice(e)},[W,G]);n.useEffect(()=>{h(ne)},[ne]),n.useEffect(()=>{const e=O.current;if(!e)return;const t=async t=>{const n=t.target.closest?.("button[data-action]");if(!n||!e.contains(n))return;const r=n.closest(".proposal-card"),s=n.getAttribute("data-action"),a=r?.getAttribute("data-proposal-id"),o=r?.getAttribute("data-project-id");if(s){if("edit"===s){if(!a)return;return j(a),S(o||null),C(""),void v(!0)}if("cancel"!==s)if("accept"!==s){if("view-contract"===s){const e=n.getAttribute("data-contract-id")||r?.getAttribute("data-contract-id");if(!e)return;try{n.disabled=!0;const t=await Xn.get(`/Contracts/${e}`);I(t.data||{}),P(!0)}catch(i){console.error("View contract error:",i.message),alert("Khng ti c thng tin hp ng.")}finally{n.disabled=!1}return}}else{if(!a)return;try{n.disabled=!0,console.log("Accepting proposal:",a,"for project:",o);const e=await async function(e){const t=await Xn.get(`api/Proposals/${e}`);return Number(t?.data?.bidAmount??t?.data?.BidAmount??0)||0}(a);if(!Number.isFinite(e)||e<=0)return void alert("Gi  xut khng hp l hoc khng tm thy.");if(!x)return void alert("Khng xc nh c ngi dng hin ti.");const t=await async function(e){const t=await Xn.get(`/wallets/${e}`);return Number(t?.data?.balance??t?.data?.Balance??0)||0}(x);if(t<e){const n=(e-t).toLocaleString();return void alert(`S d v khng   ng   xut.\nThiu: ${n} `)}const r=`Withdraw for accepted proposal #${a}`;try{await Xn.post("/wallets/change-balance",{Delta:-Math.abs(e),Note:r}),console.log(`  tr ${e.toLocaleString()} t v.`)}catch(i){return console.error("Withdraw failed:",i),void alert("Khng th tr tin t v, vui lng th li sau.")}await Xn.post(`/Proposals/${a}/accept`,{projectId:o}),await te(c),alert("ng   xut thnh cng!")}catch(i){console.error("Accept proposal error:",i?.message||i),alert(i?.response?.data?.detail||i?.response?.data?.message||"Khng th chp nhn  xut ny.")}finally{n.disabled=!1}}else{if(!a)return;if(!confirm("Bn c chc mun hy  xut ny khng?"))return;try{n.disabled=!0,await Xn.post(`/Proposals/${a}/cancel`,{projectId:o}),await te(c)}catch(i){console.error("Cancel proposal error:",i.message)}finally{n.disabled=!1}}}};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)},[O,x,c]);const re=async()=>{if(!m.trim()||!i||!x)return;const e=m.trim();try{const{projectId:t}=co(c||""),n={receiverId:i.id||i._id||i.userId,text:e,projectId:t&&"null"!==t?t:null};console.log(" [Messages.jsx] Sending message:",n);const r=await Xn.post("/messages",n);console.log(" [Messages.jsx] Message sent successfully:",r.data),f("");const s=r.data;s&&c&&o(t=>{const n=[...t],r=n.findIndex(e=>e.conversationKey===c);if(r>=0){let t=e||"";ho(t)&&(t=t.replace(/<[^>]*>/g,"").trim(),t.length>50&&(t=t.substring(0,50)+"..."));const a=s.createdAt||(new Date).toISOString();n[r]={...n[r],lastMessage:t,lastAt:a},n.sort((e,t)=>{const n=e=>{if(!e)return 0;if(e instanceof Date)return e.getTime();const t=new Date(e);return isNaN(t.getTime())?0:t.getTime()};return n(t.lastAt)-n(e.lastAt)}),console.log(" [sendMessage] Updated conversation:",n[r].conversationKey,"lastMessage:",t)}return n}),await te(c,!1)}catch(t){console.error("Send message error:",t.message)}};const se=async()=>{const e=Number(k);if(w)if(!Number.isFinite(e)||e<=0)alert("Gi khng hp l");else try{E(!0);const t=await async function(e,t){const n=`api/Proposals/${e}/edit`;return(await Xn.put(n,t,{headers:{"Content-Type":"application/json"}})).data}(w,e),n=t?.proposal||{},r=n.id||n.Id||w;h(t=>[...t,{id:crypto.randomUUID(),senderId:"system",receiverId:x,text:` cp nht gi  xut #${r}  ${e.toLocaleString()}`,createdAt:(new Date).toISOString(),isRead:!0}]),v(!1),j(null),C(""),await te(c)}catch(t){alert(`Chnh sa tht bi: ${t.message}`)}finally{E(!1)}},ae=n.useMemo(()=>{const e=(a||[]).map(e=>{const t=r.get(e.partnerId)||{},[n]=String(e.conversationKey).split(":"),s=(Z.get(n)||{}).title||"ang ti...",a=t.fullName||t.email||e.partnerId;let o=null;if(e.lastAt)if(e.lastAt instanceof Date)o=e.lastAt;else{const t=new Date(e.lastAt);o=isNaN(t.getTime())?null:t}return{conversationKey:e.conversationKey,partnerId:e.partnerId,projectId:n,projectName:s,partnerName:a,lastMessage:e.lastMessage||"",lastAt:o,unreadCount:e.unreadCount||0,userObj:t}});return e.sort((e,t)=>{const n=e.lastAt?e.lastAt.getTime():0;return(t.lastAt?t.lastAt.getTime():0)-n}),e},[a,r,Z]),oe=n.useMemo(()=>ae.slice(0,$),[ae,$]);return n.useEffect(()=>{const e=()=>{if(B)return;if($>=ae.length)return;const e=q.current;if(!e)return;const t=e.scrollTop,n=e.scrollHeight;t+e.clientHeight>=n-100&&(V(!0),setTimeout(()=>{H(e=>Math.min(e+10,ae.length)),V(!1)},300))},t=q.current;if(t)return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)},[B,$,ae.length]),n.useEffect(()=>{H(10)},[a.length]),p?de.jsxs("div",{className:"p-4 flex items-center justify-center gap-3",children:[de.jsx(Ts,{}),de.jsx("span",{children:"ang ti..."})]}):de.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"lg:col-span-1 card p-4 flex flex-col",children:[de.jsx("div",{className:"font-semibold mb-3",children:"on chat"}),de.jsxs("div",{ref:q,className:"flex-1 overflow-y-auto",style:{maxHeight:"600px"},children:[oe.map(e=>de.jsxs("div",{onClick:async()=>{if(l(e.userObj),u(e.conversationKey),h([]),K([]),Q(20),e.unreadCount>0)try{const t=encodeURIComponent(e.conversationKey);await Xn.post(`/messages/conversation/${t}/read-all`),o(t=>{const n=[...t],r=n.findIndex(t=>t.conversationKey===e.conversationKey);return r>=0&&(n[r]={...n[r],unreadCount:0}),n})}catch(t){console.error("Error marking messages as read:",t)}},className:"cursor-pointer px-3 py-2.5 rounded-lg transition-colors duration-150 flex items-center gap-3 "+(c===e.conversationKey?"bg-blue-100":e.unreadCount>0?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-100"),children:[de.jsx("div",{className:"shrink-0",children:e.userObj?.avatarUrl?de.jsx("img",{src:e.userObj.avatarUrl,alt:e.partnerName,className:"w-12 h-12 rounded-full object-cover"}):de.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-semibold text-lg",children:(e.partnerName||"U")[0].toUpperCase()})}),de.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[de.jsxs("div",{className:"flex items-center justify-between gap-2",children:[de.jsx("div",{className:`truncate ${e.unreadCount>0?"font-semibold":"font-medium"} text-sm`,children:e.projectName}),e.lastAt&&de.jsx("div",{className:"text-xs text-gray-500 shrink-0",children:(()=>{const t=Date.now()-e.lastAt.getTime(),n=t/36e5;if(n<1){const e=Math.floor(t/6e4);return e<1?"Va xong":`${e} pht`}if(n<24)return e.lastAt.toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit",hour12:!1});const r=Math.floor(n/24);return 1===r?"Hm qua":r<7?`${r} ngy trc`:e.lastAt.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})})()})]}),de.jsxs("div",{className:"flex items-center justify-between gap-2",children:[de.jsx("div",{className:"truncate text-sm "+(e.unreadCount>0?"text-gray-900 font-medium":"text-gray-600"),children:e.lastMessage||"Khng c tin nhn"}),e.unreadCount>0&&de.jsx("span",{className:"bg-blue-500 text-white text-xs font-semibold px-2 py-0.5 rounded-full min-w-[20px] text-center shrink-0",children:e.unreadCount>10?"10+":e.unreadCount})]})]})]},e.conversationKey)),B&&de.jsx("div",{className:"flex items-center justify-center py-2",children:de.jsx(Ts,{size:"sm"})}),$>=ae.length&&ae.length>0&&de.jsxs("div",{className:"text-center py-2 text-slate-500 text-xs",children:[" hin th tt c ",ae.length," on chat"]})]})]}),de.jsx("div",{className:"lg:col-span-2 card p-4 flex flex-col",children:i?de.jsxs(de.Fragment,{children:[de.jsxs("div",{className:"font-semibold mb-3",children:["ang chat vi ",i.fullName||i.email]}),de.jsx("div",{className:"border rounded-lg bg-slate-50 p-4 h-[400px] flex flex-col",children:de.jsxs("div",{ref:O,onScroll:()=>{const e=O.current;if(!e)return;const t=e.scrollHeight-e.scrollTop-e.clientHeight<=40;F(t),J()},className:"flex-1 overflow-y-auto space-y-3",children:[X&&de.jsxs("div",{className:"flex items-center justify-center py-2",children:[de.jsx(Ts,{size:"sm"}),de.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"ang ti tin nhn c hn..."})]}),!X&&G>=W.length&&W.length>20&&de.jsx("div",{className:"text-center py-2 text-slate-500 text-xs",children:" hin th tt c tin nhn"}),0===d.length?de.jsx(lo,{title:"Cha c tin nhn no"}):d.map(e=>{const t=e.senderId===x,n=ho(e.text),r=!t&&!e.isRead;return de.jsx("div",{className:"max-w-[70%] px-4 py-2 rounded-2xl shadow-md border "+(t?"ml-auto border-brand-200 bg-white":r?"mr-auto border-blue-500 bg-blue-100 font-medium":"mr-auto border-slate-200 bg-white"),children:n?de.jsx("div",{dangerouslySetInnerHTML:{__html:e.finalHtml||e.text}}):e.text},e.id)})]})}),de.jsxs("div",{className:"mt-3 flex gap-2",children:[de.jsx("input",{value:m,onChange:e=>f(e.target.value),className:"input flex-1",placeholder:"Nhp tin nhn...",onKeyDown:e=>"Enter"===e.key&&re()}),de.jsx("button",{className:"btn btn-primary",onClick:re,children:"Gi"})]})]}):de.jsx(lo,{title:"Chn mt on chat  bt u"})}),y&&de.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg w-full max-w-md",children:[de.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Chnh sa gi  xut"}),de.jsx("input",{type:"number",min:"1",className:"input w-full mb-3",placeholder:"Nhp gi mi...",value:k,onChange:e=>C(e.target.value),onKeyDown:e=>"Enter"===e.key&&se()}),de.jsxs("div",{className:"flex justify-end gap-2",children:[de.jsx("button",{className:"btn btn-outline",onClick:()=>v(!1),children:"Hy"}),de.jsx("button",{className:"btn btn-primary",onClick:se,disabled:_,children:_?"ang lu...":"Lu thay i"})]})]})}),L&&de.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl shadow-xl w-full max-w-md",children:[de.jsx("h2",{className:"text-base font-semibold mb-2",children:"Hy  xut?"}),de.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'Thao tc ny s xa th  xut hin ti v to mt thng bo " hy" trong on chat.'}),de.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[de.jsx("button",{className:"btn",onClick:()=>D(!1),children:"Khng"}),de.jsx("button",{className:"btn btn-danger",onClick:async()=>{try{await Xn.post(`/Proposals/${R}/cancel`,{projectId:null}),D(!1),M(""),await te(c)}catch{alert("Hy  xut tht bi")}},children:"ng "})]})]})}),T&&de.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white text-black p-6 rounded-2xl shadow-xl w-full max-w-lg",children:[de.jsx("h2",{className:"text-base font-semibold mb-4",children:"Thng tin hp ng"}),de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{children:[de.jsx("b",{children:"M hp ng:"})," ",A?.id||A?._id]}),de.jsxs("div",{children:[de.jsx("b",{children:"Project:"})," ",A?.projectId]}),de.jsxs("div",{children:[de.jsx("b",{children:"Client:"})," ",A?.clientId]}),de.jsxs("div",{children:[de.jsx("b",{children:"Freelancer:"})," ",A?.freelancerId]}),de.jsxs("div",{children:[de.jsx("b",{children:"S tin:"})," ",Number(A?.agreedAmount||0).toLocaleString()," "]}),de.jsxs("div",{children:[de.jsx("b",{children:"Trng thi:"})," ",A?.status]}),de.jsxs("div",{children:[de.jsx("b",{children:"Ngy to:"})," ",A?.createdAt?new Date(A.createdAt).toLocaleString("vi-VN"):""]})]}),de.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[x&&A?.clientId===x&&"Active"===A?.status&&de.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition disabled:opacity-60",disabled:e,onClick:async()=>{if(confirm("Xc nhn hon thnh d n v chuyn tin cho freelancer?"))try{t(!0);const e=Number(A?.agreedAmount||0),n=A?.freelancerId,r=A?.id||A?._id;if(!n||!Number.isFinite(e)||e<=0)return void alert("Thiu thng tin  chuyn tin.");if("Active"!==A?.status)return void alert("Hp ng khng cn  trng thi Active.");await async function(e,t,n){const r=Number(t)||0;if(r<=0)throw new Error("Invalid payout amount");const s={toUserId:e,amount:Math.abs(r),contractId:n,note:`Payout for contract #${n}`};return(await Xn.post("/wallets/payout",s)).data}(n,e,r);try{await Xn.put(`/Contracts/${r}`,{...A,status:"Completed"})}catch{await Xn.put(`/Contracts/${r}`,{status:"Completed"})}I(e=>({...e,status:"Completed"})),h(t=>[...t,{id:crypto.randomUUID(),senderId:"system",receiverId:x,text:` Hp ng #${r}  hon thnh.  chuyn ${e.toLocaleString()} cho freelancer.`,createdAt:(new Date).toISOString(),isRead:!0}]),alert(" xc nhn hon thnh v chuyn tin cho freelancer."),P(!1)}catch(e){console.error("Payout/Complete error:",e),alert(e?.response?.data?.detail||e?.response?.data?.message||e?.message||"Khng th hon tt thanh ton.")}finally{t(!1)}},children:e?"ang chuyn...":" Xc nhn hon thnh"}),de.jsx("button",{className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition",onClick:()=>P(!1),children:"ng"})]})]})})]})}function po(){const e=r(),[t,s]=n.useState([]),[a,o]=n.useState(!0),{t:i}=ms();n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e),n=t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId;Cs.get(`/jobs/company/${n}`).then(e=>s(e.data??[])).catch(e=>console.error(e)).finally(()=>o(!1))}catch{o(!1)}else o(!1)},[]);const l=()=>window.location.href="/post-project";return a?de.jsx("p",{className:"p-4",children:i("MyProjects.Loading")}):t.length?de.jsxs("div",{className:"container-ld py-8 space-y-6",children:[de.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[de.jsx("h1",{className:"text-2xl font-semibold",children:"D n ca ti"}),de.jsx("div",{className:"flex gap-2",children:de.jsx(ye,{onClick:l,children:"+ To d n"})})]}),de.jsx("div",{className:"grid md:grid-cols-2 xl:grid-cols-3 gap-5",children:t.map(t=>{const n=t.id||t._id;return de.jsx("div",{className:"card hover:shadow-lg transition",children:de.jsxs("div",{className:"card-body",children:[de.jsxs("div",{className:"flex items-start justify-between gap-4",children:[de.jsxs("div",{className:"min-w-0",children:[de.jsx("div",{className:"text-lg font-semibold truncate",children:t.title}),de.jsx("div",{className:"mt-1 text-sm text-slate-600 line-clamp-2",children:t.description})]}),de.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs border "+(r=t.status,"Open"===r?"text-green-600 bg-green-50 border-green-200":"InProgress"===r?"text-blue-600 bg-blue-50 border-blue-200":"Completed"===r?"text-gray-600 bg-gray-50 border-gray-200":"text-red-600 bg-red-50 border-red-200"),children:t.status})]}),de.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[de.jsxs("div",{className:"text-xs text-slate-500",children:["ng:"," ",t.createdAt?new Date(t.createdAt).toLocaleString("vi-VN"):""]}),de.jsxs("div",{className:"text-brand-700 font-semibold",children:[t.budgetAmount?.toLocaleString("vi-VN")??""," "]})]}),de.jsx("div",{className:"mt-4 flex gap-2",children:de.jsx(ye,{variant:"outline",onClick:()=>e(`/projects/${n}`),children:"Xem chi tit"})})]})},n);var r})})]}):de.jsx("div",{className:"container-ld py-12",children:de.jsxs("div",{className:"card text-center p-10",children:[de.jsx("div",{className:"text-2xl font-semibold",children:i("MyProjects.NoProjects")}),de.jsx("p",{className:"text-slate-600 mt-2",children:i("MyProjects.NoProjectsDesc")}),de.jsx(ye,{className:"mt-5",onClick:l,children:i("MyProjects.CreateProject")})]})})}function go(){return de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"card overflow-hidden",children:[de.jsx("div",{className:"h-32 bg-[linear-gradient(45deg,#1d4ed8,#f97316)]"}),de.jsxs("div",{className:"p-5 flex items-center justify-between",children:[de.jsx("div",{className:"text-xl font-semibold",children:"Nguyn Minh Anh"}),de.jsx("button",{className:"btn btn-outline",children:"Nhn tin"})]}),de.jsx("div",{className:"px-5 border-t",children:de.jsx("nav",{className:"flex gap-2 overflow-x-auto",children:[{to:"intro",label:"Gii thiu"},{to:"services",label:"Dch v"},{to:"portfolio",label:"Portfolio"},{to:"reviews",label:"nh gi"}].map(e=>de.jsx(a,{to:e.to,className:({isActive:e})=>"tab "+(e?"tab-active":""),children:e.label},e.to))})})]}),de.jsx("div",{className:"mt-6",children:de.jsx(l,{})})]})}function xo({label:e,value:t}){return de.jsxs("div",{children:[de.jsxs("div",{className:"flex justify-between text-sm",children:[de.jsx("span",{children:e}),de.jsxs("span",{children:[t,"%"]})]}),de.jsx("div",{className:"mt-1 h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:de.jsx("div",{className:"h-full bg-brand-600",style:{width:`${t}%`}})})]})}function bo(){return de.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[de.jsxs("aside",{className:"space-y-6",children:[de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold",children:"Mc gi"}),de.jsx("div",{className:"mt-2 text-2xl text-brand-700 font-semibold",children:"500.000 /gi"}),de.jsx("div",{className:"text-xs text-slate-500",children:"Gi c th m phn"})]}),de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-3",children:"Ngn ng"}),de.jsxs("div",{className:"flex gap-2 flex-wrap",children:[de.jsx("span",{className:"badge",children:"Ting Vit"}),de.jsx("span",{className:"badge",children:"English"}),de.jsx("span",{className:"badge",children:""})]})]}),de.jsxs("div",{className:"card p-5 space-y-3",children:[de.jsx("div",{className:"font-semibold",children:"K nng"}),de.jsx(xo,{label:"Figma",value:95}),de.jsx(xo,{label:"Sketch",value:90}),de.jsx(xo,{label:"Adobe XD",value:85}),de.jsx(xo,{label:"HTML/CSS",value:75})]})]}),de.jsx("main",{className:"lg:col-span-2 space-y-4",children:de.jsxs("div",{className:"card p-5",children:[de.jsx("div",{className:"font-semibold mb-2",children:"Gii thiu"}),de.jsx("p",{className:"text-sm text-slate-700",children:"Senior UI/UX Designer vi 6+ nm kinh nghim. u tin tri nghim ngi dng, quy trnh bi bn."})]})})]})}const yo=[{id:1,name:"UI/UX Web App",price:15e6,days:"7-10 ngy",edits:"2 ln chnh sa"},{id:2,name:"Mobile App Design",price:12e6,days:"5-7 ngy",edits:"2-3 ln chnh sa"},{id:3,name:"Design System Creation",price:2e7,days:"10-14 ngy",edits:"5 ln chnh sa"}],vo=[{id:1,title:"Fintech Mobile App",views:1250,likes:90},{id:2,title:"E-commerce Dashboard",views:980,likes:67},{id:3,title:"SaaS Landing Page",views:756,likes:42},{id:4,title:"Design System",views:2100,likes:156}],wo=[{id:1,author:"Phm Vn c",role:"PM - Fintech Startup",stars:5,time:"2 tun trc",content:"Rt chuyn nghip, UI thn thin."},{id:2,author:"Nguyn Th Mai",role:"Marketing Lead",stars:5,time:"1 thng trc",content:"Giao ng hn, trao i r rng."},{id:3,author:"Trn Minh Tun",role:"CEO - Dashboard Co",stars:4,time:"2 thng trc",content:"Cht lng cao, cn tinh chnh nh."}];function jo({name:e,price:t,days:n,edits:r}){return de.jsx("div",{className:"card",children:de.jsxs("div",{className:"card-body space-y-2",children:[de.jsx("div",{className:"font-semibold",children:e}),de.jsxs("div",{className:"text-sm text-slate-500",children:[n,"  ",r]}),de.jsxs("div",{className:"text-right text-brand-700 font-semibold text-lg",children:[t.toLocaleString("vi-VN")," "]}),de.jsx(ye,{className:"w-full",children:"t dch v"})]})})}function No(){return de.jsx("div",{className:"grid md:grid-cols-2 gap-5",children:yo.map(e=>de.jsx(jo,{...e},e.id))})}function So({title:e,views:t,likes:n}){return de.jsxs("div",{className:"card overflow-hidden",children:[de.jsx("div",{className:"h-40 bg-slate-200"}),de.jsxs("div",{className:"card-body",children:[de.jsx("div",{className:"font-medium",children:e}),de.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[" ",t,"   ",n]})]})]})}function ko(){return de.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-5",children:vo.map(e=>de.jsx(So,{...e},e.id))})}function Co({author:e,role:t,stars:n,time:r,content:s}){return de.jsx("div",{className:"card",children:de.jsxs("div",{className:"card-body",children:[de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("div",{className:"font-medium",children:e}),de.jsxs("div",{className:"text-sm text-slate-500",children:[t,"  ",r]})]}),de.jsx("div",{children:"".repeat(n)})]}),de.jsx("p",{className:"mt-3 text-slate-700 text-sm",children:s})]})})}function _o(){return de.jsx("div",{className:"space-y-4",children:wo.map(e=>de.jsx(Co,{...e},e.id))})}const Eo=n.createContext(null);function To({clientId:t,nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a,children:o}){const i=function(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}=e,[a,o]=n.useState(!1),i=n.useRef(r);i.current=r;const l=n.useRef(s);return l.current=s,n.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;o(!0),null===(e=i.current)||void 0===e||e.call(i)},e.onerror=()=>{var e;o(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:r,onScriptLoadSuccess:s,onScriptLoadError:a}),l=n.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return e.createElement(Eo.Provider,{value:l},o)}function Po(e){var t;return null!==(t=null==e?void 0:e.clientId)&&void 0!==t?t:null==e?void 0:e.client_id}const Ao={large:40,medium:32,small:20};function Io({onSuccess:t,onError:r,useOneTap:s,promptMomentNotification:a,type:o="standard",theme:i="outline",size:l="large",text:c,shape:u,logo_alignment:d,width:h,locale:m,click_listener:f,containerProps:p,...g}){const x=n.useRef(null),{clientId:b,scriptLoadedSuccessfully:y}=function(){const e=n.useContext(Eo);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),v=n.useRef(t);v.current=t;const w=n.useRef(r);w.current=r;const j=n.useRef(a);return j.current=a,n.useEffect(()=>{var e,t,n,r,a,p,N,S,k;if(y)return null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.initialize({client_id:b,callback:e=>{var t;if(!(null==e?void 0:e.credential))return null===(t=w.current)||void 0===t?void 0:t.call(w);const{credential:n,select_by:r}=e;v.current({credential:n,clientId:Po(e),select_by:r})},...g}),null===(p=null===(a=null===(r=null===window||void 0===window?void 0:window.google)||void 0===r?void 0:r.accounts)||void 0===a?void 0:a.id)||void 0===p||p.renderButton(x.current,{type:o,theme:i,size:l,text:c,shape:u,logo_alignment:d,width:h,locale:m,click_listener:f}),s&&(null===(k=null===(S=null===(N=null===window||void 0===window?void 0:window.google)||void 0===N?void 0:N.accounts)||void 0===S?void 0:S.id)||void 0===k||k.prompt(j.current)),()=>{var e,t,n;s&&(null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel())}},[b,y,s,o,i,l,c,u,d,h,m]),e.createElement("div",{...p,ref:x,style:{height:Ao[l],...null==p?void 0:p.style}})}function Lo(){const e=r(),{t:t}=ms(),[a,o]=n.useState({email:"",password:"",rememberMe:!1}),[i,l]=n.useState(""),[c,u]=n.useState(!1),[d,h]=n.useState(!1),[m,f]=n.useState(1),[p,g]=n.useState(""),[x,b]=n.useState(""),[y,v]=n.useState("");return de.jsxs("div",{className:"container-ld py-12 grid md:grid-cols-2 gap-10",children:[de.jsxs("div",{className:"hidden md:block",children:[de.jsx("div",{className:"h-80 rounded-2xl bg-gradient-to-br from-blue-200 to-orange-200"}),de.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:t("Auth.WelcomeBack")}),de.jsx("p",{className:"text-slate-600 mt-2",children:t("Auth.LoginDescription")})]}),de.jsx("div",{className:"card",children:de.jsxs("form",{className:"card-body space-y-4",onSubmit:async n=>{if(n.preventDefault(),!a.email||!a.password)return l(t("Common.PleaseEnterInfo"));l(""),u(!0);try{const n=await er("/auth/login",{email:a.email,password:a.password,rememberMe:a.rememberMe}),r=n?.accessToken||n?.token;if(!r)throw console.error("Login response:",n),new Error(t("Auth.NoTokenFromServer"));a.rememberMe?localStorage.setItem("token",r):sessionStorage.setItem("token",r);const s=je(r);console.log("=== DECODED JWT ==="),console.log(JSON.stringify(s,null,2));const o=s.sub||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier".toLowerCase()]||s.userId||null,i=s.email||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress".toLowerCase()]||a.email,l={id:o,email:i,role:s["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||s.role||s.role?.toString()||"User"};a.rememberMe?localStorage.setItem("user",JSON.stringify(l)):sessionStorage.setItem("user",JSON.stringify(l)),console.log("UserData saved:",l);const c=ds.getState();await c.reset(),await c.fetchFromServer(),await c.initConnection(),e("/",{replace:!0})}catch(r){console.error("Login error:",r);const e=r?.response?.data?.message||r?.message||t("Auth.LoginFailed");l(e)}finally{u(!1)}},children:[de.jsx("h1",{className:"text-2xl font-semibold",children:t("Auth.Login")}),i&&de.jsx("div",{className:"text-sm text-red-600",children:i}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("Auth.Email")}),de.jsx(ws,{type:"email",placeholder:"you@example.com",value:a.email,onChange:e=>o({...a,email:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:t("Auth.Password")}),de.jsx(ws,{type:"password",placeholder:"",value:a.password,onChange:e=>o({...a,password:e.target.value})})]}),de.jsxs("div",{className:"flex items-center justify-between text-sm",children:[de.jsxs("label",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"checkbox",checked:a.rememberMe,onChange:e=>o({...a,rememberMe:e.target.checked})}),t("Auth.RememberMe")]}),de.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-brand-700 hover:underline",children:t("Auth.ForgotPassword")})]}),de.jsx(ye,{type:"submit",className:"w-full",disabled:c,children:t(c?"Auth.LoggingIn":"Auth.Login")}),de.jsx("div",{className:"flex justify-center mt-4",children:de.jsx(Io,{onSuccess:async n=>{if(n?.credential)try{const r=n.credential,s=await er("/auth/google",{idToken:r}),a=s?.accessToken||s?.token;if(!a)throw console.error("Google login response:",s),new Error("Google login failed: No token");localStorage.setItem("token",a);const o=je(a);console.log("Decoded JWT (Google):",o);const i=o.sub||o["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||o.userId,l=o["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||o.email,c={id:i,email:l,role:o["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||o["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||o.role||o.role||"User"};localStorage.setItem("user",JSON.stringify(c));const u=ds.getState();await u.reset(),await u.fetchFromServer(),await u.initConnection(),console.log("UserData saved (Google):",c),qs.success(t("Auth.LoginSuccess")),e("/",{replace:!0})}catch(r){console.error("Google login error:",r),qs.error(r?.message||r?.response?.data?.message||t("Auth.LoginFailed"))}else qs.error(t("Auth.NoTokenFromGoogle"))},onError:e=>{console.warn("Google Login error (may be due to origin not configured):",e),"popup_closed_by_user"!==e?.error&&qs.error(t("Auth.GoogleLoginUnavailable"))}})}),de.jsxs("div",{className:"text-sm text-center text-slate-600",children:[t("Auth.NoAccount")," ",de.jsx(s,{to:"/register",className:"text-brand-700 hover:underline",children:t("Auth.Register")})]})]})}),d&&de.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg w-full max-w-md space-y-4",children:[de.jsx("h2",{className:"text-xl font-semibold text-center",children:t(1===m?"Auth.ForgotPasswordTitle":"Auth.ResetPasswordTitle")}),1===m?de.jsxs(de.Fragment,{children:[de.jsx("p",{className:"text-sm text-slate-600",children:t("Auth.ForgotPasswordDescription")}),de.jsx(ws,{placeholder:"you@example.com",value:p,onChange:e=>g(e.target.value)}),de.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[de.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:t("Common.Cancel")}),de.jsx(ye,{onClick:async()=>{if(!p)return qs.error(t("Common.PleaseEnterInfo"));try{await er("/auth/forgot-password",{email:p}),qs.success(t("Auth.SendCodeSuccess")),f(2)}catch(e){qs.error(e?.message||e?.response?.data?.message||t("Auth.CannotSendCode"))}},children:t("Auth.SendCode")})]})]}):de.jsxs(de.Fragment,{children:[de.jsx(ws,{placeholder:t("Auth.VerificationCode"),value:x,onChange:e=>b(e.target.value)}),de.jsx(ws,{type:"password",placeholder:t("Auth.NewPassword"),value:y,onChange:e=>v(e.target.value)}),de.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[de.jsx(ye,{variant:"outline",onClick:()=>h(!1),children:t("Common.Cancel")}),de.jsx(ye,{onClick:async()=>{if(!x||!y)return qs.error(t("Common.PleaseEnterFullInfo"));try{await er("/auth/reset-password",{email:p,code:x,newPassword:y}),qs.success(t("Auth.ResetPasswordSuccess")),h(!1),f(1),g(""),b(""),v("")}catch(e){qs.error(e.response?.data?.message||"t li mt khu tht bi.")}},children:t("Auth.ChangePassword")})]})]})]})})]})}function Do(){const e=r(),[t,a]=n.useState({name:"",email:"",password:"",confirm:"",role:"Candidate"}),[o,i]=n.useState("");return de.jsxs("div",{className:"container-ld py-12 grid md:grid-cols-2 gap-10",children:[de.jsxs("div",{className:"hidden md:block order-2 md:order-1",children:[de.jsx("div",{className:"h-80 rounded-2xl bg-gradient-to-br from-orange-200 to-blue-200"}),de.jsx("h2",{className:"mt-6 text-2xl font-semibold",children:"To ti khon LanServe"}),de.jsx("p",{className:"text-slate-600 mt-2",children:"Bt u ng d n, nhn job v xy h s uy tn."})]}),de.jsx("div",{className:"card order-1 md:order-2",children:de.jsxs("form",{className:"card-body space-y-4",onSubmit:async n=>{if(n.preventDefault(),i(""),!(t.name&&t.email&&t.password&&t.confirm))return i("Vui lng nhp  thng tin.");if(t.password!==t.confirm)return i("Mt khu xc nhn khng khp.");try{const n=await er("/auth/register",{fullName:t.name,email:t.email,password:t.password,role:"Candidate"===t.role?"Candidate":"Company"}),r=n?.accessToken||n?.token;if(!r)throw console.error("Register response:",n),new Error("Khng nhn c token t server");localStorage.setItem("token",r);const s=je(r);console.log("Decoded JWT (Register):",s);const a=s.sub||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||s.userId,o=s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||s.email||t.email,i={id:a,email:o,role:s["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||s["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||s.role||s.role||"User"};localStorage.setItem("user",JSON.stringify(i)),console.log("UserData saved (Register):",i),qs.success("ng k thnh cng!"),e("/account/profile")}catch(r){console.error("Register failed:",r),i(r?.message||r?.response?.data?.message||"ng k tht bi.")}},children:[de.jsx("h1",{className:"text-2xl font-semibold",children:"ng k"}),o&&de.jsx("div",{className:"text-sm text-red-600",children:o}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"H v tn"}),de.jsx(ws,{placeholder:"Nguyn Vn A",value:t.name,onChange:e=>a({...t,name:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Email"}),de.jsx(ws,{type:"email",placeholder:"you@example.com",value:t.email,onChange:e=>a({...t,email:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Mt khu"}),de.jsx(ws,{type:"password",placeholder:"",value:t.password,onChange:e=>a({...t,password:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Xc nhn mt khu"}),de.jsx(ws,{type:"password",placeholder:"",value:t.confirm,onChange:e=>a({...t,confirm:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"text-sm",children:"Bn l"}),de.jsxs("select",{className:"input w-full",value:t.role,onChange:e=>a({...t,role:e.target.value}),children:[de.jsx("option",{value:"Candidate",children:"ng vin (Candidate)"}),de.jsx("option",{value:"Company",children:"Cng ty (Company)"})]})]}),de.jsx(ye,{type:"submit",className:"w-full",children:"To ti khon"}),de.jsx("div",{className:"text-center text-slate-500",children:"Hoc"}),de.jsx("div",{className:"flex justify-center",children:de.jsx(Io,{onSuccess:async t=>{try{const n=t.credential,r=await er("/auth/google",{idToken:n}),s=r?.accessToken||r?.token;if(!s)throw console.error("Google login response:",r),new Error("Google login failed: No token");localStorage.setItem("token",s);const a=je(s);console.log("Decoded JWT (Google Register):",a);const o=a.sub||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||a.userId,i=a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"]||a.email,l={id:o,email:i,role:a["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]||a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role"]||a.role||a.role||"User"};localStorage.setItem("user",JSON.stringify(l)),console.log("UserData saved (Google Register):",l),qs.success("ng nhp bng Google thnh cng!"),e("/account/profile")}catch(n){console.error("Google login failed:",n),qs.error(n?.message||n?.response?.data?.message||"ng nhp Google tht bi.")}},onError:()=>qs.error("Login Google tht bi")})}),de.jsxs("div",{className:"text-sm text-center text-slate-600",children:[" c ti khon?"," ",de.jsx(s,{to:"/login",className:"text-brand-700 hover:underline",children:"ng nhp"})]})]})})]})}function Ro({label:e,value:t}){const n="string"==typeof t?t:(()=>{try{return JSON.stringify(t,null,2)}catch{return String(t)}})();return de.jsxs("div",{className:"space-y-1",children:[de.jsx("div",{className:"text-xs font-medium text-gray-600",children:e}),de.jsx("pre",{className:"text-xs bg-gray-50 rounded p-3 overflow-auto max-h-72",children:n})]})}function Mo(){const[e,t]=n.useState("/api/Categories"),[r,s]=n.useState("GET"),[a,o]=n.useState("{\n  \n}"),[i,l]=n.useState(!1),[c,u]=n.useState(null),[d,h]=n.useState(null),[m,f]=n.useState(""),p=n.useMemo(()=>{if("GET"!==r&&"DELETE"!==r)try{const e=a.trim();if(!e)return;return JSON.parse(e)}catch{return"__INVALID_JSON__"}},[a,r]),g=async()=>{if(l(!0),f(""),u(null),h(null),"__INVALID_JSON__"===p)return l(!1),void f("Body JSON khng hp l.");const t=performance.now();try{const n=await Xn.request({url:e,method:r,data:p,transformResponse:[e=>{try{return JSON.parse(e)}catch{return e}}],validateStatus:()=>!0}),s=Math.round(performance.now()-t);u({status:n.status,statusText:n.statusText,durationMs:s,headers:n.headers,url:n.config?.baseURL?`${n.config.baseURL}${n.config.url}`:n.config?.url,method:n.config?.method?.toUpperCase()}),h(n.data)}catch(n){const s=Math.round(performance.now()-t);u({status:null,statusText:"Network Error",durationMs:s,headers:{},url:e,method:r}),f(JSON.stringify(n?.toJSON?.()||{message:n?.message||"Network Error",code:n?.code},null,2))}finally{l(!1)}};return n.useEffect(()=>{g()},[]),de.jsxs("div",{className:"p-6 space-y-6",children:[de.jsx("h1",{className:"text-2xl font-semibold",children:"DB Test / API Echo"}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-start",children:[de.jsxs("div",{className:"md:col-span-2 flex items-center gap-2",children:[de.jsx("select",{value:r,onChange:e=>s(e.target.value),className:"border rounded-lg px-2 py-2 text-sm",children:["GET","POST","PUT","PATCH","DELETE"].map(e=>de.jsx("option",{value:e,children:e},e))}),de.jsx("input",{value:e,onChange:e=>t(e.target.value),placeholder:"/api/users",className:"border rounded-lg px-3 py-2 text-sm w-full"}),de.jsx("button",{onClick:g,disabled:i,className:"px-3 py-2 text-sm rounded-lg shadow border bg-white hover:bg-gray-50 disabled:opacity-60",children:i?"ang gi...":"Gi"}),de.jsx("button",{onClick:async()=>{const e=["/api/users","/api/userprofiles","/api/categories","/api/skills","/api/projects","/api/projectskills","/api/proposals","/api/contracts","/api/messages","/api/notifications","/api/reviews","/api/payments"];for(const n of e)try{const e=await Xn.get(n,{validateStatus:()=>!0});if(e.status>=200&&e.status<300)return t(n),u({status:e.status,statusText:e.statusText,durationMs:null,headers:e.headers,url:e.config?.baseURL?`${e.config.baseURL}${e.config.url}`:e.config?.url,method:"GET"}),h(e.data),void f("")}catch{}f("Auto-detect: khng tm thy endpoint no tr 200.")},className:"px-3 py-2 text-sm rounded-lg shadow border bg-white hover:bg-gray-50",children:"Auto-detect"})]}),de.jsx("div",{className:"md:col-span-1",children:("POST"===r||"PUT"===r||"PATCH"===r)&&de.jsxs("div",{className:"space-y-1",children:[de.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Body (JSON)"}),de.jsx("textarea",{value:a,onChange:e=>o(e.target.value),spellCheck:!1,rows:6,className:"w-full border rounded-lg p-2 text-xs font-mono",placeholder:'{"key": "value"}'}),"__INVALID_JSON__"===p&&de.jsx("div",{className:"text-xs text-red-600",children:"JSON khng hp l"})]})})]}),c&&de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[de.jsxs("div",{className:"space-y-2",children:[de.jsxs("div",{className:"text-sm",children:[de.jsx("b",{children:"URL:"})," ",c.url]}),de.jsxs("div",{className:"text-sm",children:[de.jsx("b",{children:"Method:"})," ",c.method," |",de.jsx("b",{children:"Status:"})," ",c.status??""," ",c.statusText&&`(${c.statusText})`," |",null!=c.durationMs&&de.jsxs(de.Fragment,{children:[de.jsx("b",{children:"Time:"})," ",c.durationMs," ms"]})]}),de.jsx(Ro,{label:"Headers",value:c.headers})]}),de.jsxs("div",{className:"space-y-2",children:[de.jsx(Ro,{label:"Response data",value:d}),m&&de.jsx(Ro,{label:"Error (raw)",value:m})]})]}),!c&&m&&de.jsx("div",{className:"text-red-600 text-sm whitespace-pre-wrap",children:m})]})}function Oo(){const[e,t]=n.useState([]),[s,a]=n.useState([]),[o,i]=n.useState([]),[l,c]=n.useState(""),[u,d]=n.useState(""),[h,m]=n.useState(!1),[f,p]=n.useState(10),[g,x]=n.useState(!1),b=n.useRef(null),y=r(),v=localStorage.getItem("token")||sessionStorage.getItem("token");let w=null;if(v){const e=je(v);w=e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId}n.useEffect(()=>{j()},[]);const j=async()=>{try{m(!0);const e=await Xn.get("/users");t(e.data);const n=await Xn.get("/userprofiles/all").catch(()=>null);n?.data&&a(n.data);const r=await Xn.get("/skills");i(r.data)}catch(e){console.error("Fetch data error:",e)}finally{m(!1)}},N=e=>e?.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")||"",S=n.useMemo(()=>e.filter(e=>{const t=N(e.fullName).includes(N(l)),n=s.find(t=>t.userId===e.id);return u?t&&n?.skillIds?.includes(u):t}),[e,s,l,u]);n.useEffect(()=>{p(10)},[l,u]);const k=n.useMemo(()=>S.slice(0,f),[S,f]);return n.useEffect(()=>{const e=()=>{if(g)return;if(f>=S.length)return;const e=window.scrollY||document.documentElement.scrollTop,t=document.documentElement.scrollHeight;e+window.innerHeight>=t-200&&(x(!0),setTimeout(()=>{p(e=>Math.min(e+10,S.length)),x(!1)},300))};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[g,f,S.length]),de.jsxs("div",{className:"container-ld py-10",children:[de.jsx("h1",{className:"text-2xl font-semibold mb-4",children:" Tm kim ngi dng"}),de.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[de.jsx("input",{type:"text",className:"input flex-1",placeholder:"Nhp tn ngi dng...",value:l,onChange:e=>c(e.target.value)}),de.jsxs("select",{className:"select flex-1",value:u,onChange:e=>d(e.target.value),children:[de.jsx("option",{value:"",children:"-- Tt c k nng --"}),o.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]})]}),h?de.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[de.jsx(Ts,{}),de.jsx("span",{children:"ang ti..."})]}):de.jsxs("div",{className:"grid gap-4",ref:b,children:[k.map(e=>de.jsxs("div",{className:"card p-4 flex items-center justify-between border",children:[de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:e.fullName}),de.jsx("div",{className:"text-sm text-slate-500",children:e.email}),de.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:s.find(t=>t.userId===e.id)?.skillIds?.map(e=>{const t=o.find(t=>t.id===e);return t&&de.jsx("span",{className:"badge",children:t.name},e)})})]}),de.jsx("button",{className:"btn btn-outline",onClick:()=>{e.id===w?y("/account/profile"):y(`/profile/${e.id}`)},children:"Xem h s"})]},e.id)),g&&de.jsx("div",{className:"flex items-center justify-center py-4",children:de.jsx(Ts,{size:"md"})}),!h&&f>=S.length&&S.length>0&&de.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",S.length," ngi dng"]})]}),!h&&0===S.length&&de.jsx("p",{className:"text-slate-500 mt-4",children:"Hy ng nhp  xem danh sch ngi dng."})]})}function zo({open:e,onClose:t,userId:r,onSuccess:s}){const[a,o]=n.useState(1e5),[i,l]=n.useState(""),[c,u]=n.useState(!1);if(!e)return null;return de.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[de.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:t}),de.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!r)return alert("Thiu userId");const t=Number(a);if(!t||t<=0)return alert("S tin khng hp l");try{u(!0);const e=await Xn.post("/payments/topup",{userId:r,amount:t,orderInfo:i||`Topup ${t} VND`}),n=e.data?.paymentUrl;if(!n)throw new Error("paymentUrl rng");s?.(t),window.location.href=n}catch(n){console.error(n),alert(n?.response?.data||n.message||"To giao dch tht bi")}finally{u(!1)}},className:"relative bg-white rounded-2xl shadow-xl w-full max-w-md p-5",children:[de.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Np tin vo v"}),de.jsx("label",{className:"block text-sm mb-1",children:"S tin (VND)"}),de.jsx("input",{type:"number",min:1e4,step:1e3,className:"w-full border rounded-lg px-3 py-2 mb-3",value:a,onChange:e=>o(e.target.value),placeholder:"Nhp s tin (VND)",required:!0}),de.jsx("label",{className:"block text-sm mb-1",children:"Ghi ch (tu chn)"}),de.jsx("input",{type:"text",className:"w-full border rounded-lg px-3 py-2 mb-4",value:i,onChange:e=>l(e.target.value),placeholder:"V d: Np v thng 10"}),de.jsxs("div",{className:"flex items-center justify-end gap-2",children:[de.jsx(ye,{type:"button",onClick:t,variant:"secondary",children:"Hu"}),de.jsx(ye,{type:"submit",disabled:c,children:c?"ang to...":"Np tin"})]})]})]})}function Fo({orderId:e,onClose:t}){return de.jsxs("div",{className:"mb-4 rounded-xl border border-emerald-200 bg-emerald-50 text-emerald-800 px-4 py-3 flex items-start justify-between",children:[de.jsxs("div",{children:[de.jsx("div",{className:"font-semibold",children:"Np tin thnh cng"}),e&&de.jsxs("div",{className:"text-sm",children:["M giao dch: ",de.jsx("b",{children:e})]})]}),de.jsx("button",{onClick:t,className:"text-emerald-700 hover:underline",children:"ng"})]})}function Uo(){const e=localStorage.getItem("token")||sessionStorage.getItem("token"),t=n.useMemo(()=>{if(!e)return null;try{const t=je(e);return t.sub||t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||t.userId||null}catch{return null}},[e]),{balance:r,fetchBalance:s,loading:a,txns:o,fetchTopups:i,txLoading:l}=ar(),[c,u]=n.useState(!1),[d,h]=n.useState(null),[m,f]=n.useState(!0);n.useEffect(()=>{t&&(s(t),i(t,20))},[t,s,i]),n.useEffect(()=>{const e=sessionStorage.getItem("wallet_topup_success");if(e){try{const t=JSON.parse(e);t?.ok&&h({orderId:t.orderId})}catch{}sessionStorage.removeItem("wallet_topup_success")}},[]);const p=n.useMemo(()=>{const e=[...o];return e.sort((e,t)=>{const n=new Date(e.createdAt),r=new Date(t.createdAt);return m?r-n:n-r}),e},[o,m]),g=e=>` ${Number(e||0).toLocaleString("vi-VN")}`,x=e=>{if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleString("vi-VN")};return de.jsxs("div",{className:"container-ld py-6",children:[d&&de.jsx(Fo,{orderId:d.orderId,onClose:()=>h(null)}),de.jsx("h1",{className:"text-2xl font-bold mb-4",children:"V ca ti"}),de.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[de.jsxs("div",{className:"rounded-2xl border p-5 bg-white shadow-sm",children:[de.jsx("div",{className:"text-slate-500 text-sm",children:"S d kh dng"}),de.jsx("div",{className:"text-3xl font-semibold mt-1",children:a?"...":g(r)}),de.jsx("div",{className:"mt-4 flex gap-2",children:de.jsx(ye,{onClick:()=>u(!0),children:"Np tin"})})]}),de.jsxs("div",{className:"rounded-2xl border p-5 bg-white shadow-sm",children:[de.jsx("div",{className:"text-slate-600",children:"Gi "}),de.jsxs("ul",{className:"list-disc pl-5 text-sm text-slate-600 mt-2",children:[de.jsx("li",{children:"Nhn Np tin  i n cng thanh ton VNPAY."}),de.jsx("li",{children:"Sau khi thanh ton, h thng t ng cng tin vo v."})]})]})]}),de.jsxs("div",{className:"mt-6 rounded-2xl border bg-white shadow-sm",children:[de.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[de.jsx("h2",{className:"font-semibold",children:"Lch s giao dch"}),de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("span",{className:"text-sm text-slate-500",children:"Sp xp:"}),de.jsx(ye,{variant:"secondary",onClick:()=>f(e=>!e),title:"o th t ngy",children:m?"Mi  C":"C  Mi"})]})]}),de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"min-w-full text-sm",children:[de.jsx("thead",{className:"bg-slate-50 text-slate-600",children:de.jsxs("tr",{children:[de.jsx("th",{className:"text-left px-4 py-2 w-[180px]",children:"Thi gian"}),de.jsx("th",{className:"text-left px-4 py-2",children:"Loi"}),de.jsx("th",{className:"text-right px-4 py-2",children:"S tin"}),de.jsx("th",{className:"text-right px-4 py-2",children:"S d sau"}),de.jsx("th",{className:"text-left px-4 py-2",children:"Ghi ch"})]})}),de.jsx("tbody",{children:l?de.jsx("tr",{children:de.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:"ang ti giao dch..."})}):0===p.length?de.jsx("tr",{children:de.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-slate-500",children:"Cha c giao dch"})}):p.map(e=>de.jsxs("tr",{children:[de.jsx("td",{className:"px-4 py-2",children:x(e.createdAt)}),de.jsx("td",{className:"px-4 py-2",children:de.jsx("span",{className:"inline-flex px-2 py-1 rounded-full text-xs "+("TopUp"===e.type?"bg-emerald-50 text-emerald-700 border border-emerald-200":"Withdraw"===e.type?"bg-amber-50 text-amber-700 border border-amber-200":"bg-slate-50 text-slate-700 border border-slate-200"),children:e.type||"-"})}),de.jsx("td",{className:"px-4 py-2 text-right font-medium",children:g(e.amount)}),de.jsx("td",{className:"px-4 py-2 text-right",children:g(e.balanceAfter)}),de.jsx("td",{className:"px-4 py-2",children:e.note||"-"})]},e.id||e._id))})]})})]}),de.jsx(zo,{open:c,onClose:()=>u(!1),userId:t,onSuccess:()=>{}})]})}function $o(){const e=r(),[t]=d(),s=t.get("orderId"),a=localStorage.getItem("token")||sessionStorage.getItem("token"),o=n.useMemo(()=>{try{if(!a)return null;const e=je(a);return e.sub||e["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||e.userId||null}catch{return null}},[a]),{fetchBalance:i}=ar();return n.useEffect(()=>{(async()=>{try{o&&s&&await Xn.get("/wallets/topup-result",{params:{orderId:s,userId:o}}),o&&await i(o),sessionStorage.setItem("wallet_topup_success",JSON.stringify({ok:!0,orderId:s}))}catch(t){console.warn("Confirm topup failed or skipped:",t?.message||t)}finally{setTimeout(()=>e("/wallet"),900)}})()},[o,s,i,e]),de.jsxs("div",{className:"container-ld py-10 text-center",children:[de.jsx("h1",{className:"text-2xl font-bold text-emerald-600",children:"Np tin thnh cng"}),de.jsxs("p",{className:"mt-2 text-slate-600",children:["M giao dch: ",de.jsx("b",{children:s})]}),de.jsx("p",{className:"mt-2 text-slate-500",children:"ang chuyn v trang V"})]})}function Ho(){const e=r(),[t]=d(),s=t.get("orderId"),a=t.get("code")||"unknown";return n.useEffect(()=>{const t=setTimeout(()=>e("/wallet"),1500);return()=>clearTimeout(t)},[e]),de.jsxs("div",{className:"container-ld py-10 text-center",children:[de.jsx("h1",{className:"text-2xl font-bold text-rose-600",children:"Thanh ton tht bi"}),de.jsxs("p",{className:"mt-2 text-slate-600",children:["M giao dch: ",de.jsx("b",{children:s}),"  Code: ",de.jsx("b",{children:a})]}),de.jsx("p",{className:"mt-2 text-slate-500",children:"ang quay li V..."})]})}function Bo({children:e,color:t="info"}){return de.jsx("span",{className:`badge ${{success:"badge-success",warning:"badge-warning",info:"badge-info"}[t]}`,children:e})}function Vo({className:e="",children:t}){return de.jsx("div",{className:`card ${e}`,children:t})}function qo(){const{id:e}=i(),t=r(),[a,o]=n.useState(null),[l,c]=n.useState(null),[u,d]=n.useState(!0),[h,m]=n.useState(null),[f,p]=n.useState(!1),[g,x]=n.useState([]),[b,y]=n.useState(!1),[v,w]=n.useState(!1),[j,N]=n.useState({coverLetter:"",bidAmount:""}),[S,k]=n.useState(!1);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e);m(t.sub||t.nameid||t.userId)}catch(t){console.error("Error decoding token:",t)}},[]),n.useEffect(()=>{e&&C()},[e]),n.useEffect(()=>{if(l&&h){const e=l.userId===h;p(e),e&&_()}},[l,h]);const C=async()=>{try{d(!0);const t=await Zn(`/jobs/${e}`);if(o(t),t.companyId)try{const e=await Zn(`/companies/${t.companyId}`);c(e)}catch(n){console.error("Error loading company:",n)}}catch(r){console.error("Error loading project:",r),qs.error("Khng th ti thng tin d n"),t("/projects")}finally{d(!1)}},_=async()=>{try{y(!0);const t=await Zn(`/applications/job/${e}`);x(t||[])}catch(t){console.error("Error loading proposals:",t)}finally{y(!1)}};return u?de.jsx("div",{className:"container-ld py-24",children:de.jsx(Ts,{})}):a?de.jsxs("div",{className:"container-ld py-8",children:[de.jsx("div",{className:"mb-6",children:de.jsx(ye,{variant:"outline",onClick:()=>t("/projects"),children:" Quay li"})}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[de.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[de.jsxs(Vo,{className:"p-6",children:[de.jsxs("div",{className:"flex items-start justify-between mb-4",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.title}),de.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[de.jsx("span",{children:"Bi"}),de.jsx(s,{to:`/profile/${a.ownerId}`,className:"font-semibold text-blue-600 hover:underline",children:l?.fullName||"Ngi dng"}),de.jsx("span",{children:""}),de.jsx("span",{children:new Date(a.createdAt).toLocaleDateString("vi-VN")})]})]}),de.jsx(Bo,{variant:"Open"===a.status?"default":"secondary",children:a.status})]}),de.jsx("div",{className:"prose max-w-none mb-6",children:de.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:a.description})}),a.budgetAmount&&de.jsx("div",{className:"border-t pt-4",children:de.jsxs("p",{className:"text-lg font-semibold",children:["Ngn sch: ",a.budgetAmount.toLocaleString("vi-VN")," VN"]})})]}),f&&de.jsxs(Vo,{className:"p-6",children:[de.jsxs("h2",{className:"text-2xl font-bold mb-4",children:[" xut (",g.length,")"]}),b?de.jsx(Ts,{}):0===g.length?de.jsx("p",{className:"text-gray-500",children:"Cha c  xut no"}):de.jsx("div",{className:"space-y-4",children:g.map(e=>de.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition",children:de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex-1",children:[de.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[de.jsx(s,{to:`/profile/${e.freelancerId}`,className:"font-semibold text-blue-600 hover:underline",children:"Xem profile freelancer"}),de.jsx(Bo,{variant:"outline",children:e.status})]}),e.coverLetter&&de.jsx("p",{className:"text-gray-700 mb-2",children:e.coverLetter}),e.bidAmount&&de.jsxs("p",{className:"text-lg font-semibold text-green-600",children:[e.bidAmount.toLocaleString("vi-VN")," VN"]}),de.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString("vi-VN")})]}),"Pending"===e.status&&de.jsx(ye,{onClick:()=>(async e=>{if(confirm("Bn c chc chn mun chp nhn  xut ny?"))try{await nr(`/applications/${e}/status`,{status:"Accepted"}),qs.success(" chp nhn ng tuyn!"),_()}catch(t){console.error("Error accepting proposal:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th chp nhn  xut")}})(e.id),className:"ml-4",children:"Chp nhn"})]})},e.id))})]}),!f&&h&&"Open"===a.status&&de.jsx(Vo,{className:"p-6",children:v?de.jsxs("form",{onSubmit:async n=>{if(n.preventDefault(),!h)return qs.error("Vui lng ng nhp  gi  xut"),void t("/login");try{k(!0),await er("/applications",{jobId:e,candidateId:h,cvId:null,coverLetter:j.coverLetter,status:"Pending"}),qs.success(" gi ng tuyn thnh cng!"),w(!1),N({coverLetter:"",bidAmount:""}),f&&_()}catch(r){console.error("Error submitting proposal:",r),qs.error(r?.message||r?.response?.data?.message||"Khng th gi  xut")}finally{k(!1)}},className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Th gii thiu"}),de.jsx(js,{value:j.coverLetter,onChange:e=>N({...j,coverLetter:e.target.value}),placeholder:"Gii thiu v bn thn v l do bn ph hp vi d n ny...",rows:5,required:!0})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Gi  xut (VN)"}),de.jsx(ws,{type:"number",value:j.bidAmount,onChange:e=>N({...j,bidAmount:e.target.value}),placeholder:"Nhp gi  xut",required:!0,min:"0"})]}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(ye,{type:"submit",disabled:S,className:"flex-1",children:S?"ang gi...":"Gi  xut"}),de.jsx(ye,{type:"button",variant:"outline",onClick:()=>{w(!1),N({coverLetter:"",bidAmount:""})},children:"Hy"})]})]}):de.jsx(ye,{onClick:()=>w(!0),className:"w-full",children:"Gi  xut"})}),!h&&"Open"===a.status&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("p",{className:"text-center mb-4",children:"ng nhp  gi  xut"}),de.jsxs("div",{className:"flex gap-2 justify-center",children:[de.jsx(ye,{onClick:()=>t("/login"),children:"ng nhp"}),de.jsx(ye,{variant:"outline",onClick:()=>t("/register"),children:"ng k"})]})]})]}),de.jsxs("div",{className:"space-y-6",children:[de.jsxs(Vo,{className:"p-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Thng tin d n"}),de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Trng thi:"}),de.jsx(Bo,{className:"ml-2",children:a.status})]}),a.categoryId&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Danh mc:"}),de.jsx("span",{className:"ml-2",children:a.categoryId})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Ngy to:"}),de.jsx("span",{className:"ml-2",children:new Date(a.createdAt).toLocaleDateString("vi-VN")})]}),a.updatedAt&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Cp nht:"}),de.jsx("span",{className:"ml-2",children:new Date(a.updatedAt).toLocaleDateString("vi-VN")})]})]})]}),l&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Ch d n"}),de.jsx(s,{to:`/profile/${l.id}`,className:"block text-blue-600 hover:underline font-semibold",children:l.fullName}),l.email&&de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.email})]})]})]})]}):de.jsx("div",{className:"container-ld py-24",children:de.jsxs("div",{className:"text-center",children:[de.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Khng tm thy d n"}),de.jsx(ye,{onClick:()=>t("/projects"),children:"Quay li danh sch"})]})})}function Wo(){const e=r(),[t,a]=n.useState([]),[o,i]=n.useState(!0),[l,c]=n.useState(null),[u,d]=n.useState("all");n.useEffect(()=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)try{const e=je(t);c(e.sub||e.nameid||e.userId)}catch(n){console.error("Error decoding token:",n),e("/login")}else e("/login")},[e]),n.useEffect(()=>{l&&h()},[l,u]);const h=async()=>{try{i(!0);let e=await Cs.get(`/applications/candidate/${l}`);e=e?.data||e||[],e=e||[],"all"!==u&&(e=e.filter(e=>e.status?.toLowerCase()===u.toLowerCase())),a(e)}catch(e){console.error("Error loading proposals:",e),qs.error("Khng th ti danh sch  xut")}finally{i(!1)}},m=e=>{switch(e?.toLowerCase()){case"pending":return"default";case"accepted":return"success";case"rejected":return"destructive";case"withdrawn":return"secondary";default:return"outline"}},f=e=>{switch(e?.toLowerCase()){case"pending":return"ang ch";case"accepted":return" chp nhn";case"rejected":return" t chi";case"withdrawn":return" rt";default:return e}};return o?de.jsx("div",{className:"container-ld py-24",children:de.jsx(Ts,{})}):de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold mb-2",children:" xut ca ti"}),de.jsx("p",{className:"text-gray-600",children:"Qun l tt c cc  xut bn  gi"})]}),de.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","pending","accepted","rejected","cancelled"].map(e=>de.jsx(ye,{variant:u===e?"default":"outline",onClick:()=>d(e),size:"sm",children:"all"===e?"Tt c":"pending"===e?"ang ch":"accepted"===e?" chp nhn":"rejected"===e?" t chi":" hy"},e))}),0===t.length?de.jsxs(Vo,{className:"p-12 text-center",children:[de.jsx("p",{className:"text-gray-500 mb-4",children:"Bn cha c ng tuyn no"}),de.jsx(ye,{onClick:()=>e("/projects"),children:"Xem job"})]}):de.jsx("div",{className:"space-y-4",children:t.map(e=>de.jsx(Vo,{className:"p-6",children:de.jsxs("div",{className:"flex items-start justify-between",children:[de.jsxs("div",{className:"flex-1",children:[de.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[de.jsx(s,{to:`/projects/${e.jobId}`,className:"text-xl font-semibold text-blue-600 hover:underline",children:"Xem job"}),de.jsx(Bo,{variant:m(e.status),children:f(e.status)})]}),e.coverLetter&&de.jsx("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.coverLetter}),de.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:de.jsx("span",{children:new Date(e.createdAt).toLocaleString("vi-VN")})})]}),de.jsx("div",{className:"flex gap-2 ml-4",children:"Pending"===e.status&&de.jsx(de.Fragment,{children:de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm("Bn c chc chn mun hy ng tuyn ny?"))try{await Cs.patch(`/applications/${e}/status`,{status:"Withdrawn"}),qs.success(" hy ng tuyn"),h()}catch(t){console.error("Error cancelling application:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th hy ng tuyn")}})(e.id),children:"Rt ng tuyn"})})})]})},e.id))})]})}function Ko(){const{id:e}=i(),t=r(),[a,o]=n.useState(null),[l,c]=n.useState(null),[u,d]=n.useState(null),[h,m]=n.useState(null),[f,p]=n.useState(!0),[g,x]=n.useState(null),[b,y]=n.useState(!1),[v,w]=n.useState(!1);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e);x(t.sub||t.nameid||t.userId)}catch(t){console.error("Error decoding token:",t)}},[]),n.useEffect(()=>{e&&j()},[e]),n.useEffect(()=>{a&&g&&(y(a.clientId===g),w(a.freelancerId===g))},[a,g]);const j=async()=>{try{p(!0);const t=await Zn(`/contracts/${e}`);if(o(t),t.projectId)try{const e=await Zn(`/projects/${t.projectId}`);c(e)}catch(n){console.error("Error loading project:",n)}if(t.clientId)try{const e=await Zn(`/users/${t.clientId}`);d(e)}catch(n){console.error("Error loading client:",n)}if(t.freelancerId)try{const e=await Zn(`/users/${t.freelancerId}`);m(e)}catch(n){console.error("Error loading freelancer:",n)}}catch(r){console.error("Error loading contract:",r),qs.error("Khng th ti thng tin hp ng"),t("/account/my-projects")}finally{p(!1)}},N=async t=>{if(confirm(`Bn c chc chn mun i trng thi thnh "${t}"?`))try{await tr(`/contracts/${e}`,{...a,status:t}),qs.success(" cp nht trng thi hp ng"),j()}catch(n){console.error("Error updating contract:",n),qs.error(n.response?.data?.message||"Khng th cp nht hp ng")}};return f?de.jsx("div",{className:"container-ld py-24",children:de.jsx(Ts,{})}):a?de.jsxs("div",{className:"container-ld py-8",children:[de.jsx("div",{className:"mb-6",children:de.jsx(ye,{variant:"outline",onClick:()=>t("/account/my-projects"),children:" Quay li"})}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[de.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[de.jsxs(Vo,{className:"p-6",children:[de.jsxs("div",{className:"flex items-start justify-between mb-4",children:[de.jsxs("h1",{className:"text-3xl font-bold",children:["Hp ng #",a.id.slice(-8)]}),de.jsx(Bo,{variant:"Active"===a.status?"default":"Completed"===a.status?"success":"secondary",children:a.status})]}),l&&de.jsxs("div",{className:"mb-6",children:[de.jsx("h2",{className:"text-xl font-semibold mb-2",children:"D n"}),de.jsx(s,{to:`/projects/${l.id}`,className:"text-blue-600 hover:underline font-semibold",children:l.title}),l.description&&de.jsx("p",{className:"text-gray-600 mt-2 line-clamp-2",children:l.description})]}),de.jsxs("div",{className:"border-t pt-4 space-y-4",children:[de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Gi tha thun:"}),de.jsxs("span",{className:"ml-2 text-xl font-semibold text-green-600",children:[a.agreedAmount?.toLocaleString("vi-VN")," VN"]})]}),de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Ngy to:"}),de.jsx("span",{className:"ml-2",children:new Date(a.createdAt).toLocaleString("vi-VN")})]}),a.updatedAt&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Cp nht:"}),de.jsx("span",{className:"ml-2",children:new Date(a.updatedAt).toLocaleString("vi-VN")})]})]}),(b||v)&&"Active"===a.status&&de.jsxs("div",{className:"border-t pt-4 mt-4",children:[de.jsx("h3",{className:"font-semibold mb-2",children:"Thao tc"}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(ye,{variant:"outline",onClick:()=>N("Completed"),children:"nh du hon thnh"}),de.jsx(ye,{variant:"outline",onClick:()=>N("Cancelled"),children:"Hy hp ng"})]})]})]}),a.clientId&&a.freelancerId&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Tin nhn"}),de.jsx(ye,{onClick:()=>{const e=a.clientId<a.freelancerId?a.clientId:a.freelancerId,n=e===a.clientId?a.freelancerId:a.clientId,r=`${a.projectId}:${e}:${n}`;t(`/account/messages?conversation=${encodeURIComponent(r)}`)},children:"M tin nhn"})]})]}),de.jsxs("div",{className:"space-y-6",children:[u&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Khch hng"}),de.jsx(s,{to:`/profile/${u.id}`,className:"block text-blue-600 hover:underline font-semibold",children:u.fullName}),u.email&&de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:u.email})]}),h&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Freelancer"}),de.jsx(s,{to:`/profile/${h.id}`,className:"block text-blue-600 hover:underline font-semibold",children:h.fullName}),h.email&&de.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h.email})]})]})]})]}):de.jsx("div",{className:"container-ld py-24",children:de.jsxs("div",{className:"text-center",children:[de.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Khng tm thy hp ng"}),de.jsx(ye,{onClick:()=>t("/account/my-projects"),children:"Quay li"})]})})}function Go(){r();const[e,t]=n.useState([]),[s,a]=n.useState(!0),[o,i]=n.useState(null),[l,c]=n.useState(null),[u,d]=n.useState(null),[h,m]=n.useState(!1),[f,p]=n.useState({name:"",description:"",website:"",address:"",phone:"",email:""}),[g,x]=n.useState(!1);n.useEffect(()=>{const e=localStorage.getItem("token")||sessionStorage.getItem("token");if(e)try{const t=je(e);i(t.sub||t.nameid||t.userId),c(t.role||t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"])}catch(t){console.error("Error decoding token:",t)}},[]),n.useEffect(()=>{b(),!o||"Company"!==l&&"Admin"!==l||y()},[o,l]);const b=async()=>{try{a(!0),t([])}catch(e){console.error("Error loading companies:",e)}finally{a(!1)}},y=async()=>{try{const e=await Zn("/companies/my-company");d(e)}catch(e){404!==e.response?.status&&console.error("Error loading my company:",e)}};return s?de.jsx("div",{className:"container-ld py-24",children:de.jsx(Ts,{})}):de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Qun l cng ty"}),de.jsx("p",{className:"text-gray-600",children:"Qun l thng tin cng ty ca bn"})]}),!u&&!h&&("Company"===l||"Admin"===l)&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("p",{className:"text-center mb-4",children:"Bn cha c cng ty"}),de.jsx(ye,{onClick:()=>m(!0),className:"w-full",children:"To cng ty"})]}),(h||u)&&de.jsxs(Vo,{className:"p-6",children:[de.jsx("h2",{className:"text-2xl font-bold mb-4",children:u?"Cp nht cng ty":"To cng ty mi"}),de.jsxs("form",{onSubmit:u?async e=>{e.preventDefault();try{x(!0);const e=await tr(`/companies/${u.id}`,f);d(e),qs.success(" cp nht cng ty thnh cng!")}catch(t){console.error("Error updating company:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th cp nht cng ty")}finally{x(!1)}}:async e=>{e.preventDefault();try{x(!0);const e=await er("/companies",f);d(e),m(!1),p({name:"",description:"",website:"",address:"",phone:"",email:""}),qs.success(" to cng ty thnh cng!")}catch(t){console.error("Error creating company:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th to cng ty")}finally{x(!1)}},className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tn cng ty *"}),de.jsx(ws,{value:f.name,onChange:e=>p({...f,name:e.target.value}),placeholder:"Nhp tn cng ty",required:!0})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"M t"}),de.jsx(js,{value:f.description,onChange:e=>p({...f,description:e.target.value}),placeholder:"M t v cng ty",rows:4})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Website"}),de.jsx(ws,{type:"url",value:f.website,onChange:e=>p({...f,website:e.target.value}),placeholder:"https://example.com"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),de.jsx(ws,{type:"email",value:f.email,onChange:e=>p({...f,email:e.target.value}),placeholder:"contact@example.com"})]})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"a ch"}),de.jsx(ws,{value:f.address,onChange:e=>p({...f,address:e.target.value}),placeholder:"a ch cng ty"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"S in thoi"}),de.jsx(ws,{value:f.phone,onChange:e=>p({...f,phone:e.target.value}),placeholder:"0123456789"})]})]}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(ye,{type:"submit",disabled:g,className:"flex-1",children:g?"ang lu...":u?"Cp nht":"To cng ty"}),h&&de.jsx(ye,{type:"button",variant:"outline",onClick:()=>{m(!1),p({name:"",description:"",website:"",address:"",phone:"",email:""})},children:"Hy"})]})]}),u&&de.jsxs("div",{className:"mt-6 border-t pt-6",children:[de.jsx("h3",{className:"font-semibold mb-2",children:"Trng thi xc thc"}),de.jsx(Bo,{variant:u.isVerified?"default":"secondary",className:"mb-4",children:u.isVerified?" xc thc":"Cha xc thc"}),!u.isVerified&&de.jsxs("div",{children:[de.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Gi yu cu xc thc  c nh du l cng ty  c xc thc"}),de.jsx(ye,{variant:"outline",onClick:async()=>{try{await axios.post(`/companies/${u.id}/verification-request`,[]),qs.success(" gi yu cu xc thc")}catch(e){console.error("Error requesting verification:",e),qs.error("Khng th gi yu cu xc thc")}},children:"Gi yu cu xc thc"})]})]})]}),u&&de.jsxs(Vo,{className:"p-6 mt-6",children:[de.jsx("h3",{className:"font-semibold mb-4",children:"Thng tin cng ty"}),de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Tn:"}),de.jsx("span",{className:"ml-2 font-semibold",children:u.name})]}),u.description&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"M t:"}),de.jsx("p",{className:"ml-2 text-gray-700",children:u.description})]}),u.website&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Website:"}),de.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:underline",children:u.website})]}),u.email&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"Email:"}),de.jsx("span",{className:"ml-2",children:u.email})]}),u.phone&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"in thoi:"}),de.jsx("span",{className:"ml-2",children:u.phone})]}),u.address&&de.jsxs("div",{children:[de.jsx("span",{className:"text-gray-600",children:"a ch:"}),de.jsx("span",{className:"ml-2",children:u.address})]})]})]})]})}function Qo(){const e=r(),[t,s]=n.useState([]),[a,o]=n.useState(!0),[i,l]=n.useState(!1),[c,u]=n.useState(null);n.useEffect(()=>{const t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)try{const e=je(t);u(e.sub||e.nameid||e.userId)}catch(n){console.error("Error decoding token:",n),e("/login")}else e("/login")},[e]),n.useEffect(()=>{c&&d()},[c]);const d=async()=>{try{o(!0);const e=await Zn("/cvs/my");s(e||[])}catch(e){console.error("Error loading CVs:",e),qs.error(hs.t("CV.LoadError")||"Khng th ti danh sch CV")}finally{o(!1)}},h=async e=>{const t=e.target.files[0];if(t)if(t.size>10485760)qs.error(hs.t("CV.FileTooLarge")||"File qu ln (ti a 10MB)");else try{l(!0);const e=new FormData;e.append("file",t),await sr("/cvs",e),qs.success(hs.t("CV.UploadSuccess")||" ti ln CV thnh cng"),d()}catch(n){console.error("Error uploading CV:",n),qs.error(n?.message||n?.response?.data?.message||hs.t("CV.UploadError")||"Khng th ti ln CV")}finally{l(!1),e.target.value=""}};return a?de.jsx("div",{className:"container-ld py-24",children:de.jsx(Ts,{})}):de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold mb-2",children:hs.t("CV.MyCVs")}),de.jsx("p",{className:"text-gray-600",children:hs.t("CV.ManageDescription")||"Qun l CV ca bn"})]}),de.jsxs("label",{className:"cursor-pointer",children:[de.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:h,disabled:i,className:"hidden"}),de.jsx(ye,{disabled:i,children:i?hs.t("Common.Uploading")||"ang ti...":hs.t("CV.Upload")})]})]}),0===t.length?de.jsxs(Vo,{className:"p-12 text-center",children:[de.jsx("p",{className:"text-gray-500 mb-4",children:hs.t("CV.NoCVs")||"Bn cha c CV no"}),de.jsxs("label",{className:"cursor-pointer inline-block",children:[de.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:h,disabled:i,className:"hidden"}),de.jsx(ye,{children:hs.t("CV.Upload")})]})]}):de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>de.jsxs(Vo,{className:"p-6",children:[de.jsx("div",{className:"flex items-start justify-between mb-4",children:de.jsxs("div",{className:"flex-1",children:[de.jsx("h3",{className:"text-lg font-semibold mb-1",children:e.fileName||"CV"}),de.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.isPrimary&&de.jsx(Bo,{variant:"default",children:hs.t("CV.Primary")}),e.ATSScore&&de.jsxs(Bo,{variant:"outline",children:["ATS: ",e.ATSScore.toFixed(1),"%"]})]}),de.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString("vi-VN")}),e.extractedSkills&&e.extractedSkills.length>0&&de.jsxs("div",{className:"mt-2",children:[de.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[hs.t("CV.Skills")||"K nng",":"]}),de.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.extractedSkills.slice(0,5).map((e,t)=>de.jsx(Bo,{variant:"secondary",className:"text-xs",children:e},t)),e.extractedSkills.length>5&&de.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.extractedSkills.length-5]})]})]})]})}),de.jsxs("div",{className:"flex gap-2 mt-4",children:[e.fileUrl&&de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>window.open(e.fileUrl,"_blank"),children:hs.t("CV.View")||"Xem"}),!e.isPrimary&&de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{await er(`/cvs/${e}/set-primary`),qs.success(hs.t("CV.SetPrimarySuccess")||" t CV chnh"),d()}catch(t){console.error("Error setting primary CV:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th t CV chnh")}})(e.id),children:hs.t("CV.SetPrimary")||"t lm chnh"}),de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>(async e=>{try{qs.info(hs.t("CV.Analyzing")||"ang phn tch CV..."),await er(`/cvs/${e}/analyze`),qs.success(hs.t("CV.AnalysisComplete")||"Phn tch CV hon tt"),d()}catch(t){console.error("Error analyzing CV:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th phn tch CV")}})(e.id),children:hs.t("CV.Analyze")}),de.jsx(ye,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(confirm(hs.t("CV.ConfirmDelete")||"Bn c chc chn mun xa CV ny?"))try{await rr(`/cvs/${e}`),qs.success(hs.t("CV.DeleteSuccess")||" xa CV"),d()}catch(t){console.error("Error deleting CV:",t),qs.error(t?.message||t?.response?.data?.message||"Khng th xa CV")}})(e.id),children:hs.t("Common.Delete")})]})]},e.id))})]})}const Xo=()=>{const[e,t]=n.useState(!0),r=o(),a=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null");if(!("Admin"===a?.role))return de.jsx(h,{to:"/",replace:!0});const i=[{name:"Dashboard",icon:V,path:"/admin"},{name:"Ngi dng",icon:q,path:"/admin/users"},{name:"D n",icon:W,path:"/admin/projects"},{name:"n hng",icon:K,path:"/admin/contracts"},{name:"Banners",icon:K,path:"/admin/banners"},{name:"Thng k",icon:G,path:"/admin/statistics"},{name:"Audit Logs",icon:K,path:"/admin/audit-logs"},{name:"Ci t",icon:F,path:"/admin/settings"}];return de.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[de.jsxs("aside",{className:`bg-slate-800 text-white transition-all duration-300 ${e?"w-64":"w-0"} flex flex-col fixed left-0 top-0 h-full z-40`,children:[de.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 flex-shrink-0",children:[de.jsx("h1",{className:"text-xl font-bold",children:"LanServe Admin"}),de.jsx("button",{onClick:()=>t(!1),className:"lg:hidden hover:bg-slate-700 p-1 rounded",children:de.jsx($,{size:20})})]}),de.jsx("nav",{className:"flex-1 overflow-y-auto",children:i.map(e=>{const t=e.icon,n=r.pathname===e.path;return de.jsxs(s,{to:e.path,className:"flex items-center gap-3 px-4 py-3 hover:bg-slate-700 transition-colors "+(n?"bg-slate-700 border-r-4 border-blue-500":""),children:[de.jsx(t,{size:20}),de.jsx("span",{children:e.name})]},e.path)})})]}),de.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 "+(e?"ml-64":"ml-0"),children:[de.jsxs("header",{className:"bg-white shadow-sm px-6 py-4 flex items-center justify-between flex-shrink-0",children:[de.jsx("button",{onClick:()=>t(!0),className:"lg:hidden hover:bg-gray-100 p-2 rounded",children:de.jsx(H,{size:24})}),de.jsx("div",{className:"flex items-center gap-4",children:de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:de.jsx("span",{className:"text-white text-sm font-semibold",children:"A"})}),de.jsx("span",{className:"text-sm font-medium",children:"Admin"})]})})]}),de.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:de.jsx(l,{})})]})]})},Yo=()=>{const[e,t]=n.useState({totalUsers:0,totalProjects:0,totalContracts:0,totalRevenue:0,userChange:0,projectChange:0,contractChange:0,revenueChange:0}),[r,s]=n.useState([]),[a,o]=n.useState([]),[i,l]=n.useState(!0);n.useEffect(()=>{d()},[]);const c=(e,t)=>0===t?e>0?100:0:(e-t)/t*100,u=e=>`${e>=0?"+":""}${e.toFixed(0)}%`,d=async()=>{try{l(!0);const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()-1,1),a=new Date(e.getFullYear(),e.getMonth(),0,23,59,59),i=(await Xn.get("/users").catch(e=>(console.error("Failed to fetch users:",e),{data:[]}))).data||[],u=i.length,d=i.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,h=i.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,m=c(d,h),f=(await Xn.get("/jobs").catch(e=>(console.error("Failed to fetch jobs:",e),{data:[]}))).data||[],p=f.length,g=f.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,x=f.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,b=c(g,x),y=(await Xn.get("/contracts").catch(e=>(console.error("Failed to fetch contracts:",e),{data:[]}))).data||[],v=y.length,w=y.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).length,j=y.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).length,N=c(w,j),S=y.filter(e=>"Completed"===(e.status||e.Status)||"completed"===(e.status||e.Status)),k=S.reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),C=S.filter(e=>new Date(e.createdAt||e.CreatedAt)>=n).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),_=S.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=a}).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0),E=c(C,_);t({totalUsers:u,totalProjects:p,totalContracts:v,totalRevenue:k,userChange:m,projectChange:b,contractChange:N,revenueChange:E});const T=[];for(let t=5;t>=0;t--){const n=new Date(e.getFullYear(),e.getMonth()-t,1),r=new Date(n.getFullYear(),n.getMonth(),1),s=new Date(n.getFullYear(),n.getMonth()+1,0,23,59,59),a=S.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=r&&t<=s}).reduce((e,t)=>{const n=t.agreedAmount||t.AgreedAmount||0;return e+("number"==typeof n?n:parseFloat(n)||0)},0);T.push({month:`Th ${n.getMonth()+1}`,doanhThu:a,chiPhi:.6*a})}s(T);const P=[],A=["CN","T2","T3","T4","T5","T6","T7"];for(let t=6;t>=0;t--){const n=new Date(e);n.setDate(n.getDate()-t),n.setHours(0,0,0,0);const r=new Date(n);r.setHours(23,59,59,999);const s=f.filter(e=>{const t=new Date(e.createdAt||e.CreatedAt);return t>=n&&t<=r}).length;P.push({day:A[n.getDay()],projects:s})}o(P)}catch(e){console.error("Error fetching dashboard data:",e)}finally{l(!1)}};if(i)return de.jsx("div",{className:"flex items-center justify-center h-full",children:de.jsx(Q,{className:"animate-spin text-blue-500",size:48})});const h=[{name:"Tng ngi dng",value:e.totalUsers,icon:q,color:"bg-blue-500",change:u(e.userChange),changeColor:e.userChange>=0?"text-green-600":"text-red-600"},{name:"D n",value:e.totalProjects,icon:W,color:"bg-green-500",change:u(e.projectChange),changeColor:e.projectChange>=0?"text-green-600":"text-red-600"},{name:"Hp ng",value:e.totalContracts,icon:K,color:"bg-purple-500",change:u(e.contractChange),changeColor:e.contractChange>=0?"text-green-600":"text-red-600"},{name:"Doanh thu",value:e.totalRevenue>=1e6?`${(e.totalRevenue/1e6).toFixed(1)}M`:e.totalRevenue>=1e3?`${(e.totalRevenue/1e3).toFixed(1)}K`:e.totalRevenue.toFixed(0),icon:X,color:"bg-orange-500",change:u(e.revenueChange),changeColor:e.revenueChange>=0?"text-green-600":"text-red-600"}];return de.jsxs("div",{children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Dashboard"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Tng quan h thng LanServe"})]}),de.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((e,t)=>{const n=e.icon;return de.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 hover:shadow-md transition-shadow",children:de.jsxs("div",{className:"flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("p",{className:"text-gray-600 text-sm",children:e.name}),de.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-1",children:e.value}),de.jsxs("p",{className:`${e.changeColor} text-sm mt-1`,children:[e.change," so vi thng trc"]})]}),de.jsx("div",{className:`${e.color} p-3 rounded-lg`,children:de.jsx(n,{className:"text-white",size:24})})]})},t)})}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Doanh thu & Chi ph"}),de.jsx(w,{width:"100%",height:300,children:de.jsxs(j,{data:r,children:[de.jsx(N,{strokeDasharray:"3 3"}),de.jsx(S,{dataKey:"month"}),de.jsx(k,{}),de.jsx(C,{formatter:e=>new Intl.NumberFormat("vi-VN").format(e)}),de.jsx(_,{}),de.jsx(E,{type:"monotone",dataKey:"doanhThu",stroke:"#3b82f6",strokeWidth:2}),de.jsx(E,{type:"monotone",dataKey:"chiPhi",stroke:"#ef4444",strokeWidth:2})]})})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"D n theo ngy"}),de.jsx(w,{width:"100%",height:300,children:de.jsxs(T,{data:a,children:[de.jsx(N,{strokeDasharray:"3 3"}),de.jsx(S,{dataKey:"day"}),de.jsx(k,{}),de.jsx(C,{}),de.jsx(_,{}),de.jsx(P,{dataKey:"projects",fill:"#10b981"})]})})]})]})]})},Jo=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(""),[a,o]=n.useState(""),[i,l]=n.useState(!0),[c,u]=n.useState(10),[d,h]=n.useState(!1),m=n.useRef(null),[f,p]=n.useState(!1),[g,x]=n.useState(null),[b,y]=n.useState({email:"",fullName:"",role:"User",password:""});n.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0);const e=await Xn.get("/users");t(e.data||[])}catch(e){console.error("Error fetching users:",e),qs.error("Khng th ti danh sch ngi dng")}finally{l(!1)}},w=n.useMemo(()=>e.filter(e=>{const t=e.email?.toLowerCase().includes(r.toLowerCase())||e.fullName?.toLowerCase().includes(r.toLowerCase())||e.username?.toLowerCase().includes(r.toLowerCase()),n=!a||e.role===a;return t&&n}),[e,r,a]);n.useEffect(()=>{u(10)},[r,a]);const j=n.useMemo(()=>w.slice(0,c),[w,c]),N=n.useRef(null);n.useEffect(()=>{c<w.length&&!i&&!d&&setTimeout(()=>{const e=document.querySelector("main.overflow-y-auto"),t=e?e.clientHeight:window.innerHeight;(e?e.scrollHeight:document.documentElement.scrollHeight)<t+100&&u(e=>Math.min(e+10,w.length))},100)},[c,w.length,i,d]),n.useEffect(()=>{const e=document.querySelector("main.overflow-y-auto")||window,t=new IntersectionObserver(e=>{const[t]=e;t.isIntersecting&&!d&&c<w.length&&(h(!0),setTimeout(()=>{u(e=>Math.min(e+10,w.length)),h(!1)},300))},{root:e===window?null:e,rootMargin:"200px",threshold:.1});return N.current&&t.observe(N.current),()=>{N.current&&t.unobserve(N.current)}},[d,c,w.length]);const S=()=>{p(!1),x(null),y({email:"",fullName:"",role:"User",password:""})};return i?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx(Ts,{size:"lg"})}):de.jsxs("div",{ref:m,children:[de.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l ngi dng"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c ngi dng trong h thng"})]}),de.jsxs("button",{onClick:()=>{x(null),y({email:"",fullName:"",role:"User",password:""}),p(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[de.jsx(Y,{size:20}),"Thm ngi dng"]})]}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:de.jsxs("div",{className:"flex gap-4",children:[de.jsxs("div",{className:"flex-1 relative",children:[de.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),de.jsx("input",{type:"text",placeholder:"Tm kim theo email, username...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("select",{value:a,onChange:e=>o(e.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[de.jsx("option",{value:"",children:"Tt c vai tr"}),de.jsx("option",{value:"Admin",children:"Admin"}),de.jsx("option",{value:"User",children:"User"})]})]})}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Username"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vai tr"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(e=>de.jsxs("tr",{className:"hover:bg-gray-50",children:[de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.email}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.fullName||e.username||"-"}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:e.role})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsxs("div",{className:"flex gap-2",children:[de.jsx("button",{onClick:()=>(e=>{x(e),y({email:e.email||"",fullName:e.fullName||"",role:e.role||"User",password:""}),p(!0)})(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Chnh sa",children:de.jsx(Z,{size:18})}),de.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa ngi dng ny?"))try{await Xn.delete(`/users/${e}`),qs.success("Xa ngi dng thnh cng"),v()}catch(t){console.error("Error deleting user:",t),qs.error(t.response?.data?.message||"Khng th xa ngi dng")}})(e.id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:de.jsx(ee,{size:18})})]})})]},e.id))})]})}),c<w.length&&de.jsx("div",{ref:N,className:"flex items-center justify-center py-4",children:d?de.jsx(Ts,{size:"md"}):de.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!i&&c>=w.length&&w.length>0&&de.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",w.length," ngi dng"]}),0===w.length&&de.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng tm thy ngi dng no"}),f&&de.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-xl font-bold",children:g?"Chnh sa ngi dng":"Thm ngi dng mi"}),de.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:de.jsx($,{size:24})})]}),de.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(g){const e={fullName:b.fullName,role:b.role};b.password&&(e.password=b.password),await Xn.put(`/users/${g.id}`,e),qs.success("Cp nht ngi dng thnh cng")}else await Xn.post("/users",{email:b.email,fullName:b.fullName,role:b.role,password:b.password}),qs.success("To ngi dng thnh cng");S(),v()}catch(t){console.error("Error saving user:",t),qs.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[!g&&de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),de.jsx("input",{type:"email",required:!0,value:b.email,onChange:e=>y({...b,email:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"H tn *"}),de.jsx("input",{type:"text",required:!0,value:b.fullName,onChange:e=>y({...b,fullName:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vai tr *"}),de.jsxs("select",{required:!0,value:b.role,onChange:e=>y({...b,role:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[de.jsx("option",{value:"User",children:"User"}),de.jsx("option",{value:"Admin",children:"Admin"})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:g?"Mt khu mi ( trng nu khng i)":"Mt khu *"}),de.jsx("input",{type:"password",required:!g,value:b.password,onChange:e=>y({...b,password:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{className:"flex gap-3 pt-4",children:[de.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),de.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:g?"Cp nht":"To mi"})]})]})]})})]})},Zo=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(""),[a,o]=n.useState(!0),[i,l]=n.useState(10),[c,u]=n.useState(!1),d=n.useRef(null),[h,m]=n.useState(!1),[f,p]=n.useState(null),[g,x]=n.useState(null),[b,y]=n.useState({title:"",description:"",budgetAmount:"",status:"Open",categoryId:""}),[v,w]=n.useState([]);n.useEffect(()=>{j(),N()},[]);const j=async()=>{try{o(!0);const e=await Xn.get("/jobs");t(e.data||[])}catch(e){console.error("Error fetching projects:",e),qs.error("Khng th ti danh sch d n")}finally{o(!1)}},N=async()=>{try{const e=await Xn.get("/categories");w(e.data||[])}catch(e){console.error("Error fetching categories:",e)}},S=n.useMemo(()=>e.filter(e=>e.title?.toLowerCase().includes(r.toLowerCase())||e.description?.toLowerCase().includes(r.toLowerCase())),[e,r]);n.useEffect(()=>{l(10)},[r]);const k=n.useMemo(()=>S.slice(0,i),[S,i]),C=n.useRef(null);n.useEffect(()=>{i<S.length&&!a&&!c&&setTimeout(()=>{const e=document.querySelector("main.overflow-y-auto"),t=e?e.clientHeight:window.innerHeight;(e?e.scrollHeight:document.documentElement.scrollHeight)<t+100&&l(e=>Math.min(e+10,S.length))},100)},[i,S.length,a,c]),n.useEffect(()=>{const e=document.querySelector("main.overflow-y-auto")||window,t=new IntersectionObserver(e=>{const[t]=e;t.isIntersecting&&!c&&i<S.length&&(u(!0),setTimeout(()=>{l(e=>Math.min(e+10,S.length)),u(!1)},300))},{root:e===window?null:e,rootMargin:"200px",threshold:.1});return C.current&&t.observe(C.current),()=>{C.current&&t.unobserve(C.current)}},[c,i,S.length]);const _=e=>{p(e),y({title:e.title||"",description:e.description||"",budgetAmount:e.budgetAmount||e.budget?.value||"",status:e.status||"Open",categoryId:e.categoryId||""}),m(!0)},E=()=>{m(!1),p(null),y({title:"",description:"",budgetAmount:"",status:"Open",categoryId:""})};return a?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx(Ts,{size:"lg"})}):de.jsxs("div",{ref:d,children:[de.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l d n"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c d n"})]}),de.jsxs("button",{onClick:()=>{p(null),y({title:"",description:"",budgetAmount:"",status:"Open",categoryId:v[0]?.id||""}),m(!0)},className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[de.jsx(Y,{size:20}),"Thm d n"]})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"Tng d n"}),de.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:e.length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"ang tuyn"}),de.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:e.filter(e=>"Open"===e.status).length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:" ng"}),de.jsx("p",{className:"text-2xl font-bold text-gray-600 mt-2",children:e.filter(e=>"Closed"===e.status).length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"ang lm"}),de.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(e=>"InProgress"===e.status).length})]})]}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:de.jsx("div",{className:"flex gap-4",children:de.jsxs("div",{className:"flex-1 relative",children:[de.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),de.jsx("input",{type:"text",placeholder:"Tm kim d n...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tiu "}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"M t"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ngn sch"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:k.map(e=>de.jsxs("tr",{className:"hover:bg-gray-50",children:[de.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:e.title}),de.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md truncate",children:e.description}),de.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(e.budgetAmount||e.budget?.value||0)," "]}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Open"===e.status?"bg-green-100 text-green-800":"Closed"===e.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:e.status})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsxs("div",{className:"flex gap-2",children:[de.jsx("button",{onClick:()=>x(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Xem chi tit",children:de.jsx(te,{size:18})}),de.jsx("button",{onClick:()=>_(e),className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Chnh sa",children:de.jsx(Z,{size:18})}),de.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa d n ny?"))try{await Xn.delete(`/jobs/${e}`),qs.success("Xa job thnh cng"),j()}catch(t){console.error("Error deleting project:",t),qs.error(t.response?.data?.message||"Khng th xa d n")}})(e.id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:de.jsx(ee,{size:18})})]})})]},e.id))})]})}),i<S.length&&de.jsx("div",{ref:C,className:"flex items-center justify-center py-4",children:c?de.jsx(Ts,{size:"md"}):de.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!a&&i>=S.length&&S.length>0&&de.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",S.length," d n"]}),0===S.length&&de.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng tm thy d n no"}),h&&de.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-xl font-bold",children:f?"Chnh sa d n":"Thm d n mi"}),de.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600",children:de.jsx($,{size:24})})]}),de.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(f)await Xn.put(`/jobs/${f.id}`,{companyId:f.companyId||null,title:b.title,description:b.description,requiredSkills:f.requiredSkills||[],jobType:"FullTime",location:"",salaryRange:b.budgetAmount?{min:Number(b.budgetAmount),max:Number(b.budgetAmount),currency:"VND"}:null,experienceLevel:"Mid",status:b.status,premiumBoost:!1,images:[]}),qs.success("Cp nht job thnh cng");else{if(!(localStorage.getItem("token")||sessionStorage.getItem("token")))return void qs.error("Vui lng ng nhp");await Xn.post("/jobs",{companyId:null,title:b.title,description:b.description,requiredSkills:[],jobType:"FullTime",location:"",salaryRange:b.budgetAmount?{min:Number(b.budgetAmount),max:Number(b.budgetAmount),currency:"VND"}:null,experienceLevel:"Mid",status:b.status,premiumBoost:!1,images:[]}),qs.success("To job thnh cng")}E(),j()}catch(t){console.error("Error saving project:",t),qs.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu  *"}),de.jsx("input",{type:"text",required:!0,value:b.title,onChange:e=>y({...b,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t *"}),de.jsx("textarea",{required:!0,rows:4,value:b.description,onChange:e=>y({...b,description:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngn sch () *"}),de.jsx("input",{type:"number",required:!0,min:"0",value:b.budgetAmount,onChange:e=>y({...b,budgetAmount:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi *"}),de.jsxs("select",{required:!0,value:b.status,onChange:e=>y({...b,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[de.jsx("option",{value:"Open",children:"Open"}),de.jsx("option",{value:"InProgress",children:"InProgress"}),de.jsx("option",{value:"Completed",children:"Completed"}),de.jsx("option",{value:"Closed",children:"Closed"})]})]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Danh mc *"}),de.jsxs("select",{required:!0,value:b.categoryId,onChange:e=>y({...b,categoryId:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[de.jsx("option",{value:"",children:"Chn danh mc"}),v.map(e=>de.jsx("option",{value:e.id,children:e.name},e.id))]})]}),de.jsxs("div",{className:"flex gap-3 pt-4",children:[de.jsx("button",{type:"button",onClick:E,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),de.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:f?"Cp nht":"To mi"})]})]})]})}),g&&de.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-xl font-bold",children:"Chi tit d n"}),de.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600",children:de.jsx($,{size:24})})]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tiu "}),de.jsx("p",{className:"text-gray-900",children:g.title})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),de.jsx("p",{className:"text-gray-900",children:g.description})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngn sch"}),de.jsxs("p",{className:"text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(g.budgetAmount||g.budget?.value||0)," "]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),de.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Open"===g.status?"bg-green-100 text-green-800":"Closed"===g.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:g.status})]})]}),g.images&&g.images.length>0&&de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hnh nh"}),de.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.images.map((e,t)=>de.jsx("img",{src:e,alt:`Project ${t+1}`,className:"w-full h-32 object-cover rounded"},t))})]})]}),de.jsxs("div",{className:"flex gap-3 pt-4",children:[de.jsx("button",{onClick:()=>{x(null),_(g)},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Chnh sa"}),de.jsx("button",{onClick:()=>x(null),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"ng"})]})]})})]})},ei=()=>{const[e,t]=n.useState([]),[r,s]=n.useState(!0),[a,o]=n.useState(10),[i,l]=n.useState(!1),c=n.useRef(null),[u,d]=n.useState(!1),[h,m]=n.useState(null),[f,p]=n.useState(null),[g,x]=n.useState({status:"Active"});n.useEffect(()=>{b()},[]);const b=async()=>{try{s(!0);const e=await Xn.get("/contracts");t(e.data||[])}catch(e){console.error("Error fetching contracts:",e),qs.error("Khng th ti danh sch hp ng")}finally{s(!1)}},y=n.useMemo(()=>e.slice(0,a),[e,a]),v=n.useRef(null);n.useEffect(()=>{a<e.length&&!r&&!i&&setTimeout(()=>{const t=document.querySelector("main.overflow-y-auto"),n=t?t.clientHeight:window.innerHeight;(t?t.scrollHeight:document.documentElement.scrollHeight)<n+100&&o(t=>Math.min(t+10,e.length))},100)},[a,e.length,r,i]),n.useEffect(()=>{const t=document.querySelector("main.overflow-y-auto")||window,n=new IntersectionObserver(t=>{const[n]=t;n.isIntersecting&&!i&&a<e.length&&(l(!0),setTimeout(()=>{o(t=>Math.min(t+10,e.length)),l(!1)},300))},{root:t===window?null:t,rootMargin:"200px",threshold:.1});return v.current&&n.observe(v.current),()=>{v.current&&n.unobserve(v.current)}},[i,a,e.length]);const w=e=>{m(e),x({status:e.status||"Active"}),d(!0)},j=()=>{d(!1),m(null),x({status:"Active"})};return r?de.jsx("div",{className:"flex items-center justify-center h-64",children:de.jsx(Ts,{size:"lg"})}):de.jsxs("div",{ref:c,children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l hp ng"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Danh sch tt c hp ng"})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"Tng hp ng"}),de.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-2",children:e.length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"ang lm"}),de.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:e.filter(e=>"Active"===e.status).length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:"Hon thnh"}),de.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(e=>"Completed"===e.status).length})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("p",{className:"text-gray-600 text-sm",children:" hy"}),de.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:e.filter(e=>"Cancelled"===e.status).length})]})]}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Client"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Freelancer"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh ng"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(e=>de.jsxs("tr",{className:"hover:bg-gray-50",children:[de.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id?.slice(-8)||e._id?.slice(-8)]}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.clientId}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.freelancerId}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Active"===e.status?"bg-blue-100 text-blue-800":"Completed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),de.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:de.jsxs("div",{className:"flex gap-2",children:[de.jsx("button",{onClick:()=>p(e),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded",title:"Xem chi tit",children:de.jsx(te,{size:18})}),de.jsx("button",{onClick:()=>w(e),className:"text-green-600 hover:text-green-800 p-1 hover:bg-green-50 rounded",title:"Chnh sa",children:de.jsx(Z,{size:18})}),de.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa hp ng ny?"))try{await Xn.delete(`/contracts/${e}`),qs.success("Xa hp ng thnh cng"),b()}catch(t){console.error("Error deleting contract:",t),qs.error(t.response?.data?.message||"Khng th xa hp ng")}})(e.id||e._id),className:"text-red-600 hover:text-red-800 p-1 hover:bg-red-50 rounded",title:"Xa",children:de.jsx(ee,{size:18})})]})})]},e.id))})]})}),a<e.length&&de.jsx("div",{ref:v,className:"flex items-center justify-center py-4",children:i?de.jsx(Ts,{size:"md"}):de.jsx("div",{className:"text-slate-500 text-sm",children:"ang ti thm..."})}),!r&&a>=e.length&&e.length>0&&de.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[" hin th tt c ",e.length," hp ng"]}),0===e.length&&de.jsx("div",{className:"text-center py-12 text-gray-500",children:"Khng c hp ng no"}),u&&h&&de.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-xl font-bold",children:"Chnh sa hp ng"}),de.jsx("button",{onClick:j,className:"text-gray-400 hover:text-gray-600",children:de.jsx($,{size:24})})]}),de.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await Xn.put(`/contracts/${h.id}`,{...h,status:g.status}),qs.success("Cp nht hp ng thnh cng"),j(),b()}catch(t){console.error("Error updating contract:",t),qs.error(t.response?.data?.message||"C li xy ra")}},className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi *"}),de.jsxs("select",{required:!0,value:g.status,onChange:e=>x({...g,status:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[de.jsx("option",{value:"Active",children:"Active"}),de.jsx("option",{value:"Completed",children:"Completed"}),de.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),de.jsxs("div",{className:"flex gap-3 pt-4",children:[de.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Hy"}),de.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Cp nht"})]})]})]})}),f&&de.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:de.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[de.jsxs("div",{className:"flex items-center justify-between mb-4",children:[de.jsx("h2",{className:"text-xl font-bold",children:"Chi tit hp ng"}),de.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:de.jsx($,{size:24})})]}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID"}),de.jsxs("p",{className:"text-gray-900",children:["#",f.id?.slice(-8)||f._id?.slice(-8)]})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trng thi"}),de.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full "+("Active"===f.status?"bg-blue-100 text-blue-800":"Completed"===f.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:f.status})]})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),de.jsx("p",{className:"text-gray-900",children:f.clientId})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Freelancer ID"}),de.jsx("p",{className:"text-gray-900",children:f.freelancerId})]})]}),f.agreedAmount&&de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"S tin tha thun"}),de.jsxs("p",{className:"text-gray-900",children:[new Intl.NumberFormat("vi-VN").format(f.agreedAmount)," "]})]}),f.createdAt&&de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy to"}),de.jsx("p",{className:"text-gray-900",children:new Date(f.createdAt).toLocaleString("vi-VN")})]})]}),de.jsxs("div",{className:"flex gap-3 pt-4",children:[de.jsx("button",{onClick:()=>{p(null),w(f)},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Chnh sa"}),de.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"ng"})]})]})})]})},ti=()=>{const[e,t]=n.useState([]),[r,s]=n.useState([]),[a,o]=n.useState([]);n.useEffect(()=>{i()},[]);const i=async()=>{try{(await Xn.get("/payments")).data;t([{month:"Th 1",revenue:12e6,profit:4e6},{month:"Th 2",revenue:19e6,profit:7e6},{month:"Th 3",revenue:15e6,profit:5e6},{month:"Th 4",revenue:22e6,profit:8e6},{month:"Th 5",revenue:28e6,profit:12e6},{month:"Th 6",revenue:35e6,profit:17e6}]);(await Xn.get("/categories")).data;s([{name:"Web Development",value:45,color:"#3b82f6"},{name:"Mobile App",value:25,color:"#10b981"},{name:"Design",value:20,color:"#f59e0b"},{name:"Other",value:10,color:"#ef4444"}]),o([{day:"T2",projects:45},{day:"T3",projects:52},{day:"T4",projects:48},{day:"T5",projects:61},{day:"T6",projects:55},{day:"T7",projects:78},{day:"CN",projects:82}])}catch(e){console.error("Error fetching statistics:",e)}};return de.jsxs("div",{children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Thng k chi tit"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Phn tch v bo co chi tit"})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Biu  doanh thu v li nhun"}),de.jsx(w,{width:"100%",height:400,children:de.jsxs(A,{data:e,children:[de.jsx(N,{strokeDasharray:"3 3"}),de.jsx(S,{dataKey:"month"}),de.jsx(k,{}),de.jsx(C,{formatter:e=>new Intl.NumberFormat("vi-VN").format(e)}),de.jsx(_,{}),de.jsx(I,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6}),de.jsx(I,{type:"monotone",dataKey:"profit",stroke:"#10b981",fill:"#10b981",fillOpacity:.6})]})})]}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Phn loi d n"}),de.jsx(w,{width:"100%",height:300,children:de.jsxs(L,{children:[de.jsx(D,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((e,t)=>de.jsx(R,{fill:e.color},`cell-${t}`))}),de.jsx(C,{}),de.jsx(_,{})]})})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"D n theo tun"}),de.jsx(w,{width:"100%",height:300,children:de.jsxs(T,{data:a,children:[de.jsx(N,{strokeDasharray:"3 3"}),de.jsx(S,{dataKey:"day"}),de.jsx(k,{}),de.jsx(C,{}),de.jsx(_,{}),de.jsx(P,{dataKey:"projects",fill:"#8b5cf6"})]})})]})]}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng doanh thu"}),de.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"VN 131M"}),de.jsx("p",{className:"text-green-600 text-sm mt-2",children:" Tng 23%"})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng li nhun"}),de.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"VN 53M"}),de.jsx("p",{className:"text-green-600 text-sm mt-2",children:" Tng 31%"})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:"Tng trng"}),de.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"+28%"}),de.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Tng trng tch cc"})]})]})]})},ni=()=>de.jsxs("div",{children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Ci t h thng"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l cu hnh v thit lp"})]}),de.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[de.jsxs("div",{className:"lg:col-span-2",children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Thng tin chung"}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tn h thng"}),de.jsx("input",{type:"text",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"LanServe"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email h tr"}),de.jsx("input",{type:"email",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"support@lanserve.com"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"S in thoi"}),de.jsx("input",{type:"tel",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"0123456789"})]})]})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Ci t bo mt"}),de.jsxs("div",{className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mt khu mi"}),de.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhp mt khu mi"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xc nhn mt khu"}),de.jsx("input",{type:"password",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nhp li mt khu"})]}),de.jsxs("div",{className:"flex items-center gap-2",children:[de.jsx("input",{type:"checkbox",id:"two-factor",className:"rounded"}),de.jsx("label",{htmlFor:"two-factor",className:"text-sm text-gray-700",children:"Bt xc thc hai yu t"})]})]})]})]}),de.jsxs("div",{children:[de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Hnh ng nhanh"}),de.jsxs("div",{className:"space-y-3",children:[de.jsx("button",{className:"w-full text-left px-4 py-3 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-colors",children:"Xut d liu"}),de.jsx("button",{className:"w-full text-left px-4 py-3 bg-green-50 hover:bg-green-100 text-green-700 rounded-lg transition-colors",children:"Sao lu h thng"}),de.jsx("button",{className:"w-full text-left px-4 py-3 bg-red-50 hover:bg-red-100 text-red-700 rounded-lg transition-colors",children:"Khi phc d liu"})]})]}),de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[de.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Thng tin h thng"}),de.jsxs("div",{className:"space-y-2 text-sm",children:[de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Phin bn:"}),de.jsx("span",{className:"font-medium",children:"1.0.0"})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Cp nht ln cui:"}),de.jsx("span",{className:"font-medium",children:"01/10/2024"})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Database:"}),de.jsx("span",{className:"font-medium text-green-600",children:"MongoDB"})]}),de.jsxs("div",{className:"flex justify-between",children:[de.jsx("span",{className:"text-gray-600",children:"Backend:"}),de.jsx("span",{className:"font-medium",children:"ASP.NET Core"})]})]})]})]})]}),de.jsx("div",{className:"mt-6 flex justify-end",children:de.jsxs("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2",children:[de.jsx(ne,{size:20}),"Lu thay i"]})})]});function ri(){const[e,t]=n.useState([]),[r,s]=n.useState(!0),[a,o]=n.useState(null),[i,l]=n.useState(!1),[c,u]=n.useState({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0});n.useEffect(()=>{d()},[]);const d=async()=>{try{s(!0);const e=await Xn.get("/banners");t(e.data||[])}catch(e){console.error("Load banners failed",e)}finally{s(!1)}};return r?de.jsx("div",{className:"p-6",children:"ang ti..."}):de.jsxs("div",{children:[de.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[de.jsxs("div",{children:[de.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Qun l Banners"}),de.jsx("p",{className:"text-gray-600 mt-1",children:"Qun l banners hin th trn trang ch"})]}),de.jsx(ye,{onClick:()=>l(!0),children:"+ Thm Banner"})]}),i&&de.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[de.jsx("h2",{className:"text-xl font-semibold mb-4",children:a?"Chnh sa Banner":"Thm Banner mi"}),de.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{if(!c.title||!c.imageUrl)return void alert("Vui lng in y  tiu  v upload hnh nh!");if(a){const e={title:c.title,imageUrl:c.imageUrl,linkUrl:c.linkUrl||null,order:c.order||0,isActive:c.isActive};await Xn.put(`/banners/${a.id||a._id}`,e)}else{const e={title:c.title,imageUrl:c.imageUrl,linkUrl:c.linkUrl||null,order:c.order||0,isActive:c.isActive};await Xn.post("/banners",e)}alert(a?"Cp nht banner thnh cng!":"To banner thnh cng!"),l(!1),o(null),u({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0}),d()}catch(t){console.error("Save banner failed",t);let e="Lu banner tht bi!";401===t.response?.status?e="Bn khng c quyn thc hin thao tc ny. Vui lng ng nhp li vi ti khon Admin.":400===t.response?.status?e=t.response?.data?.detail||t.response?.data?.message||"D liu khng hp l. Vui lng kim tra li.":t.response?.data&&(e=t.response.data.detail||t.response.data.message||t.message),alert(e)}},className:"space-y-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tiu "}),de.jsx(ws,{value:c.title,onChange:e=>u({...c,title:e.target.value}),placeholder:"Tiu  banner",required:!0})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Hnh nh"}),de.jsx(Ss,{folder:"banners",onUploadSuccess:e=>u({...c,imageUrl:e})}),c.imageUrl&&de.jsx("img",{src:c.imageUrl,alt:"Preview",className:"mt-2 w-64 h-32 object-cover rounded"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Link URL (ty chn)"}),de.jsx(ws,{value:c.linkUrl,onChange:e=>u({...c,linkUrl:e.target.value}),placeholder:"https://..."})]}),de.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Th t hin th"}),de.jsx(ws,{type:"number",value:c.order,onChange:e=>u({...c,order:parseInt(e.target.value)||0})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Trng thi"}),de.jsxs("select",{value:c.isActive?"true":"false",onChange:e=>u({...c,isActive:"true"===e.target.value}),className:"w-full px-4 py-2 border rounded-lg",children:[de.jsx("option",{value:"true",children:"ang hot ng"}),de.jsx("option",{value:"false",children:"Tt"})]})]})]}),de.jsxs("div",{className:"flex gap-2",children:[de.jsx(ye,{type:"submit",children:a?"Cp nht":"To mi"}),de.jsx(ye,{type:"button",variant:"outline",onClick:()=>{l(!1),o(null),u({title:"",imageUrl:"",linkUrl:"",order:0,isActive:!0})},children:"Hy"})]})]})]}),de.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{className:"bg-gray-50",children:de.jsxs("tr",{children:[de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hnh nh"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Tiu "}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Link"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Th t"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Trng thi"}),de.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Thao tc"})]})}),de.jsx("tbody",{className:"divide-y divide-gray-200",children:0===e.length?de.jsx("tr",{children:de.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Cha c banner no"})}):e.map(e=>de.jsxs("tr",{children:[de.jsx("td",{className:"px-6 py-4",children:de.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-20 h-12 object-cover rounded"})}),de.jsx("td",{className:"px-6 py-4 text-sm",children:e.title}),de.jsx("td",{className:"px-6 py-4 text-sm",children:e.linkUrl?de.jsx("a",{href:e.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Xem link"}):de.jsx("span",{className:"text-gray-400",children:""})}),de.jsx("td",{className:"px-6 py-4 text-sm",children:e.order}),de.jsx("td",{className:"px-6 py-4",children:de.jsx("span",{className:"px-2 py-1 text-xs rounded "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"Hot ng":"Tt"})}),de.jsx("td",{className:"px-6 py-4",children:de.jsxs("div",{className:"flex gap-2",children:[de.jsx("button",{onClick:()=>(e=>{o(e),u({title:e.title||"",imageUrl:e.imageUrl||"",linkUrl:e.linkUrl||"",order:e.order||0,isActive:void 0===e.isActive||e.isActive}),l(!0)})(e),className:"text-blue-500 hover:text-blue-700 text-sm",children:"Sa"}),de.jsx("button",{onClick:()=>(async e=>{if(confirm("Bn c chc mun xa banner ny?"))try{await Xn.delete(`/banners/${e}`),alert("Xa banner thnh cng!"),d()}catch(t){console.error("Delete banner failed",t),alert("Xa banner tht bi!")}})(e.id||e._id),className:"text-red-500 hover:text-red-700 text-sm",children:"Xa"})]})})]},e.id||e._id))})]})})]})}function si(){const[e,t]=n.useState([]),[r,s]=n.useState(!0),[a,o]=n.useState({userId:"",endpoint:"",method:"",startDate:"",endDate:""}),[i,l]=n.useState(1),[c,u]=n.useState(1);n.useEffect(()=>{d()},[i,a]);const d=async()=>{try{s(!0);let e="/auditlogs/errors";const n=new URLSearchParams;if(a.userId)e=`/auditlogs/by-user/${a.userId}`,n.append("limit","1000");else if(a.startDate||a.endDate){if(e="/auditlogs/by-date-range",a.startDate)n.append("startDate",new Date(a.startDate).toISOString());else{const e=new Date;e.setDate(e.getDate()-30),n.append("startDate",e.toISOString())}a.endDate?n.append("endDate",new Date(a.endDate).toISOString()):n.append("endDate",(new Date).toISOString()),n.append("limit","1000")}else n.append("limit","100");const r=await Zn(`${e}?${n.toString()}`);let o=Array.isArray(r)?r:[];a.endpoint&&(o=o.filter(e=>(e.endpoint||e.path||"").toLowerCase().includes(a.endpoint.toLowerCase()))),a.method&&(o=o.filter(e=>(e.method||"").toUpperCase()===a.method.toUpperCase()));const l=20*(i-1),c=l+20;t(o.slice(l,c)),u(Math.ceil(o.length/20))}catch(e){console.error("Error loading audit logs:",e),qs.error("Khng th ti audit logs"),t([])}finally{s(!1)}},h=e=>{switch(e?.toUpperCase()){case"GET":return"default";case"POST":return"success";case"PUT":case"PATCH":return"warning";case"DELETE":return"destructive";default:return"outline"}};return de.jsxs("div",{className:"container-ld py-8",children:[de.jsxs("div",{className:"mb-6",children:[de.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Audit Logs"}),de.jsx("p",{className:"text-gray-600",children:"Xem lch s hot ng ca h thng"})]}),de.jsxs(Vo,{className:"p-6 mb-6",children:[de.jsx("h2",{className:"text-lg font-semibold mb-4",children:"B lc"}),de.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"User ID"}),de.jsx(ws,{value:a.userId,onChange:e=>o({...a,userId:e.target.value}),placeholder:"Nhp User ID"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Endpoint"}),de.jsx(ws,{value:a.endpoint,onChange:e=>o({...a,endpoint:e.target.value}),placeholder:"/api/projects"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"Method"}),de.jsx(ws,{value:a.method,onChange:e=>o({...a,method:e.target.value}),placeholder:"GET, POST, PUT, DELETE"})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"T ngy"}),de.jsx(ws,{type:"date",value:a.startDate,onChange:e=>o({...a,startDate:e.target.value})})]}),de.jsxs("div",{children:[de.jsx("label",{className:"block text-sm font-medium mb-2",children:"n ngy"}),de.jsx(ws,{type:"date",value:a.endDate,onChange:e=>o({...a,endDate:e.target.value})})]}),de.jsx("div",{className:"flex items-end",children:de.jsx(ye,{onClick:()=>{o({userId:"",endpoint:"",method:"",startDate:"",endDate:""}),l(1)},variant:"outline",className:"w-full",children:"Xa b lc"})})]})]}),r?de.jsx(Ts,{}):0===e.length?de.jsx(Vo,{className:"p-12 text-center",children:de.jsx("p",{className:"text-gray-500",children:"Khng c audit log no"})}):de.jsxs(de.Fragment,{children:[de.jsx(Vo,{className:"p-6",children:de.jsx("div",{className:"overflow-x-auto",children:de.jsxs("table",{className:"w-full",children:[de.jsx("thead",{children:de.jsxs("tr",{className:"border-b",children:[de.jsx("th",{className:"text-left p-2",children:"Thi gian"}),de.jsx("th",{className:"text-left p-2",children:"User"}),de.jsx("th",{className:"text-left p-2",children:"Method"}),de.jsx("th",{className:"text-left p-2",children:"Endpoint"}),de.jsx("th",{className:"text-left p-2",children:"Status"}),de.jsx("th",{className:"text-left p-2",children:"Duration"}),de.jsx("th",{className:"text-left p-2",children:"IP"})]})}),de.jsx("tbody",{children:e.map(e=>{return de.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[de.jsx("td",{className:"p-2 text-sm",children:new Date(e.createdAt||e.timestamp).toLocaleString("vi-VN")}),de.jsx("td",{className:"p-2 text-sm",children:e.userId?de.jsx("span",{className:"font-mono text-xs",children:e.userId.slice(-8)}):de.jsx("span",{className:"text-gray-400",children:"-"})}),de.jsx("td",{className:"p-2",children:de.jsx(Bo,{variant:h(e.method),children:e.method})}),de.jsx("td",{className:"p-2 text-sm font-mono",children:e.endpoint||e.path}),de.jsx("td",{className:"p-2",children:de.jsx("span",{className:(t=e.statusCode,t>=200&&t<300?"text-green-600":t>=300&&t<400?"text-blue-600":t>=400&&t<500?"text-yellow-600":t>=500?"text-red-600":"text-gray-600"),children:e.statusCode})}),de.jsx("td",{className:"p-2 text-sm",children:e.duration?`${e.duration}ms`:"-"}),de.jsx("td",{className:"p-2 text-sm font-mono text-xs",children:e.ipAddress||"-"})]},e.id);var t})})]})})}),c>1&&de.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[de.jsx(ye,{variant:"outline",onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===i,children:"Trc"}),de.jsxs("span",{className:"text-sm",children:["Trang ",i," / ",c]}),de.jsx(ye,{variant:"outline",onClick:()=>l(e=>Math.min(c,e+1)),disabled:i===c,children:"Sau"})]})]})]})}function ai({children:e}){return localStorage.getItem("token")||sessionStorage.getItem("token")?e:de.jsx(h,{to:"/login",replace:!0})}function oi({children:e}){const t=localStorage.getItem("token")||sessionStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user")||sessionStorage.getItem("user")||"null");return t?"admin"!==n?.role?.toLowerCase()?de.jsx(h,{to:"/",replace:!0}):e:de.jsx(h,{to:"/login",replace:!0})}function ii({children:e}){return localStorage.getItem("token")||sessionStorage.getItem("token")?de.jsx(h,{to:"/",replace:!0}):e}function li(){const e=o().pathname.startsWith("/admin");ds(e=>e.addNotification);const t=ds(e=>e.fetchFromServer),r=ds(e=>e.initConnection);return n.useEffect(()=>{(localStorage.getItem("token")||sessionStorage.getItem("token")||localStorage.getItem("accessToken"))&&(console.log(" Loading notifications from DB..."),t(),r())},[t,r]),de.jsxs("div",{className:"min-h-screen flex flex-col",children:[de.jsx(gs,{}),de.jsx("main",{className:"flex-1",children:de.jsxs(m,{children:[de.jsx(f,{path:"/",element:de.jsx(ys,{})}),de.jsx(f,{path:"/how-it-works",element:de.jsx(vs,{})}),de.jsx(f,{path:"/projects",element:de.jsx(Ps,{})}),de.jsx(f,{path:"/projects/:id",element:de.jsx(qo,{})}),de.jsx(f,{path:"/contracts/:id",element:de.jsx(ai,{children:de.jsx(Ko,{})})}),de.jsx(f,{path:"/wallet",element:de.jsx(Uo,{})}),de.jsx(f,{path:"/payment-success",element:de.jsx($o,{})}),de.jsx(f,{path:"/payment-failed",element:de.jsx(Ho,{})}),de.jsx(f,{path:"/db-test",element:de.jsx(Mo,{})}),de.jsx(f,{path:"/post-project",element:de.jsx(ai,{children:de.jsx(_s,{})})}),de.jsxs(f,{path:"/account",element:de.jsx(ai,{children:de.jsx(Is,{})}),children:[de.jsx(f,{index:!0,element:de.jsx(h,{to:"profile",replace:!0})}),de.jsx(f,{path:"profile",element:de.jsx(Ls,{})}),de.jsx(f,{path:"my-projects",element:de.jsx(po,{})}),de.jsx(f,{path:"cvs",element:de.jsx(Qo,{})}),de.jsx(f,{path:"proposals",element:de.jsx(Wo,{})}),de.jsx(f,{path:"messages",element:de.jsx(fo,{})}),de.jsx(f,{path:"settings",element:de.jsx(ra,{})}),de.jsx(f,{path:"companies",element:de.jsx(Go,{})})]}),de.jsx(f,{path:"/profile/:userId",element:de.jsx(Is,{}),children:de.jsx(f,{index:!0,element:de.jsx(Ls,{})})}),de.jsx(f,{path:"/users",element:de.jsx(Oo,{})}),de.jsx(f,{path:"/login",element:de.jsx(ii,{children:de.jsx(Lo,{})})}),de.jsx(f,{path:"/register",element:de.jsx(ii,{children:de.jsx(Do,{})})}),de.jsxs(f,{path:"/freelancer",element:de.jsx(go,{}),children:[de.jsx(f,{index:!0,element:de.jsx(h,{to:"intro",replace:!0})}),de.jsx(f,{path:"intro",element:de.jsx(bo,{})}),de.jsx(f,{path:"services",element:de.jsx(No,{})}),de.jsx(f,{path:"portfolio",element:de.jsx(ko,{})}),de.jsx(f,{path:"reviews",element:de.jsx(_o,{})})]}),de.jsxs(f,{path:"/admin",element:de.jsx(oi,{children:de.jsx(Xo,{})}),children:[de.jsx(f,{path:"/admin",element:de.jsx(Yo,{})}),de.jsx(f,{path:"/admin/users",element:de.jsx(Jo,{})}),de.jsx(f,{path:"/admin/projects",element:de.jsx(Zo,{})}),de.jsx(f,{path:"/admin/contracts",element:de.jsx(ei,{})}),de.jsx(f,{path:"/admin/statistics",element:de.jsx(ti,{})}),de.jsx(f,{path:"/admin/settings",element:de.jsx(ni,{})}),de.jsx(f,{path:"/admin/banners",element:de.jsx(ri,{})}),de.jsx(f,{path:"/admin/audit-logs",element:de.jsx(si,{})})]}),de.jsx(f,{path:"*",element:de.jsx("div",{className:"container-ld py-24",children:"404"})})]})}),!e&&de.jsx(xs,{}),de.jsx(Zs,{richColors:!0,position:"top-center"})]})}function ci(){return de.jsx(li,{})}be.createRoot(document.getElementById("root")).render(de.jsx(e.StrictMode,{children:de.jsx(To,{clientId:"788333487085-464ddcp2362pl7da00ih2m2ig62mvv26.apps.googleusercontent.com",children:de.jsx(g,{children:de.jsx(ci,{})})})}));
